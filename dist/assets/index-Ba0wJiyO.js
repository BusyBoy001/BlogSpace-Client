function fy(a,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in a)){const d=Object.getOwnPropertyDescriptor(i,l);d&&Object.defineProperty(a,l,d.get?d:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(l){if(l.ep)return;l.ep=!0;const d=r(l);fetch(l.href,d)}})();function py(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Td={exports:{}},Ra={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm;function gy(){if(Xm)return Ra;Xm=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(i,l,d){var f=null;if(d!==void 0&&(f=""+d),l.key!==void 0&&(f=""+l.key),"key"in l){d={};for(var p in l)p!=="key"&&(d[p]=l[p])}else d=l;return l=d.ref,{$$typeof:a,type:i,key:f,ref:l!==void 0?l:null,props:d}}return Ra.Fragment=t,Ra.jsx=r,Ra.jsxs=r,Ra}var Gm;function my(){return Gm||(Gm=1,Td.exports=gy()),Td.exports}var u=my(),jd={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function by(){if(Zm)return me;Zm=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function T(C,q,re){this.props=C,this.context=q,this.refs=k,this.updater=re||B}T.prototype.isReactComponent={},T.prototype.setState=function(C,q){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,q,"setState")},T.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function D(){}D.prototype=T.prototype;function I(C,q,re){this.props=C,this.context=q,this.refs=k,this.updater=re||B}var H=I.prototype=new D;H.constructor=I,S(H,T.prototype),H.isPureReactComponent=!0;var M=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function Q(C,q,re,te,le,Se){return re=Se.ref,{$$typeof:a,type:C,key:q,ref:re!==void 0?re:null,props:Se}}function G(C,q){return Q(C.type,q,void 0,void 0,void 0,C.props)}function Z(C){return typeof C=="object"&&C!==null&&C.$$typeof===a}function ie(C){var q={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(re){return q[re]})}var ce=/\/+/g;function ee(C,q){return typeof C=="object"&&C!==null&&C.key!=null?ie(""+C.key):q.toString(36)}function $(){}function J(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then($,$):(C.status="pending",C.then(function(q){C.status==="pending"&&(C.status="fulfilled",C.value=q)},function(q){C.status==="pending"&&(C.status="rejected",C.reason=q)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function X(C,q,re,te,le){var Se=typeof C;(Se==="undefined"||Se==="boolean")&&(C=null);var pe=!1;if(C===null)pe=!0;else switch(Se){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(C.$$typeof){case a:case t:pe=!0;break;case v:return pe=C._init,X(pe(C._payload),q,re,te,le)}}if(pe)return le=le(C),pe=te===""?"."+ee(C,0):te,M(le)?(re="",pe!=null&&(re=pe.replace(ce,"$&/")+"/"),X(le,q,re,"",function(On){return On})):le!=null&&(Z(le)&&(le=G(le,re+(le.key==null||C&&C.key===le.key?"":(""+le.key).replace(ce,"$&/")+"/")+pe)),q.push(le)),1;pe=0;var wt=te===""?".":te+":";if(M(C))for(var De=0;De<C.length;De++)te=C[De],Se=wt+ee(te,De),pe+=X(te,q,re,Se,le);else if(De=w(C),typeof De=="function")for(C=De.call(C),De=0;!(te=C.next()).done;)te=te.value,Se=wt+ee(te,De++),pe+=X(te,q,re,Se,le);else if(Se==="object"){if(typeof C.then=="function")return X(J(C),q,re,te,le);throw q=String(C),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return pe}function A(C,q,re){if(C==null)return C;var te=[],le=0;return X(C,te,"","",function(Se){return q.call(re,Se,le++)}),te}function K(C){if(C._status===-1){var q=C._result;q=q(),q.then(function(re){(C._status===0||C._status===-1)&&(C._status=1,C._result=re)},function(re){(C._status===0||C._status===-1)&&(C._status=2,C._result=re)}),C._status===-1&&(C._status=0,C._result=q)}if(C._status===1)return C._result.default;throw C._result}var W=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function oe(){}return me.Children={map:A,forEach:function(C,q,re){A(C,function(){q.apply(this,arguments)},re)},count:function(C){var q=0;return A(C,function(){q++}),q},toArray:function(C){return A(C,function(q){return q})||[]},only:function(C){if(!Z(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},me.Component=T,me.Fragment=r,me.Profiler=l,me.PureComponent=I,me.StrictMode=i,me.Suspense=m,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,me.__COMPILER_RUNTIME={__proto__:null,c:function(C){return U.H.useMemoCache(C)}},me.cache=function(C){return function(){return C.apply(null,arguments)}},me.cloneElement=function(C,q,re){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var te=S({},C.props),le=C.key,Se=void 0;if(q!=null)for(pe in q.ref!==void 0&&(Se=void 0),q.key!==void 0&&(le=""+q.key),q)!ne.call(q,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&q.ref===void 0||(te[pe]=q[pe]);var pe=arguments.length-2;if(pe===1)te.children=re;else if(1<pe){for(var wt=Array(pe),De=0;De<pe;De++)wt[De]=arguments[De+2];te.children=wt}return Q(C.type,le,void 0,void 0,Se,te)},me.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:d,_context:C},C},me.createElement=function(C,q,re){var te,le={},Se=null;if(q!=null)for(te in q.key!==void 0&&(Se=""+q.key),q)ne.call(q,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(le[te]=q[te]);var pe=arguments.length-2;if(pe===1)le.children=re;else if(1<pe){for(var wt=Array(pe),De=0;De<pe;De++)wt[De]=arguments[De+2];le.children=wt}if(C&&C.defaultProps)for(te in pe=C.defaultProps,pe)le[te]===void 0&&(le[te]=pe[te]);return Q(C,Se,void 0,void 0,null,le)},me.createRef=function(){return{current:null}},me.forwardRef=function(C){return{$$typeof:p,render:C}},me.isValidElement=Z,me.lazy=function(C){return{$$typeof:v,_payload:{_status:-1,_result:C},_init:K}},me.memo=function(C,q){return{$$typeof:g,type:C,compare:q===void 0?null:q}},me.startTransition=function(C){var q=U.T,re={};U.T=re;try{var te=C(),le=U.S;le!==null&&le(re,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(oe,W)}catch(Se){W(Se)}finally{U.T=q}},me.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},me.use=function(C){return U.H.use(C)},me.useActionState=function(C,q,re){return U.H.useActionState(C,q,re)},me.useCallback=function(C,q){return U.H.useCallback(C,q)},me.useContext=function(C){return U.H.useContext(C)},me.useDebugValue=function(){},me.useDeferredValue=function(C,q){return U.H.useDeferredValue(C,q)},me.useEffect=function(C,q,re){var te=U.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(C,q)},me.useId=function(){return U.H.useId()},me.useImperativeHandle=function(C,q,re){return U.H.useImperativeHandle(C,q,re)},me.useInsertionEffect=function(C,q){return U.H.useInsertionEffect(C,q)},me.useLayoutEffect=function(C,q){return U.H.useLayoutEffect(C,q)},me.useMemo=function(C,q){return U.H.useMemo(C,q)},me.useOptimistic=function(C,q){return U.H.useOptimistic(C,q)},me.useReducer=function(C,q,re){return U.H.useReducer(C,q,re)},me.useRef=function(C){return U.H.useRef(C)},me.useState=function(C){return U.H.useState(C)},me.useSyncExternalStore=function(C,q,re){return U.H.useSyncExternalStore(C,q,re)},me.useTransition=function(){return U.H.useTransition()},me.version="19.1.0",me}var Qm;function cu(){return Qm||(Qm=1,jd.exports=by()),jd.exports}var j=cu();const sn=py(j),vy=fy({__proto__:null,default:sn},[j]);var Nd={exports:{}},Da={},Bd={exports:{}},Od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km;function xy(){return Km||(Km=1,function(a){function t(A,K){var W=A.length;A.push(K);e:for(;0<W;){var oe=W-1>>>1,C=A[oe];if(0<l(C,K))A[oe]=K,A[W]=C,W=oe;else break e}}function r(A){return A.length===0?null:A[0]}function i(A){if(A.length===0)return null;var K=A[0],W=A.pop();if(W!==K){A[0]=W;e:for(var oe=0,C=A.length,q=C>>>1;oe<q;){var re=2*(oe+1)-1,te=A[re],le=re+1,Se=A[le];if(0>l(te,W))le<C&&0>l(Se,te)?(A[oe]=Se,A[le]=W,oe=le):(A[oe]=te,A[re]=W,oe=re);else if(le<C&&0>l(Se,W))A[oe]=Se,A[le]=W,oe=le;else break e}}return K}function l(A,K){var W=A.sortIndex-K.sortIndex;return W!==0?W:A.id-K.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;a.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();a.unstable_now=function(){return f.now()-p}}var m=[],g=[],v=1,y=null,w=3,B=!1,S=!1,k=!1,T=!1,D=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function M(A){for(var K=r(g);K!==null;){if(K.callback===null)i(g);else if(K.startTime<=A)i(g),K.sortIndex=K.expirationTime,t(m,K);else break;K=r(g)}}function U(A){if(k=!1,M(A),!S)if(r(m)!==null)S=!0,ne||(ne=!0,ee());else{var K=r(g);K!==null&&X(U,K.startTime-A)}}var ne=!1,Q=-1,G=5,Z=-1;function ie(){return T?!0:!(a.unstable_now()-Z<G)}function ce(){if(T=!1,ne){var A=a.unstable_now();Z=A;var K=!0;try{e:{S=!1,k&&(k=!1,I(Q),Q=-1),B=!0;var W=w;try{t:{for(M(A),y=r(m);y!==null&&!(y.expirationTime>A&&ie());){var oe=y.callback;if(typeof oe=="function"){y.callback=null,w=y.priorityLevel;var C=oe(y.expirationTime<=A);if(A=a.unstable_now(),typeof C=="function"){y.callback=C,M(A),K=!0;break t}y===r(m)&&i(m),M(A)}else i(m);y=r(m)}if(y!==null)K=!0;else{var q=r(g);q!==null&&X(U,q.startTime-A),K=!1}}break e}finally{y=null,w=W,B=!1}K=void 0}}finally{K?ee():ne=!1}}}var ee;if(typeof H=="function")ee=function(){H(ce)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,J=$.port2;$.port1.onmessage=ce,ee=function(){J.postMessage(null)}}else ee=function(){D(ce,0)};function X(A,K){Q=D(function(){A(a.unstable_now())},K)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(A){A.callback=null},a.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<A?Math.floor(1e3/A):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function(A){switch(w){case 1:case 2:case 3:var K=3;break;default:K=w}var W=w;w=K;try{return A()}finally{w=W}},a.unstable_requestPaint=function(){T=!0},a.unstable_runWithPriority=function(A,K){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=w;w=A;try{return K()}finally{w=W}},a.unstable_scheduleCallback=function(A,K,W){var oe=a.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?oe+W:oe):W=oe,A){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=W+C,A={id:v++,callback:K,priorityLevel:A,startTime:W,expirationTime:C,sortIndex:-1},W>oe?(A.sortIndex=W,t(g,A),r(m)===null&&A===r(g)&&(k?(I(Q),Q=-1):k=!0,X(U,W-oe))):(A.sortIndex=C,t(m,A),S||B||(S=!0,ne||(ne=!0,ee()))),A},a.unstable_shouldYield=ie,a.unstable_wrapCallback=function(A){var K=w;return function(){var W=w;w=K;try{return A.apply(this,arguments)}finally{w=W}}}}(Od)),Od}var Jm;function yy(){return Jm||(Jm=1,Bd.exports=xy()),Bd.exports}var Md={exports:{}},dt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function ky(){if(Wm)return dt;Wm=1;var a=cu();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function d(m,g,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:m,containerInfo:g,implementation:v}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,dt.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return d(m,g,null,v)},dt.flushSync=function(m){var g=f.T,v=i.p;try{if(f.T=null,i.p=2,m)return m()}finally{f.T=g,i.p=v,i.d.f()}},dt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},dt.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},dt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,y=p(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,B=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:B}):v==="script"&&i.d.X(m,{crossOrigin:y,integrity:w,fetchPriority:B,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},dt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,y=p(v,g.crossOrigin);i.d.L(m,v,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dt.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=p(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},dt.requestFormReset=function(m){i.d.r(m)},dt.unstable_batchedUpdates=function(m,g){return m(g)},dt.useFormState=function(m,g,v){return f.H.useFormState(m,g,v)},dt.useFormStatus=function(){return f.H.useHostTransitionStatus()},dt.version="19.1.0",dt}var e0;function L0(){if(e0)return Md.exports;e0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Md.exports=ky(),Md.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function wy(){if(t0)return Da;t0=1;var a=yy(),t=cu(),r=L0();function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(i(188))}function m(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(i(188));return n!==e?null:e}for(var o=e,s=n;;){var c=o.return;if(c===null)break;var h=c.alternate;if(h===null){if(s=c.return,s!==null){o=s;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===o)return p(c),e;if(h===s)return p(c),n;h=h.sibling}throw Error(i(188))}if(o.return!==s.return)o=c,s=h;else{for(var b=!1,x=c.child;x;){if(x===o){b=!0,o=c,s=h;break}if(x===s){b=!0,s=c,o=h;break}x=x.sibling}if(!b){for(x=h.child;x;){if(x===o){b=!0,o=h,s=c;break}if(x===s){b=!0,s=h,o=c;break}x=x.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==s)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?e:n}function g(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=g(e),n!==null)return n;e=e.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),H=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var $=Symbol.for("react.client.reference");function J(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===$?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case T:return"Profiler";case k:return"StrictMode";case U:return"Suspense";case ne:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case B:return"Portal";case H:return(e.displayName||"Context")+".Provider";case I:return(e._context.displayName||"Context")+".Consumer";case M:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return n=e.displayName||null,n!==null?n:J(e.type)||"Memo";case G:n=e._payload,e=e._init;try{return J(e(n))}catch{}}return null}var X=Array.isArray,A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},oe=[],C=-1;function q(e){return{current:e}}function re(e){0>C||(e.current=oe[C],oe[C]=null,C--)}function te(e,n){C++,oe[C]=e.current,e.current=n}var le=q(null),Se=q(null),pe=q(null),wt=q(null);function De(e,n){switch(te(pe,n),te(Se,e),te(le,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?km(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=km(n),e=wm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}re(le),te(le,e)}function On(){re(le),re(Se),re(pe)}function ul(e){e.memoizedState!==null&&te(wt,e);var n=le.current,o=wm(n,e.type);n!==o&&(te(Se,e),te(le,o))}function ri(e){Se.current===e&&(re(le),re(Se)),wt.current===e&&(re(wt),Oa._currentValue=W)}var hl=Object.prototype.hasOwnProperty,fl=a.unstable_scheduleCallback,pl=a.unstable_cancelCallback,$v=a.unstable_shouldYield,Vv=a.unstable_requestPaint,Qt=a.unstable_now,Xv=a.unstable_getCurrentPriorityLevel,ef=a.unstable_ImmediatePriority,tf=a.unstable_UserBlockingPriority,oi=a.unstable_NormalPriority,Gv=a.unstable_LowPriority,nf=a.unstable_IdlePriority,Zv=a.log,Qv=a.unstable_setDisableYieldValue,Ho=null,St=null;function Mn(e){if(typeof Zv=="function"&&Qv(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(Ho,e)}catch{}}var Et=Math.clz32?Math.clz32:Wv,Kv=Math.log,Jv=Math.LN2;function Wv(e){return e>>>=0,e===0?32:31-(Kv(e)/Jv|0)|0}var ai=256,ii=4194304;function ur(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function si(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var c=0,h=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var x=s&134217727;return x!==0?(s=x&~h,s!==0?c=ur(s):(b&=x,b!==0?c=ur(b):o||(o=x&~e,o!==0&&(c=ur(o))))):(x=s&~h,x!==0?c=ur(x):b!==0?c=ur(b):o||(o=s&~e,o!==0&&(c=ur(o)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,o=n&-n,h>=o||h===32&&(o&4194048)!==0)?n:c}function Io(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function e1(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rf(){var e=ai;return ai<<=1,(ai&4194048)===0&&(ai=256),e}function of(){var e=ii;return ii<<=1,(ii&62914560)===0&&(ii=4194304),e}function gl(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function Uo(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function t1(e,n,o,s,c,h){var b=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var x=e.entanglements,E=e.expirationTimes,L=e.hiddenUpdates;for(o=b&~o;0<o;){var P=31-Et(o),V=1<<P;x[P]=0,E[P]=-1;var R=L[P];if(R!==null)for(L[P]=null,P=0;P<R.length;P++){var z=R[P];z!==null&&(z.lane&=-536870913)}o&=~V}s!==0&&af(e,s,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(b&~n))}function af(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Et(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&4194090}function sf(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-Et(o),c=1<<s;c&n|e[s]&n&&(e[s]|=n),o&=~c}}function ml(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lf(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:Pm(e.type))}function n1(e,n){var o=K.p;try{return K.p=e,n()}finally{K.p=o}}var _n=Math.random().toString(36).slice(2),lt="__reactFiber$"+_n,mt="__reactProps$"+_n,Hr="__reactContainer$"+_n,vl="__reactEvents$"+_n,r1="__reactListeners$"+_n,o1="__reactHandles$"+_n,cf="__reactResources$"+_n,Po="__reactMarker$"+_n;function xl(e){delete e[lt],delete e[mt],delete e[vl],delete e[r1],delete e[o1]}function Ir(e){var n=e[lt];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Hr]||o[lt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Tm(e);e!==null;){if(o=e[lt])return o;e=Tm(e)}return n}e=o,o=e.parentNode}return null}function Ur(e){if(e=e[lt]||e[Hr]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function qo(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(i(33))}function Pr(e){var n=e[cf];return n||(n=e[cf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function et(e){e[Po]=!0}var df=new Set,uf={};function hr(e,n){qr(e,n),qr(e+"Capture",n)}function qr(e,n){for(uf[e]=n,e=0;e<n.length;e++)df.add(n[e])}var a1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hf={},ff={};function i1(e){return hl.call(ff,e)?!0:hl.call(hf,e)?!1:a1.test(e)?ff[e]=!0:(hf[e]=!0,!1)}function li(e,n,o){if(i1(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function ci(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function cn(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}var yl,pf;function Yr(e){if(yl===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);yl=n&&n[1]||"",pf=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yl+e+pf}var kl=!1;function wl(e,n){if(!e||kl)return"";kl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(z){var R=z}Reflect.construct(e,[],V)}else{try{V.call()}catch(z){R=z}e.call(V.prototype)}}else{try{throw Error()}catch(z){R=z}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(z){if(z&&R&&typeof z.stack=="string")return[z.stack,R.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),b=h[0],x=h[1];if(b&&x){var E=b.split(`
`),L=x.split(`
`);for(c=s=0;s<E.length&&!E[s].includes("DetermineComponentFrameRoot");)s++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(s===E.length||c===L.length)for(s=E.length-1,c=L.length-1;1<=s&&0<=c&&E[s]!==L[c];)c--;for(;1<=s&&0<=c;s--,c--)if(E[s]!==L[c]){if(s!==1||c!==1)do if(s--,c--,0>c||E[s]!==L[c]){var P=`
`+E[s].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=s&&0<=c);break}}}finally{kl=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?Yr(o):""}function s1(e){switch(e.tag){case 26:case 27:case 5:return Yr(e.type);case 16:return Yr("Lazy");case 13:return Yr("Suspense");case 19:return Yr("SuspenseList");case 0:case 15:return wl(e.type,!1);case 11:return wl(e.type.render,!1);case 1:return wl(e.type,!0);case 31:return Yr("Activity");default:return""}}function gf(e){try{var n="";do n+=s1(e),e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function l1(e){var n=mf(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),s=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,h=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(b){s=""+b,h.call(this,b)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(b){s=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function di(e){e._valueTracker||(e._valueTracker=l1(e))}function bf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=mf(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var c1=/[\n"\\]/g;function Rt(e){return e.replace(c1,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Sl(e,n,o,s,c,h,b,x){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Lt(n)):e.value!==""+Lt(n)&&(e.value=""+Lt(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?El(e,b,Lt(n)):o!=null?El(e,b,Lt(o)):s!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Lt(x):e.removeAttribute("name")}function vf(e,n,o,s,c,h,b,x){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||o!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;o=o!=null?""+Lt(o):"",n=n!=null?""+Lt(n):o,x||n===e.value||(e.value=n),e.defaultValue=n}s=s??c,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=x?e.checked:!!s,e.defaultChecked=!!s,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b)}function El(e,n,o){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Fr(e,n,o,s){if(e=e.options,n){n={};for(var c=0;c<o.length;c++)n["$"+o[c]]=!0;for(o=0;o<e.length;o++)c=n.hasOwnProperty("$"+e[o].value),e[o].selected!==c&&(e[o].selected=c),c&&s&&(e[o].defaultSelected=!0)}else{for(o=""+Lt(o),n=null,c=0;c<e.length;c++){if(e[c].value===o){e[c].selected=!0,s&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function xf(e,n,o){if(n!=null&&(n=""+Lt(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+Lt(o):""}function yf(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(i(92));if(X(s)){if(1<s.length)throw Error(i(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=Lt(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s)}function $r(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var d1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kf(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||d1.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function wf(e,n,o){if(n!=null&&typeof n!="object")throw Error(i(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var c in n)s=n[c],n.hasOwnProperty(c)&&o[c]!==s&&kf(e,c,s)}else for(var h in n)n.hasOwnProperty(h)&&kf(e,h,n[h])}function Cl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),h1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hi(e){return h1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tl=null;function jl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vr=null,Xr=null;function Sf(e){var n=Ur(e);if(n&&(e=n.stateNode)){var o=e[mt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Sl(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rt(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var c=s[mt]||null;if(!c)throw Error(i(90));Sl(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&bf(s)}break e;case"textarea":xf(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&Fr(e,!!o.multiple,n,!1)}}}var Nl=!1;function Ef(e,n,o){if(Nl)return e(n,o);Nl=!0;try{var s=e(n);return s}finally{if(Nl=!1,(Vr!==null||Xr!==null)&&(Ki(),Vr&&(n=Vr,e=Xr,Xr=Vr=null,Sf(n),e)))for(n=0;n<e.length;n++)Sf(e[n])}}function Yo(e,n){var o=e.stateNode;if(o===null)return null;var s=o[mt]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(i(231,n,typeof o));return o}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bl=!1;if(dn)try{var Fo={};Object.defineProperty(Fo,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",Fo,Fo),window.removeEventListener("test",Fo,Fo)}catch{Bl=!1}var An=null,Ol=null,fi=null;function Cf(){if(fi)return fi;var e,n=Ol,o=n.length,s,c="value"in An?An.value:An.textContent,h=c.length;for(e=0;e<o&&n[e]===c[e];e++);var b=o-e;for(s=1;s<=b&&n[o-s]===c[h-s];s++);return fi=c.slice(e,1<s?1-s:void 0)}function pi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function gi(){return!0}function Tf(){return!1}function bt(e){function n(o,s,c,h,b){this._reactName=o,this._targetInst=c,this.type=s,this.nativeEvent=h,this.target=b,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(o=e[x],this[x]=o?o(h):h[x]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?gi:Tf,this.isPropagationStopped=Tf,this}return v(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=gi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=gi)},persist:function(){},isPersistent:gi}),n}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=bt(fr),$o=v({},fr,{view:0,detail:0}),f1=bt($o),Ml,_l,Vo,bi=v({},$o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ll,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vo&&(Vo&&e.type==="mousemove"?(Ml=e.screenX-Vo.screenX,_l=e.screenY-Vo.screenY):_l=Ml=0,Vo=e),Ml)},movementY:function(e){return"movementY"in e?e.movementY:_l}}),jf=bt(bi),p1=v({},bi,{dataTransfer:0}),g1=bt(p1),m1=v({},$o,{relatedTarget:0}),Al=bt(m1),b1=v({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),v1=bt(b1),x1=v({},fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y1=bt(x1),k1=v({},fr,{data:0}),Nf=bt(k1),w1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C1(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=E1[e])?!!n[e]:!1}function Ll(){return C1}var T1=v({},$o,{key:function(e){if(e.key){var n=w1[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=pi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?S1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ll,charCode:function(e){return e.type==="keypress"?pi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),j1=bt(T1),N1=v({},bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bf=bt(N1),B1=v({},$o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ll}),O1=bt(B1),M1=v({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_1=bt(M1),A1=v({},bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),L1=bt(A1),R1=v({},fr,{newState:0,oldState:0}),D1=bt(R1),z1=[9,13,27,32],Rl=dn&&"CompositionEvent"in window,Xo=null;dn&&"documentMode"in document&&(Xo=document.documentMode);var H1=dn&&"TextEvent"in window&&!Xo,Of=dn&&(!Rl||Xo&&8<Xo&&11>=Xo),Mf=" ",_f=!1;function Af(e,n){switch(e){case"keyup":return z1.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gr=!1;function I1(e,n){switch(e){case"compositionend":return Lf(n);case"keypress":return n.which!==32?null:(_f=!0,Mf);case"textInput":return e=n.data,e===Mf&&_f?null:e;default:return null}}function U1(e,n){if(Gr)return e==="compositionend"||!Rl&&Af(e,n)?(e=Cf(),fi=Ol=An=null,Gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Of&&n.locale!=="ko"?null:n.data;default:return null}}var P1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!P1[e.type]:n==="textarea"}function Df(e,n,o,s){Vr?Xr?Xr.push(s):Xr=[s]:Vr=s,n=rs(n,"onChange"),0<n.length&&(o=new mi("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var Go=null,Zo=null;function q1(e){mm(e,0)}function vi(e){var n=qo(e);if(bf(n))return e}function zf(e,n){if(e==="change")return n}var Hf=!1;if(dn){var Dl;if(dn){var zl="oninput"in document;if(!zl){var If=document.createElement("div");If.setAttribute("oninput","return;"),zl=typeof If.oninput=="function"}Dl=zl}else Dl=!1;Hf=Dl&&(!document.documentMode||9<document.documentMode)}function Uf(){Go&&(Go.detachEvent("onpropertychange",Pf),Zo=Go=null)}function Pf(e){if(e.propertyName==="value"&&vi(Zo)){var n=[];Df(n,Zo,e,jl(e)),Ef(q1,n)}}function Y1(e,n,o){e==="focusin"?(Uf(),Go=n,Zo=o,Go.attachEvent("onpropertychange",Pf)):e==="focusout"&&Uf()}function F1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vi(Zo)}function $1(e,n){if(e==="click")return vi(n)}function V1(e,n){if(e==="input"||e==="change")return vi(n)}function X1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ct=typeof Object.is=="function"?Object.is:X1;function Qo(e,n){if(Ct(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var c=o[s];if(!hl.call(n,c)||!Ct(e[c],n[c]))return!1}return!0}function qf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yf(e,n){var o=qf(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=qf(o)}}function Ff(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ff(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function $f(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=ui(e.document)}return n}function Hl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var G1=dn&&"documentMode"in document&&11>=document.documentMode,Zr=null,Il=null,Ko=null,Ul=!1;function Vf(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ul||Zr==null||Zr!==ui(s)||(s=Zr,"selectionStart"in s&&Hl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ko&&Qo(Ko,s)||(Ko=s,s=rs(Il,"onSelect"),0<s.length&&(n=new mi("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=Zr)))}function pr(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var Qr={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionrun:pr("Transition","TransitionRun"),transitionstart:pr("Transition","TransitionStart"),transitioncancel:pr("Transition","TransitionCancel"),transitionend:pr("Transition","TransitionEnd")},Pl={},Xf={};dn&&(Xf=document.createElement("div").style,"AnimationEvent"in window||(delete Qr.animationend.animation,delete Qr.animationiteration.animation,delete Qr.animationstart.animation),"TransitionEvent"in window||delete Qr.transitionend.transition);function gr(e){if(Pl[e])return Pl[e];if(!Qr[e])return e;var n=Qr[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Xf)return Pl[e]=n[o];return e}var Gf=gr("animationend"),Zf=gr("animationiteration"),Qf=gr("animationstart"),Z1=gr("transitionrun"),Q1=gr("transitionstart"),K1=gr("transitioncancel"),Kf=gr("transitionend"),Jf=new Map,ql="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ql.push("scrollEnd");function Vt(e,n){Jf.set(e,n),hr(n,[e])}var Wf=new WeakMap;function Dt(e,n){if(typeof e=="object"&&e!==null){var o=Wf.get(e);return o!==void 0?o:(n={value:e,source:n,stack:gf(n)},Wf.set(e,n),n)}return{value:e,source:n,stack:gf(n)}}var zt=[],Kr=0,Yl=0;function xi(){for(var e=Kr,n=Yl=Kr=0;n<e;){var o=zt[n];zt[n++]=null;var s=zt[n];zt[n++]=null;var c=zt[n];zt[n++]=null;var h=zt[n];if(zt[n++]=null,s!==null&&c!==null){var b=s.pending;b===null?c.next=c:(c.next=b.next,b.next=c),s.pending=c}h!==0&&ep(o,c,h)}}function yi(e,n,o,s){zt[Kr++]=e,zt[Kr++]=n,zt[Kr++]=o,zt[Kr++]=s,Yl|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Fl(e,n,o,s){return yi(e,n,o,s),ki(e)}function Jr(e,n){return yi(e,null,null,n),ki(e)}function ep(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var c=!1,h=e.return;h!==null;)h.childLanes|=o,s=h.alternate,s!==null&&(s.childLanes|=o),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&n!==null&&(c=31-Et(o),e=h.hiddenUpdates,s=e[c],s===null?e[c]=[n]:s.push(n),n.lane=o|536870912),h):null}function ki(e){if(50<wa)throw wa=0,Qc=null,Error(i(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Wr={};function J1(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,n,o,s){return new J1(e,n,o,s)}function $l(e){return e=e.prototype,!(!e||!e.isReactComponent)}function un(e,n){var o=e.alternate;return o===null?(o=Tt(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function tp(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function wi(e,n,o,s,c,h){var b=0;if(s=e,typeof e=="function")$l(e)&&(b=1);else if(typeof e=="string")b=ey(e,o,le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=Tt(31,o,n,c),e.elementType=Z,e.lanes=h,e;case S:return mr(o.children,c,h,n);case k:b=8,c|=24;break;case T:return e=Tt(12,o,n,c|2),e.elementType=T,e.lanes=h,e;case U:return e=Tt(13,o,n,c),e.elementType=U,e.lanes=h,e;case ne:return e=Tt(19,o,n,c),e.elementType=ne,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:case H:b=10;break e;case I:b=9;break e;case M:b=11;break e;case Q:b=14;break e;case G:b=16,s=null;break e}b=29,o=Error(i(130,e===null?"null":typeof e,"")),s=null}return n=Tt(b,o,n,c),n.elementType=e,n.type=s,n.lanes=h,n}function mr(e,n,o,s){return e=Tt(7,e,s,n),e.lanes=o,e}function Vl(e,n,o){return e=Tt(6,e,null,n),e.lanes=o,e}function Xl(e,n,o){return n=Tt(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var eo=[],to=0,Si=null,Ei=0,Ht=[],It=0,br=null,hn=1,fn="";function vr(e,n){eo[to++]=Ei,eo[to++]=Si,Si=e,Ei=n}function np(e,n,o){Ht[It++]=hn,Ht[It++]=fn,Ht[It++]=br,br=e;var s=hn;e=fn;var c=32-Et(s)-1;s&=~(1<<c),o+=1;var h=32-Et(n)+c;if(30<h){var b=c-c%5;h=(s&(1<<b)-1).toString(32),s>>=b,c-=b,hn=1<<32-Et(n)+c|o<<c|s,fn=h+e}else hn=1<<h|o<<c|s,fn=e}function Gl(e){e.return!==null&&(vr(e,1),np(e,1,0))}function Zl(e){for(;e===Si;)Si=eo[--to],eo[to]=null,Ei=eo[--to],eo[to]=null;for(;e===br;)br=Ht[--It],Ht[It]=null,fn=Ht[--It],Ht[It]=null,hn=Ht[--It],Ht[It]=null}var ht=null,Pe=null,Ce=!1,xr=null,Kt=!1,Ql=Error(i(519));function yr(e){var n=Error(i(418,""));throw ea(Dt(n,e)),Ql}function rp(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[lt]=e,n[mt]=s,o){case"dialog":ye("cancel",n),ye("close",n);break;case"iframe":case"object":case"embed":ye("load",n);break;case"video":case"audio":for(o=0;o<Ea.length;o++)ye(Ea[o],n);break;case"source":ye("error",n);break;case"img":case"image":case"link":ye("error",n),ye("load",n);break;case"details":ye("toggle",n);break;case"input":ye("invalid",n),vf(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),di(n);break;case"select":ye("invalid",n);break;case"textarea":ye("invalid",n),yf(n,s.value,s.defaultValue,s.children),di(n)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||ym(n.textContent,o)?(s.popover!=null&&(ye("beforetoggle",n),ye("toggle",n)),s.onScroll!=null&&ye("scroll",n),s.onScrollEnd!=null&&ye("scrollend",n),s.onClick!=null&&(n.onclick=os),n=!0):n=!1,n||yr(e)}function op(e){for(ht=e.return;ht;)switch(ht.tag){case 5:case 13:Kt=!1;return;case 27:case 3:Kt=!0;return;default:ht=ht.return}}function Jo(e){if(e!==ht)return!1;if(!Ce)return op(e),Ce=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||hd(e.type,e.memoizedProps)),o=!o),o&&Pe&&yr(e),op(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(o=e.data,o==="/$"){if(n===0){Pe=Gt(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++;e=e.nextSibling}Pe=null}}else n===27?(n=Pe,Zn(e.type)?(e=md,md=null,Pe=e):Pe=n):Pe=ht?Gt(e.stateNode.nextSibling):null;return!0}function Wo(){Pe=ht=null,Ce=!1}function ap(){var e=xr;return e!==null&&(yt===null?yt=e:yt.push.apply(yt,e),xr=null),e}function ea(e){xr===null?xr=[e]:xr.push(e)}var Kl=q(null),kr=null,pn=null;function Ln(e,n,o){te(Kl,n._currentValue),n._currentValue=o}function gn(e){e._currentValue=Kl.current,re(Kl)}function Jl(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function Wl(e,n,o,s){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var b=c.child;h=h.firstContext;e:for(;h!==null;){var x=h;h=c;for(var E=0;E<n.length;E++)if(x.context===n[E]){h.lanes|=o,x=h.alternate,x!==null&&(x.lanes|=o),Jl(h.return,o,e),s||(b=null);break e}h=x.next}}else if(c.tag===18){if(b=c.return,b===null)throw Error(i(341));b.lanes|=o,h=b.alternate,h!==null&&(h.lanes|=o),Jl(b,o,e),b=null}else b=c.child;if(b!==null)b.return=c;else for(b=c;b!==null;){if(b===e){b=null;break}if(c=b.sibling,c!==null){c.return=b.return,b=c;break}b=b.return}c=b}}function ta(e,n,o,s){e=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var b=c.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var x=c.type;Ct(c.pendingProps.value,b.value)||(e!==null?e.push(x):e=[x])}}else if(c===wt.current){if(b=c.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Oa):e=[Oa])}c=c.return}e!==null&&Wl(n,e,o,s),n.flags|=262144}function Ci(e){for(e=e.firstContext;e!==null;){if(!Ct(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wr(e){kr=e,pn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return ip(kr,e)}function Ti(e,n){return kr===null&&wr(e),ip(e,n)}function ip(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},pn===null){if(e===null)throw Error(i(308));pn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else pn=pn.next=n;return o}var W1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},ex=a.unstable_scheduleCallback,tx=a.unstable_NormalPriority,Qe={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ec(){return{controller:new W1,data:new Map,refCount:0}}function na(e){e.refCount--,e.refCount===0&&ex(tx,function(){e.controller.abort()})}var ra=null,tc=0,no=0,ro=null;function nx(e,n){if(ra===null){var o=ra=[];tc=0,no=rd(),ro={status:"pending",value:void 0,then:function(s){o.push(s)}}}return tc++,n.then(sp,sp),n}function sp(){if(--tc===0&&ra!==null){ro!==null&&(ro.status="fulfilled");var e=ra;ra=null,no=0,ro=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function rx(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(c){o.push(c)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var c=0;c<o.length;c++)(0,o[c])(n)},function(c){for(s.status="rejected",s.reason=c,c=0;c<o.length;c++)(0,o[c])(void 0)}),s}var lp=A.S;A.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&nx(e,n),lp!==null&&lp(e,n)};var Sr=q(null);function nc(){var e=Sr.current;return e!==null?e:Ae.pooledCache}function ji(e,n){n===null?te(Sr,Sr.current):te(Sr,n.pool)}function cp(){var e=nc();return e===null?null:{parent:Qe._currentValue,pool:e}}var oa=Error(i(460)),dp=Error(i(474)),Ni=Error(i(542)),rc={then:function(){}};function up(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bi(){}function hp(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(Bi,Bi),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pp(e),e;default:if(typeof n.status=="string")n.then(Bi,Bi);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=s}},function(s){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pp(e),e}throw aa=n,oa}}var aa=null;function fp(){if(aa===null)throw Error(i(459));var e=aa;return aa=null,e}function pp(e){if(e===oa||e===Ni)throw Error(i(483))}var Rn=!1;function oc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ac(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Dn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zn(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(je&2)!==0){var c=s.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),s.pending=n,n=ki(e),ep(e,null,o),n}return yi(e,s,n,o),ki(e)}function ia(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,sf(e,o)}}function ic(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var c=null,h=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};h===null?c=h=b:h=h.next=b,o=o.next}while(o!==null);h===null?c=h=n:h=h.next=n}else c=h=n;o={baseState:s.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var sc=!1;function sa(){if(sc){var e=ro;if(e!==null)throw e}}function la(e,n,o,s){sc=!1;var c=e.updateQueue;Rn=!1;var h=c.firstBaseUpdate,b=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var E=x,L=E.next;E.next=null,b===null?h=L:b.next=L,b=E;var P=e.alternate;P!==null&&(P=P.updateQueue,x=P.lastBaseUpdate,x!==b&&(x===null?P.firstBaseUpdate=L:x.next=L,P.lastBaseUpdate=E))}if(h!==null){var V=c.baseState;b=0,P=L=E=null,x=h;do{var R=x.lane&-536870913,z=R!==x.lane;if(z?(ke&R)===R:(s&R)===R){R!==0&&R===no&&(sc=!0),P!==null&&(P=P.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var he=e,de=x;R=n;var Me=o;switch(de.tag){case 1:if(he=de.payload,typeof he=="function"){V=he.call(Me,V,R);break e}V=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,R=typeof he=="function"?he.call(Me,V,R):he,R==null)break e;V=v({},V,R);break e;case 2:Rn=!0}}R=x.callback,R!==null&&(e.flags|=64,z&&(e.flags|=8192),z=c.callbacks,z===null?c.callbacks=[R]:z.push(R))}else z={lane:R,tag:x.tag,payload:x.payload,callback:x.callback,next:null},P===null?(L=P=z,E=V):P=P.next=z,b|=R;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;z=x,x=z.next,z.next=null,c.lastBaseUpdate=z,c.shared.pending=null}}while(!0);P===null&&(E=V),c.baseState=E,c.firstBaseUpdate=L,c.lastBaseUpdate=P,h===null&&(c.shared.lanes=0),$n|=b,e.lanes=b,e.memoizedState=V}}function gp(e,n){if(typeof e!="function")throw Error(i(191,e));e.call(n)}function mp(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)gp(o[e],n)}var oo=q(null),Oi=q(0);function bp(e,n){e=wn,te(Oi,e),te(oo,n),wn=e|n.baseLanes}function lc(){te(Oi,wn),te(oo,oo.current)}function cc(){wn=Oi.current,re(oo),re(Oi)}var Hn=0,be=null,Be=null,Xe=null,Mi=!1,ao=!1,Er=!1,_i=0,ca=0,io=null,ox=0;function Fe(){throw Error(i(321))}function dc(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Ct(e[o],n[o]))return!1;return!0}function uc(e,n,o,s,c,h){return Hn=h,be=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=e===null||e.memoizedState===null?eg:tg,Er=!1,h=o(s,c),Er=!1,ao&&(h=xp(n,o,s,c)),vp(e),h}function vp(e){A.H=Hi;var n=Be!==null&&Be.next!==null;if(Hn=0,Xe=Be=be=null,Mi=!1,ca=0,io=null,n)throw Error(i(300));e===null||tt||(e=e.dependencies,e!==null&&Ci(e)&&(tt=!0))}function xp(e,n,o,s){be=e;var c=0;do{if(ao&&(io=null),ca=0,ao=!1,25<=c)throw Error(i(301));if(c+=1,Xe=Be=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}A.H=ux,h=n(o,s)}while(ao);return h}function ax(){var e=A.H,n=e.useState()[0];return n=typeof n.then=="function"?da(n):n,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(be.flags|=1024),n}function hc(){var e=_i!==0;return _i=0,e}function fc(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function pc(e){if(Mi){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mi=!1}Hn=0,Xe=Be=be=null,ao=!1,ca=_i=0,io=null}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?be.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ge(){if(Be===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var n=Xe===null?be.memoizedState:Xe.next;if(n!==null)Xe=n,Be=e;else{if(e===null)throw be.alternate===null?Error(i(467)):Error(i(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Xe===null?be.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function da(e){var n=ca;return ca+=1,io===null&&(io=[]),e=hp(io,e,n),n=be,(Xe===null?n.memoizedState:Xe.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?eg:tg),e}function Ai(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return da(e);if(e.$$typeof===H)return ct(e)}throw Error(i(438,String(e)))}function mc(e){var n=null,o=be.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=be.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=gc(),be.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=ie;return n.index++,o}function mn(e,n){return typeof n=="function"?n(e):n}function Li(e){var n=Ge();return bc(n,Be,e)}function bc(e,n,o){var s=e.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=o;var c=e.baseQueue,h=s.pending;if(h!==null){if(c!==null){var b=c.next;c.next=h.next,h.next=b}n.baseQueue=c=h,s.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{n=c.next;var x=b=null,E=null,L=n,P=!1;do{var V=L.lane&-536870913;if(V!==L.lane?(ke&V)===V:(Hn&V)===V){var R=L.revertLane;if(R===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),V===no&&(P=!0);else if((Hn&R)===R){L=L.next,R===no&&(P=!0);continue}else V={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},E===null?(x=E=V,b=h):E=E.next=V,be.lanes|=R,$n|=R;V=L.action,Er&&o(h,V),h=L.hasEagerState?L.eagerState:o(h,V)}else R={lane:V,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},E===null?(x=E=R,b=h):E=E.next=R,be.lanes|=V,$n|=V;L=L.next}while(L!==null&&L!==n);if(E===null?b=h:E.next=x,!Ct(h,e.memoizedState)&&(tt=!0,P&&(o=ro,o!==null)))throw o;e.memoizedState=h,e.baseState=b,e.baseQueue=E,s.lastRenderedState=h}return c===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function vc(e){var n=Ge(),o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=e;var s=o.dispatch,c=o.pending,h=n.memoizedState;if(c!==null){o.pending=null;var b=c=c.next;do h=e(h,b.action),b=b.next;while(b!==c);Ct(h,n.memoizedState)||(tt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),o.lastRenderedState=h}return[h,s]}function yp(e,n,o){var s=be,c=Ge(),h=Ce;if(h){if(o===void 0)throw Error(i(407));o=o()}else o=n();var b=!Ct((Be||c).memoizedState,o);b&&(c.memoizedState=o,tt=!0),c=c.queue;var x=Sp.bind(null,s,c,e);if(ua(2048,8,x,[e]),c.getSnapshot!==n||b||Xe!==null&&Xe.memoizedState.tag&1){if(s.flags|=2048,so(9,Ri(),wp.bind(null,s,c,o,n),null),Ae===null)throw Error(i(349));h||(Hn&124)!==0||kp(s,n,o)}return o}function kp(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=be.updateQueue,n===null?(n=gc(),be.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function wp(e,n,o,s){n.value=o,n.getSnapshot=s,Ep(n)&&Cp(e)}function Sp(e,n,o){return o(function(){Ep(n)&&Cp(e)})}function Ep(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Ct(e,o)}catch{return!0}}function Cp(e){var n=Jr(e,2);n!==null&&Mt(n,e,2)}function xc(e){var n=vt();if(typeof e=="function"){var o=e;if(e=o(),Er){Mn(!0);try{o()}finally{Mn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:e},n}function Tp(e,n,o,s){return e.baseState=o,bc(e,Be,typeof s=="function"?s:mn)}function ix(e,n,o,s,c){if(zi(e))throw Error(i(485));if(e=n.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){h.listeners.push(b)}};A.T!==null?o(!0):h.isTransition=!1,s(h),o=n.pending,o===null?(h.next=n.pending=h,jp(n,h)):(h.next=o.next,n.pending=o.next=h)}}function jp(e,n){var o=n.action,s=n.payload,c=e.state;if(n.isTransition){var h=A.T,b={};A.T=b;try{var x=o(c,s),E=A.S;E!==null&&E(b,x),Np(e,n,x)}catch(L){yc(e,n,L)}finally{A.T=h}}else try{h=o(c,s),Np(e,n,h)}catch(L){yc(e,n,L)}}function Np(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){Bp(e,n,s)},function(s){return yc(e,n,s)}):Bp(e,n,o)}function Bp(e,n,o){n.status="fulfilled",n.value=o,Op(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,jp(e,o)))}function yc(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,Op(n),n=n.next;while(n!==s)}e.action=null}function Op(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Mp(e,n){return n}function _p(e,n){if(Ce){var o=Ae.formState;if(o!==null){e:{var s=be;if(Ce){if(Pe){t:{for(var c=Pe,h=Kt;c.nodeType!==8;){if(!h){c=null;break t}if(c=Gt(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Pe=Gt(c.nextSibling),s=c.data==="F!";break e}}yr(s)}s=!1}s&&(n=o[0])}}return o=vt(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mp,lastRenderedState:n},o.queue=s,o=Kp.bind(null,be,s),s.dispatch=o,s=xc(!1),h=Cc.bind(null,be,!1,s.queue),s=vt(),c={state:n,dispatch:null,action:e,pending:null},s.queue=c,o=ix.bind(null,be,c,h,o),c.dispatch=o,s.memoizedState=e,[n,o,!1]}function Ap(e){var n=Ge();return Lp(n,Be,e)}function Lp(e,n,o){if(n=bc(e,n,Mp)[0],e=Li(mn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=da(n)}catch(b){throw b===oa?Ni:b}else s=n;n=Ge();var c=n.queue,h=c.dispatch;return o!==n.memoizedState&&(be.flags|=2048,so(9,Ri(),sx.bind(null,c,o),null)),[s,h,e]}function sx(e,n){e.action=n}function Rp(e){var n=Ge(),o=Be;if(o!==null)return Lp(n,o,e);Ge(),n=n.memoizedState,o=Ge();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function so(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=be.updateQueue,n===null&&(n=gc(),be.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function Ri(){return{destroy:void 0,resource:void 0}}function Dp(){return Ge().memoizedState}function Di(e,n,o,s){var c=vt();s=s===void 0?null:s,be.flags|=e,c.memoizedState=so(1|n,Ri(),o,s)}function ua(e,n,o,s){var c=Ge();s=s===void 0?null:s;var h=c.memoizedState.inst;Be!==null&&s!==null&&dc(s,Be.memoizedState.deps)?c.memoizedState=so(n,h,o,s):(be.flags|=e,c.memoizedState=so(1|n,h,o,s))}function zp(e,n){Di(8390656,8,e,n)}function Hp(e,n){ua(2048,8,e,n)}function Ip(e,n){return ua(4,2,e,n)}function Up(e,n){return ua(4,4,e,n)}function Pp(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qp(e,n,o){o=o!=null?o.concat([e]):null,ua(4,4,Pp.bind(null,n,e),o)}function kc(){}function Yp(e,n){var o=Ge();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&dc(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function Fp(e,n){var o=Ge();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&dc(n,s[1]))return s[0];if(s=e(),Er){Mn(!0);try{e()}finally{Mn(!1)}}return o.memoizedState=[s,n],s}function wc(e,n,o){return o===void 0||(Hn&1073741824)!==0?e.memoizedState=n:(e.memoizedState=o,e=Xg(),be.lanes|=e,$n|=e,o)}function $p(e,n,o,s){return Ct(o,n)?o:oo.current!==null?(e=wc(e,o,s),Ct(e,n)||(tt=!0),e):(Hn&42)===0?(tt=!0,e.memoizedState=o):(e=Xg(),be.lanes|=e,$n|=e,n)}function Vp(e,n,o,s,c){var h=K.p;K.p=h!==0&&8>h?h:8;var b=A.T,x={};A.T=x,Cc(e,!1,n,o);try{var E=c(),L=A.S;if(L!==null&&L(x,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var P=rx(E,s);ha(e,n,P,Ot(e))}else ha(e,n,s,Ot(e))}catch(V){ha(e,n,{then:function(){},status:"rejected",reason:V},Ot())}finally{K.p=h,A.T=b}}function lx(){}function Sc(e,n,o,s){if(e.tag!==5)throw Error(i(476));var c=Xp(e).queue;Vp(e,c,n,W,o===null?lx:function(){return Gp(e),o(s)})}function Xp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:W},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Gp(e){var n=Xp(e).next.queue;ha(e,n,{},Ot())}function Ec(){return ct(Oa)}function Zp(){return Ge().memoizedState}function Qp(){return Ge().memoizedState}function cx(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=Ot();e=Dn(o);var s=zn(n,e,o);s!==null&&(Mt(s,n,o),ia(s,n,o)),n={cache:ec()},e.payload=n;return}n=n.return}}function dx(e,n,o){var s=Ot();o={lane:s,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},zi(e)?Jp(n,o):(o=Fl(e,n,o,s),o!==null&&(Mt(o,e,s),Wp(o,n,s)))}function Kp(e,n,o){var s=Ot();ha(e,n,o,s)}function ha(e,n,o,s){var c={lane:s,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(zi(e))Jp(n,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var b=n.lastRenderedState,x=h(b,o);if(c.hasEagerState=!0,c.eagerState=x,Ct(x,b))return yi(e,n,c,0),Ae===null&&xi(),!1}catch{}finally{}if(o=Fl(e,n,c,s),o!==null)return Mt(o,e,s),Wp(o,n,s),!0}return!1}function Cc(e,n,o,s){if(s={lane:2,revertLane:rd(),action:s,hasEagerState:!1,eagerState:null,next:null},zi(e)){if(n)throw Error(i(479))}else n=Fl(e,o,s,2),n!==null&&Mt(n,e,2)}function zi(e){var n=e.alternate;return e===be||n!==null&&n===be}function Jp(e,n){ao=Mi=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Wp(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,sf(e,o)}}var Hi={readContext:ct,use:Ai,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe},eg={readContext:ct,use:Ai,useCallback:function(e,n){return vt().memoizedState=[e,n===void 0?null:n],e},useContext:ct,useEffect:zp,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,Di(4194308,4,Pp.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Di(4194308,4,e,n)},useInsertionEffect:function(e,n){Di(4,2,e,n)},useMemo:function(e,n){var o=vt();n=n===void 0?null:n;var s=e();if(Er){Mn(!0);try{e()}finally{Mn(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=vt();if(o!==void 0){var c=o(n);if(Er){Mn(!0);try{o(n)}finally{Mn(!1)}}}else c=n;return s.memoizedState=s.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},s.queue=e,e=e.dispatch=dx.bind(null,be,e),[s.memoizedState,e]},useRef:function(e){var n=vt();return e={current:e},n.memoizedState=e},useState:function(e){e=xc(e);var n=e.queue,o=Kp.bind(null,be,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:kc,useDeferredValue:function(e,n){var o=vt();return wc(o,e,n)},useTransition:function(){var e=xc(!1);return e=Vp.bind(null,be,e.queue,!0,!1),vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=be,c=vt();if(Ce){if(o===void 0)throw Error(i(407));o=o()}else{if(o=n(),Ae===null)throw Error(i(349));(ke&124)!==0||kp(s,n,o)}c.memoizedState=o;var h={value:o,getSnapshot:n};return c.queue=h,zp(Sp.bind(null,s,h,e),[e]),s.flags|=2048,so(9,Ri(),wp.bind(null,s,h,o,n),null),o},useId:function(){var e=vt(),n=Ae.identifierPrefix;if(Ce){var o=fn,s=hn;o=(s&~(1<<32-Et(s)-1)).toString(32)+o,n=""+n+"R"+o,o=_i++,0<o&&(n+="H"+o.toString(32)),n+=""}else o=ox++,n=""+n+"r"+o.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Ec,useFormState:_p,useActionState:_p,useOptimistic:function(e){var n=vt();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=Cc.bind(null,be,!0,o),o.dispatch=n,[e,n]},useMemoCache:mc,useCacheRefresh:function(){return vt().memoizedState=cx.bind(null,be)}},tg={readContext:ct,use:Ai,useCallback:Yp,useContext:ct,useEffect:Hp,useImperativeHandle:qp,useInsertionEffect:Ip,useLayoutEffect:Up,useMemo:Fp,useReducer:Li,useRef:Dp,useState:function(){return Li(mn)},useDebugValue:kc,useDeferredValue:function(e,n){var o=Ge();return $p(o,Be.memoizedState,e,n)},useTransition:function(){var e=Li(mn)[0],n=Ge().memoizedState;return[typeof e=="boolean"?e:da(e),n]},useSyncExternalStore:yp,useId:Zp,useHostTransitionStatus:Ec,useFormState:Ap,useActionState:Ap,useOptimistic:function(e,n){var o=Ge();return Tp(o,Be,e,n)},useMemoCache:mc,useCacheRefresh:Qp},ux={readContext:ct,use:Ai,useCallback:Yp,useContext:ct,useEffect:Hp,useImperativeHandle:qp,useInsertionEffect:Ip,useLayoutEffect:Up,useMemo:Fp,useReducer:vc,useRef:Dp,useState:function(){return vc(mn)},useDebugValue:kc,useDeferredValue:function(e,n){var o=Ge();return Be===null?wc(o,e,n):$p(o,Be.memoizedState,e,n)},useTransition:function(){var e=vc(mn)[0],n=Ge().memoizedState;return[typeof e=="boolean"?e:da(e),n]},useSyncExternalStore:yp,useId:Zp,useHostTransitionStatus:Ec,useFormState:Rp,useActionState:Rp,useOptimistic:function(e,n){var o=Ge();return Be!==null?Tp(o,Be,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:mc,useCacheRefresh:Qp},lo=null,fa=0;function Ii(e){var n=fa;return fa+=1,lo===null&&(lo=[]),hp(lo,e,n)}function pa(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ui(e,n){throw n.$$typeof===y?Error(i(525)):(e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ng(e){var n=e._init;return n(e._payload)}function rg(e){function n(O,N){if(e){var _=O.deletions;_===null?(O.deletions=[N],O.flags|=16):_.push(N)}}function o(O,N){if(!e)return null;for(;N!==null;)n(O,N),N=N.sibling;return null}function s(O){for(var N=new Map;O!==null;)O.key!==null?N.set(O.key,O):N.set(O.index,O),O=O.sibling;return N}function c(O,N){return O=un(O,N),O.index=0,O.sibling=null,O}function h(O,N,_){return O.index=_,e?(_=O.alternate,_!==null?(_=_.index,_<N?(O.flags|=67108866,N):_):(O.flags|=67108866,N)):(O.flags|=1048576,N)}function b(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function x(O,N,_,Y){return N===null||N.tag!==6?(N=Vl(_,O.mode,Y),N.return=O,N):(N=c(N,_),N.return=O,N)}function E(O,N,_,Y){var ae=_.type;return ae===S?P(O,N,_.props.children,Y,_.key):N!==null&&(N.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===G&&ng(ae)===N.type)?(N=c(N,_.props),pa(N,_),N.return=O,N):(N=wi(_.type,_.key,_.props,null,O.mode,Y),pa(N,_),N.return=O,N)}function L(O,N,_,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==_.containerInfo||N.stateNode.implementation!==_.implementation?(N=Xl(_,O.mode,Y),N.return=O,N):(N=c(N,_.children||[]),N.return=O,N)}function P(O,N,_,Y,ae){return N===null||N.tag!==7?(N=mr(_,O.mode,Y,ae),N.return=O,N):(N=c(N,_),N.return=O,N)}function V(O,N,_){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Vl(""+N,O.mode,_),N.return=O,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case w:return _=wi(N.type,N.key,N.props,null,O.mode,_),pa(_,N),_.return=O,_;case B:return N=Xl(N,O.mode,_),N.return=O,N;case G:var Y=N._init;return N=Y(N._payload),V(O,N,_)}if(X(N)||ee(N))return N=mr(N,O.mode,_,null),N.return=O,N;if(typeof N.then=="function")return V(O,Ii(N),_);if(N.$$typeof===H)return V(O,Ti(O,N),_);Ui(O,N)}return null}function R(O,N,_,Y){var ae=N!==null?N.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return ae!==null?null:x(O,N,""+_,Y);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case w:return _.key===ae?E(O,N,_,Y):null;case B:return _.key===ae?L(O,N,_,Y):null;case G:return ae=_._init,_=ae(_._payload),R(O,N,_,Y)}if(X(_)||ee(_))return ae!==null?null:P(O,N,_,Y,null);if(typeof _.then=="function")return R(O,N,Ii(_),Y);if(_.$$typeof===H)return R(O,N,Ti(O,_),Y);Ui(O,_)}return null}function z(O,N,_,Y,ae){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return O=O.get(_)||null,x(N,O,""+Y,ae);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return O=O.get(Y.key===null?_:Y.key)||null,E(N,O,Y,ae);case B:return O=O.get(Y.key===null?_:Y.key)||null,L(N,O,Y,ae);case G:var ve=Y._init;return Y=ve(Y._payload),z(O,N,_,Y,ae)}if(X(Y)||ee(Y))return O=O.get(_)||null,P(N,O,Y,ae,null);if(typeof Y.then=="function")return z(O,N,_,Ii(Y),ae);if(Y.$$typeof===H)return z(O,N,_,Ti(N,Y),ae);Ui(N,Y)}return null}function he(O,N,_,Y){for(var ae=null,ve=null,se=N,ue=N=0,rt=null;se!==null&&ue<_.length;ue++){se.index>ue?(rt=se,se=null):rt=se.sibling;var Ee=R(O,se,_[ue],Y);if(Ee===null){se===null&&(se=rt);break}e&&se&&Ee.alternate===null&&n(O,se),N=h(Ee,N,ue),ve===null?ae=Ee:ve.sibling=Ee,ve=Ee,se=rt}if(ue===_.length)return o(O,se),Ce&&vr(O,ue),ae;if(se===null){for(;ue<_.length;ue++)se=V(O,_[ue],Y),se!==null&&(N=h(se,N,ue),ve===null?ae=se:ve.sibling=se,ve=se);return Ce&&vr(O,ue),ae}for(se=s(se);ue<_.length;ue++)rt=z(se,O,ue,_[ue],Y),rt!==null&&(e&&rt.alternate!==null&&se.delete(rt.key===null?ue:rt.key),N=h(rt,N,ue),ve===null?ae=rt:ve.sibling=rt,ve=rt);return e&&se.forEach(function(er){return n(O,er)}),Ce&&vr(O,ue),ae}function de(O,N,_,Y){if(_==null)throw Error(i(151));for(var ae=null,ve=null,se=N,ue=N=0,rt=null,Ee=_.next();se!==null&&!Ee.done;ue++,Ee=_.next()){se.index>ue?(rt=se,se=null):rt=se.sibling;var er=R(O,se,Ee.value,Y);if(er===null){se===null&&(se=rt);break}e&&se&&er.alternate===null&&n(O,se),N=h(er,N,ue),ve===null?ae=er:ve.sibling=er,ve=er,se=rt}if(Ee.done)return o(O,se),Ce&&vr(O,ue),ae;if(se===null){for(;!Ee.done;ue++,Ee=_.next())Ee=V(O,Ee.value,Y),Ee!==null&&(N=h(Ee,N,ue),ve===null?ae=Ee:ve.sibling=Ee,ve=Ee);return Ce&&vr(O,ue),ae}for(se=s(se);!Ee.done;ue++,Ee=_.next())Ee=z(se,O,ue,Ee.value,Y),Ee!==null&&(e&&Ee.alternate!==null&&se.delete(Ee.key===null?ue:Ee.key),N=h(Ee,N,ue),ve===null?ae=Ee:ve.sibling=Ee,ve=Ee);return e&&se.forEach(function(hy){return n(O,hy)}),Ce&&vr(O,ue),ae}function Me(O,N,_,Y){if(typeof _=="object"&&_!==null&&_.type===S&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case w:e:{for(var ae=_.key;N!==null;){if(N.key===ae){if(ae=_.type,ae===S){if(N.tag===7){o(O,N.sibling),Y=c(N,_.props.children),Y.return=O,O=Y;break e}}else if(N.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===G&&ng(ae)===N.type){o(O,N.sibling),Y=c(N,_.props),pa(Y,_),Y.return=O,O=Y;break e}o(O,N);break}else n(O,N);N=N.sibling}_.type===S?(Y=mr(_.props.children,O.mode,Y,_.key),Y.return=O,O=Y):(Y=wi(_.type,_.key,_.props,null,O.mode,Y),pa(Y,_),Y.return=O,O=Y)}return b(O);case B:e:{for(ae=_.key;N!==null;){if(N.key===ae)if(N.tag===4&&N.stateNode.containerInfo===_.containerInfo&&N.stateNode.implementation===_.implementation){o(O,N.sibling),Y=c(N,_.children||[]),Y.return=O,O=Y;break e}else{o(O,N);break}else n(O,N);N=N.sibling}Y=Xl(_,O.mode,Y),Y.return=O,O=Y}return b(O);case G:return ae=_._init,_=ae(_._payload),Me(O,N,_,Y)}if(X(_))return he(O,N,_,Y);if(ee(_)){if(ae=ee(_),typeof ae!="function")throw Error(i(150));return _=ae.call(_),de(O,N,_,Y)}if(typeof _.then=="function")return Me(O,N,Ii(_),Y);if(_.$$typeof===H)return Me(O,N,Ti(O,_),Y);Ui(O,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,N!==null&&N.tag===6?(o(O,N.sibling),Y=c(N,_),Y.return=O,O=Y):(o(O,N),Y=Vl(_,O.mode,Y),Y.return=O,O=Y),b(O)):o(O,N)}return function(O,N,_,Y){try{fa=0;var ae=Me(O,N,_,Y);return lo=null,ae}catch(se){if(se===oa||se===Ni)throw se;var ve=Tt(29,se,null,O.mode);return ve.lanes=Y,ve.return=O,ve}finally{}}}var co=rg(!0),og=rg(!1),Ut=q(null),Jt=null;function In(e){var n=e.alternate;te(Ke,Ke.current&1),te(Ut,e),Jt===null&&(n===null||oo.current!==null||n.memoizedState!==null)&&(Jt=e)}function ag(e){if(e.tag===22){if(te(Ke,Ke.current),te(Ut,e),Jt===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Jt=e)}}else Un()}function Un(){te(Ke,Ke.current),te(Ut,Ut.current)}function bn(e){re(Ut),Jt===e&&(Jt=null),re(Ke)}var Ke=q(0);function Pi(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||gd(o)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Tc(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:v({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var jc={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=Ot(),c=Dn(s);c.payload=n,o!=null&&(c.callback=o),n=zn(e,c,s),n!==null&&(Mt(n,e,s),ia(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=Ot(),c=Dn(s);c.tag=1,c.payload=n,o!=null&&(c.callback=o),n=zn(e,c,s),n!==null&&(Mt(n,e,s),ia(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Ot(),s=Dn(o);s.tag=2,n!=null&&(s.callback=n),n=zn(e,s,o),n!==null&&(Mt(n,e,o),ia(n,e,o))}};function ig(e,n,o,s,c,h,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,b):n.prototype&&n.prototype.isPureReactComponent?!Qo(o,s)||!Qo(c,h):!0}function sg(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&jc.enqueueReplaceState(n,n.state,null)}function Cr(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=v({},o));for(var c in e)o[c]===void 0&&(o[c]=e[c])}return o}var qi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function lg(e){qi(e)}function cg(e){console.error(e)}function dg(e){qi(e)}function Yi(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function ug(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Nc(e,n,o){return o=Dn(o),o.tag=3,o.payload={element:null},o.callback=function(){Yi(e,n)},o}function hg(e){return e=Dn(e),e.tag=3,e}function fg(e,n,o,s){var c=o.type.getDerivedStateFromError;if(typeof c=="function"){var h=s.value;e.payload=function(){return c(h)},e.callback=function(){ug(n,o,s)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){ug(n,o,s),typeof c!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var x=s.stack;this.componentDidCatch(s.value,{componentStack:x!==null?x:""})})}function hx(e,n,o,s,c){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&ta(n,o,c,!0),o=Ut.current,o!==null){switch(o.tag){case 13:return Jt===null?Jc():o.alternate===null&&qe===0&&(qe=3),o.flags&=-257,o.flags|=65536,o.lanes=c,s===rc?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),ed(e,s,c)),!1;case 22:return o.flags|=65536,s===rc?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),ed(e,s,c)),!1}throw Error(i(435,o.tag))}return ed(e,s,c),Jc(),!1}if(Ce)return n=Ut.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,s!==Ql&&(e=Error(i(422),{cause:s}),ea(Dt(e,o)))):(s!==Ql&&(n=Error(i(423),{cause:s}),ea(Dt(n,o))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,s=Dt(s,o),c=Nc(e.stateNode,s,c),ic(e,c),qe!==4&&(qe=2)),!1;var h=Error(i(520),{cause:s});if(h=Dt(h,o),ka===null?ka=[h]:ka.push(h),qe!==4&&(qe=2),n===null)return!0;s=Dt(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=c&-c,o.lanes|=e,e=Nc(o.stateNode,s,e),ic(o,e),!1;case 1:if(n=o.type,h=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Vn===null||!Vn.has(h))))return o.flags|=65536,c&=-c,o.lanes|=c,c=hg(c),fg(c,e,o,s),ic(o,c),!1}o=o.return}while(o!==null);return!1}var pg=Error(i(461)),tt=!1;function ot(e,n,o,s){n.child=e===null?og(n,null,o,s):co(n,e.child,o,s)}function gg(e,n,o,s,c){o=o.render;var h=n.ref;if("ref"in s){var b={};for(var x in s)x!=="ref"&&(b[x]=s[x])}else b=s;return wr(n),s=uc(e,n,o,b,h,c),x=hc(),e!==null&&!tt?(fc(e,n,c),vn(e,n,c)):(Ce&&x&&Gl(n),n.flags|=1,ot(e,n,s,c),n.child)}function mg(e,n,o,s,c){if(e===null){var h=o.type;return typeof h=="function"&&!$l(h)&&h.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=h,bg(e,n,h,s,c)):(e=wi(o.type,null,s,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!Dc(e,c)){var b=h.memoizedProps;if(o=o.compare,o=o!==null?o:Qo,o(b,s)&&e.ref===n.ref)return vn(e,n,c)}return n.flags|=1,e=un(h,s),e.ref=n.ref,e.return=n,n.child=e}function bg(e,n,o,s,c){if(e!==null){var h=e.memoizedProps;if(Qo(h,s)&&e.ref===n.ref)if(tt=!1,n.pendingProps=s=h,Dc(e,c))(e.flags&131072)!==0&&(tt=!0);else return n.lanes=e.lanes,vn(e,n,c)}return Bc(e,n,o,s,c)}function vg(e,n,o){var s=n.pendingProps,c=s.children,h=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((n.flags&128)!==0){if(s=h!==null?h.baseLanes|o:o,e!==null){for(c=n.child=e.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~s}else n.childLanes=0,n.child=null;return xg(e,n,s,o)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ji(n,h!==null?h.cachePool:null),h!==null?bp(n,h):lc(),ag(n);else return n.lanes=n.childLanes=536870912,xg(e,n,h!==null?h.baseLanes|o:o,o)}else h!==null?(ji(n,h.cachePool),bp(n,h),Un(),n.memoizedState=null):(e!==null&&ji(n,null),lc(),Un());return ot(e,n,c,o),n.child}function xg(e,n,o,s){var c=nc();return c=c===null?null:{parent:Qe._currentValue,pool:c},n.memoizedState={baseLanes:o,cachePool:c},e!==null&&ji(n,null),lc(),ag(n),e!==null&&ta(e,n,s,!0),null}function Fi(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function Bc(e,n,o,s,c){return wr(n),o=uc(e,n,o,s,void 0,c),s=hc(),e!==null&&!tt?(fc(e,n,c),vn(e,n,c)):(Ce&&s&&Gl(n),n.flags|=1,ot(e,n,o,c),n.child)}function yg(e,n,o,s,c,h){return wr(n),n.updateQueue=null,o=xp(n,s,o,c),vp(e),s=hc(),e!==null&&!tt?(fc(e,n,h),vn(e,n,h)):(Ce&&s&&Gl(n),n.flags|=1,ot(e,n,o,h),n.child)}function kg(e,n,o,s,c){if(wr(n),n.stateNode===null){var h=Wr,b=o.contextType;typeof b=="object"&&b!==null&&(h=ct(b)),h=new o(s,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=jc,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=s,h.state=n.memoizedState,h.refs={},oc(n),b=o.contextType,h.context=typeof b=="object"&&b!==null?ct(b):Wr,h.state=n.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Tc(n,o,b,s),h.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(b=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),b!==h.state&&jc.enqueueReplaceState(h,h.state,null),la(n,s,h,c),sa(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){h=n.stateNode;var x=n.memoizedProps,E=Cr(o,x);h.props=E;var L=h.context,P=o.contextType;b=Wr,typeof P=="object"&&P!==null&&(b=ct(P));var V=o.getDerivedStateFromProps;P=typeof V=="function"||typeof h.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x||L!==b)&&sg(n,h,s,b),Rn=!1;var R=n.memoizedState;h.state=R,la(n,s,h,c),sa(),L=n.memoizedState,x||R!==L||Rn?(typeof V=="function"&&(Tc(n,o,V,s),L=n.memoizedState),(E=Rn||ig(n,o,E,s,R,L,b))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=L),h.props=s,h.state=L,h.context=b,s=E):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{h=n.stateNode,ac(e,n),b=n.memoizedProps,P=Cr(o,b),h.props=P,V=n.pendingProps,R=h.context,L=o.contextType,E=Wr,typeof L=="object"&&L!==null&&(E=ct(L)),x=o.getDerivedStateFromProps,(L=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b!==V||R!==E)&&sg(n,h,s,E),Rn=!1,R=n.memoizedState,h.state=R,la(n,s,h,c),sa();var z=n.memoizedState;b!==V||R!==z||Rn||e!==null&&e.dependencies!==null&&Ci(e.dependencies)?(typeof x=="function"&&(Tc(n,o,x,s),z=n.memoizedState),(P=Rn||ig(n,o,P,s,R,z,E)||e!==null&&e.dependencies!==null&&Ci(e.dependencies))?(L||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,z,E),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,z,E)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=z),h.props=s,h.state=z,h.context=E,s=P):(typeof h.componentDidUpdate!="function"||b===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),s=!1)}return h=s,Fi(e,n),s=(n.flags&128)!==0,h||s?(h=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&s?(n.child=co(n,e.child,null,c),n.child=co(n,null,o,c)):ot(e,n,o,c),n.memoizedState=h.state,e=n.child):e=vn(e,n,c),e}function wg(e,n,o,s){return Wo(),n.flags|=256,ot(e,n,o,s),n.child}var Oc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mc(e){return{baseLanes:e,cachePool:cp()}}function _c(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=Pt),e}function Sg(e,n,o){var s=n.pendingProps,c=!1,h=(n.flags&128)!==0,b;if((b=h)||(b=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),b&&(c=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ce){if(c?In(n):Un(),Ce){var x=Pe,E;if(E=x){e:{for(E=x,x=Kt;E.nodeType!==8;){if(!x){x=null;break e}if(E=Gt(E.nextSibling),E===null){x=null;break e}}x=E}x!==null?(n.memoizedState={dehydrated:x,treeContext:br!==null?{id:hn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},E=Tt(18,null,null,0),E.stateNode=x,E.return=n,n.child=E,ht=n,Pe=null,E=!0):E=!1}E||yr(n)}if(x=n.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return gd(x)?n.lanes=32:n.lanes=536870912,null;bn(n)}return x=s.children,s=s.fallback,c?(Un(),c=n.mode,x=$i({mode:"hidden",children:x},c),s=mr(s,c,o,null),x.return=n,s.return=n,x.sibling=s,n.child=x,c=n.child,c.memoizedState=Mc(o),c.childLanes=_c(e,b,o),n.memoizedState=Oc,s):(In(n),Ac(n,x))}if(E=e.memoizedState,E!==null&&(x=E.dehydrated,x!==null)){if(h)n.flags&256?(In(n),n.flags&=-257,n=Lc(e,n,o)):n.memoizedState!==null?(Un(),n.child=e.child,n.flags|=128,n=null):(Un(),c=s.fallback,x=n.mode,s=$i({mode:"visible",children:s.children},x),c=mr(c,x,o,null),c.flags|=2,s.return=n,c.return=n,s.sibling=c,n.child=s,co(n,e.child,null,o),s=n.child,s.memoizedState=Mc(o),s.childLanes=_c(e,b,o),n.memoizedState=Oc,n=c);else if(In(n),gd(x)){if(b=x.nextSibling&&x.nextSibling.dataset,b)var L=b.dgst;b=L,s=Error(i(419)),s.stack="",s.digest=b,ea({value:s,source:null,stack:null}),n=Lc(e,n,o)}else if(tt||ta(e,n,o,!1),b=(o&e.childLanes)!==0,tt||b){if(b=Ae,b!==null&&(s=o&-o,s=(s&42)!==0?1:ml(s),s=(s&(b.suspendedLanes|o))!==0?0:s,s!==0&&s!==E.retryLane))throw E.retryLane=s,Jr(e,s),Mt(b,e,s),pg;x.data==="$?"||Jc(),n=Lc(e,n,o)}else x.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=E.treeContext,Pe=Gt(x.nextSibling),ht=n,Ce=!0,xr=null,Kt=!1,e!==null&&(Ht[It++]=hn,Ht[It++]=fn,Ht[It++]=br,hn=e.id,fn=e.overflow,br=n),n=Ac(n,s.children),n.flags|=4096);return n}return c?(Un(),c=s.fallback,x=n.mode,E=e.child,L=E.sibling,s=un(E,{mode:"hidden",children:s.children}),s.subtreeFlags=E.subtreeFlags&65011712,L!==null?c=un(L,c):(c=mr(c,x,o,null),c.flags|=2),c.return=n,s.return=n,s.sibling=c,n.child=s,s=c,c=n.child,x=e.child.memoizedState,x===null?x=Mc(o):(E=x.cachePool,E!==null?(L=Qe._currentValue,E=E.parent!==L?{parent:L,pool:L}:E):E=cp(),x={baseLanes:x.baseLanes|o,cachePool:E}),c.memoizedState=x,c.childLanes=_c(e,b,o),n.memoizedState=Oc,s):(In(n),o=e.child,e=o.sibling,o=un(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=o,n.memoizedState=null,o)}function Ac(e,n){return n=$i({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $i(e,n){return e=Tt(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Lc(e,n,o){return co(n,e.child,null,o),e=Ac(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Eg(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Jl(e.return,n,o)}function Rc(e,n,o,s,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=o,h.tailMode=c)}function Cg(e,n,o){var s=n.pendingProps,c=s.revealOrder,h=s.tail;if(ot(e,n,s.children,o),s=Ke.current,(s&2)!==0)s=s&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Eg(e,o,n);else if(e.tag===19)Eg(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(te(Ke,s),c){case"forwards":for(o=n.child,c=null;o!==null;)e=o.alternate,e!==null&&Pi(e)===null&&(c=o),o=o.sibling;o=c,o===null?(c=n.child,n.child=null):(c=o.sibling,o.sibling=null),Rc(n,!1,c,o,h);break;case"backwards":for(o=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Pi(e)===null){n.child=c;break}e=c.sibling,c.sibling=o,o=c,c=e}Rc(n,!0,o,null,h);break;case"together":Rc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function vn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),$n|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(ta(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,o=un(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=un(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Dc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ci(e)))}function fx(e,n,o){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),Ln(n,Qe,e.memoizedState.cache),Wo();break;case 27:case 5:ul(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:Ln(n,n.type,n.memoizedProps.value);break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(In(n),n.flags|=128,null):(o&n.child.childLanes)!==0?Sg(e,n,o):(In(n),e=vn(e,n,o),e!==null?e.sibling:null);In(n);break;case 19:var c=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(ta(e,n,o,!1),s=(o&n.childLanes)!==0),c){if(s)return Cg(e,n,o);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),te(Ke,Ke.current),s)break;return null;case 22:case 23:return n.lanes=0,vg(e,n,o);case 24:Ln(n,Qe,e.memoizedState.cache)}return vn(e,n,o)}function Tg(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)tt=!0;else{if(!Dc(e,o)&&(n.flags&128)===0)return tt=!1,fx(e,n,o);tt=(e.flags&131072)!==0}else tt=!1,Ce&&(n.flags&1048576)!==0&&np(n,Ei,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var s=n.elementType,c=s._init;if(s=c(s._payload),n.type=s,typeof s=="function")$l(s)?(e=Cr(s,e),n.tag=1,n=kg(null,n,s,e,o)):(n.tag=0,n=Bc(null,n,s,e,o));else{if(s!=null){if(c=s.$$typeof,c===M){n.tag=11,n=gg(null,n,s,e,o);break e}else if(c===Q){n.tag=14,n=mg(null,n,s,e,o);break e}}throw n=J(s)||s,Error(i(306,n,""))}}return n;case 0:return Bc(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,c=Cr(s,n.pendingProps),kg(e,n,s,c,o);case 3:e:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(i(387));s=n.pendingProps;var h=n.memoizedState;c=h.element,ac(e,n),la(n,s,null,o);var b=n.memoizedState;if(s=b.cache,Ln(n,Qe,s),s!==h.cache&&Wl(n,[Qe],o,!0),sa(),s=b.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=wg(e,n,s,o);break e}else if(s!==c){c=Dt(Error(i(424)),n),ea(c),n=wg(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Pe=Gt(e.firstChild),ht=n,Ce=!0,xr=null,Kt=!0,o=og(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Wo(),s===c){n=vn(e,n,o);break e}ot(e,n,s,o)}n=n.child}return n;case 26:return Fi(e,n),e===null?(o=Om(n.type,null,n.pendingProps,null))?n.memoizedState=o:Ce||(o=n.type,e=n.pendingProps,s=as(pe.current).createElement(o),s[lt]=n,s[mt]=e,it(s,o,e),et(s),n.stateNode=s):n.memoizedState=Om(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ul(n),e===null&&Ce&&(s=n.stateNode=jm(n.type,n.pendingProps,pe.current),ht=n,Kt=!0,c=Pe,Zn(n.type)?(md=c,Pe=Gt(s.firstChild)):Pe=c),ot(e,n,n.pendingProps.children,o),Fi(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ce&&((c=s=Pe)&&(s=Px(s,n.type,n.pendingProps,Kt),s!==null?(n.stateNode=s,ht=n,Pe=Gt(s.firstChild),Kt=!1,c=!0):c=!1),c||yr(n)),ul(n),c=n.type,h=n.pendingProps,b=e!==null?e.memoizedProps:null,s=h.children,hd(c,h)?s=null:b!==null&&hd(c,b)&&(n.flags|=32),n.memoizedState!==null&&(c=uc(e,n,ax,null,null,o),Oa._currentValue=c),Fi(e,n),ot(e,n,s,o),n.child;case 6:return e===null&&Ce&&((e=o=Pe)&&(o=qx(o,n.pendingProps,Kt),o!==null?(n.stateNode=o,ht=n,Pe=null,e=!0):e=!1),e||yr(n)),null;case 13:return Sg(e,n,o);case 4:return De(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=co(n,null,s,o):ot(e,n,s,o),n.child;case 11:return gg(e,n,n.type,n.pendingProps,o);case 7:return ot(e,n,n.pendingProps,o),n.child;case 8:return ot(e,n,n.pendingProps.children,o),n.child;case 12:return ot(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,Ln(n,n.type,s.value),ot(e,n,s.children,o),n.child;case 9:return c=n.type._context,s=n.pendingProps.children,wr(n),c=ct(c),s=s(c),n.flags|=1,ot(e,n,s,o),n.child;case 14:return mg(e,n,n.type,n.pendingProps,o);case 15:return bg(e,n,n.type,n.pendingProps,o);case 19:return Cg(e,n,o);case 31:return s=n.pendingProps,o=n.mode,s={mode:s.mode,children:s.children},e===null?(o=$i(s,o),o.ref=n.ref,n.child=o,o.return=n,n=o):(o=un(e.child,s),o.ref=n.ref,n.child=o,o.return=n,n=o),n;case 22:return vg(e,n,o);case 24:return wr(n),s=ct(Qe),e===null?(c=nc(),c===null&&(c=Ae,h=ec(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=o),c=h),n.memoizedState={parent:s,cache:c},oc(n),Ln(n,Qe,c)):((e.lanes&o)!==0&&(ac(e,n),la(n,null,null,o),sa()),c=e.memoizedState,h=n.memoizedState,c.parent!==s?(c={parent:s,cache:s},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ln(n,Qe,s)):(s=h.cache,Ln(n,Qe,s),s!==c.cache&&Wl(n,[Qe],o,!0))),ot(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function xn(e){e.flags|=4}function jg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Rm(n)){if(n=Ut.current,n!==null&&((ke&4194048)===ke?Jt!==null:(ke&62914560)!==ke&&(ke&536870912)===0||n!==Jt))throw aa=rc,dp;e.flags|=8192}}function Vi(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?of():536870912,e.lanes|=n,po|=n)}function ga(e,n){if(!Ce)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var c=e.child;c!==null;)o|=c.lanes|c.childLanes,s|=c.subtreeFlags&65011712,s|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)o|=c.lanes|c.childLanes,s|=c.subtreeFlags,s|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function px(e,n,o){var s=n.pendingProps;switch(Zl(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(n),null;case 1:return Ie(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),gn(Qe),On(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Jo(n)?xn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ap())),Ie(n),null;case 26:return o=n.memoizedState,e===null?(xn(n),o!==null?(Ie(n),jg(n,o)):(Ie(n),n.flags&=-16777217)):o?o!==e.memoizedState?(xn(n),Ie(n),jg(n,o)):(Ie(n),n.flags&=-16777217):(e.memoizedProps!==s&&xn(n),Ie(n),n.flags&=-16777217),null;case 27:ri(n),o=pe.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==s&&xn(n);else{if(!s){if(n.stateNode===null)throw Error(i(166));return Ie(n),null}e=le.current,Jo(n)?rp(n):(e=jm(c,s,o),n.stateNode=e,xn(n))}return Ie(n),null;case 5:if(ri(n),o=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&xn(n);else{if(!s){if(n.stateNode===null)throw Error(i(166));return Ie(n),null}if(e=le.current,Jo(n))rp(n);else{switch(c=as(pe.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?c.createElement("select",{is:s.is}):c.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?c.createElement(o,{is:s.is}):c.createElement(o)}}e[lt]=n,e[mt]=s;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;e:switch(it(e,o,s),o){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&xn(n)}}return Ie(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&xn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(i(166));if(e=pe.current,Jo(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,c=ht,c!==null)switch(c.tag){case 27:case 5:s=c.memoizedProps}e[lt]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||ym(e.nodeValue,o)),e||yr(n)}else e=as(e).createTextNode(s),e[lt]=n,n.stateNode=e}return Ie(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Jo(n),s!==null&&s.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[lt]=n}else Wo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ie(n),c=!1}else c=ap(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(bn(n),n):(bn(n),null)}if(bn(n),(n.flags&128)!==0)return n.lanes=o,n;if(o=s!==null,e=e!==null&&e.memoizedState!==null,o){s=n.child,c=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(c=s.alternate.memoizedState.cachePool.pool);var h=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==c&&(s.flags|=2048)}return o!==e&&o&&(n.child.flags|=8192),Vi(n,n.updateQueue),Ie(n),null;case 4:return On(),e===null&&sd(n.stateNode.containerInfo),Ie(n),null;case 10:return gn(n.type),Ie(n),null;case 19:if(re(Ke),c=n.memoizedState,c===null)return Ie(n),null;if(s=(n.flags&128)!==0,h=c.rendering,h===null)if(s)ga(c,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Pi(e),h!==null){for(n.flags|=128,ga(c,!1),e=h.updateQueue,n.updateQueue=e,Vi(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)tp(o,e),o=o.sibling;return te(Ke,Ke.current&1|2),n.child}e=e.sibling}c.tail!==null&&Qt()>Zi&&(n.flags|=128,s=!0,ga(c,!1),n.lanes=4194304)}else{if(!s)if(e=Pi(h),e!==null){if(n.flags|=128,s=!0,e=e.updateQueue,n.updateQueue=e,Vi(n,e),ga(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Ce)return Ie(n),null}else 2*Qt()-c.renderingStartTime>Zi&&o!==536870912&&(n.flags|=128,s=!0,ga(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(e=c.last,e!==null?e.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Qt(),n.sibling=null,e=Ke.current,te(Ke,s?e&1|2:e&1),n):(Ie(n),null);case 22:case 23:return bn(n),cc(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(Ie(n),n.subtreeFlags&6&&(n.flags|=8192)):Ie(n),o=n.updateQueue,o!==null&&Vi(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&re(Sr),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),gn(Qe),Ie(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function gx(e,n){switch(Zl(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return gn(Qe),On(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ri(n),null;case 13:if(bn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Wo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return re(Ke),null;case 4:return On(),null;case 10:return gn(n.type),null;case 22:case 23:return bn(n),cc(),e!==null&&re(Sr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return gn(Qe),null;case 25:return null;default:return null}}function Ng(e,n){switch(Zl(n),n.tag){case 3:gn(Qe),On();break;case 26:case 27:case 5:ri(n);break;case 4:On();break;case 13:bn(n);break;case 19:re(Ke);break;case 10:gn(n.type);break;case 22:case 23:bn(n),cc(),e!==null&&re(Sr);break;case 24:gn(Qe)}}function ma(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var c=s.next;o=c;do{if((o.tag&e)===e){s=void 0;var h=o.create,b=o.inst;s=h(),b.destroy=s}o=o.next}while(o!==c)}}catch(x){_e(n,n.return,x)}}function Pn(e,n,o){try{var s=n.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var h=c.next;s=h;do{if((s.tag&e)===e){var b=s.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,c=n;var E=o,L=x;try{L()}catch(P){_e(c,E,P)}}}s=s.next}while(s!==h)}}catch(P){_e(n,n.return,P)}}function Bg(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{mp(n,o)}catch(s){_e(e,e.return,s)}}}function Og(e,n,o){o.props=Cr(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){_e(e,n,s)}}function ba(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(c){_e(e,n,c)}}function Wt(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(c){_e(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(c){_e(e,n,c)}else o.current=null}function Mg(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(c){_e(e,e.return,c)}}function zc(e,n,o){try{var s=e.stateNode;Dx(s,e.type,o,n),s[mt]=n}catch(c){_e(e,e.return,c)}}function _g(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zn(e.type)||e.tag===4}function Hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_g(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ic(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=os));else if(s!==4&&(s===27&&Zn(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(Ic(e,n,o),e=e.sibling;e!==null;)Ic(e,n,o),e=e.sibling}function Xi(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&Zn(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Xi(e,n,o),e=e.sibling;e!==null;)Xi(e,n,o),e=e.sibling}function Ag(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);it(n,s,o),n[lt]=e,n[mt]=o}catch(h){_e(e,e.return,h)}}var yn=!1,$e=!1,Uc=!1,Lg=typeof WeakSet=="function"?WeakSet:Set,nt=null;function mx(e,n){if(e=e.containerInfo,dd=us,e=$f(e),Hl(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var c=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{o.nodeType,h.nodeType}catch{o=null;break e}var b=0,x=-1,E=-1,L=0,P=0,V=e,R=null;t:for(;;){for(var z;V!==o||c!==0&&V.nodeType!==3||(x=b+c),V!==h||s!==0&&V.nodeType!==3||(E=b+s),V.nodeType===3&&(b+=V.nodeValue.length),(z=V.firstChild)!==null;)R=V,V=z;for(;;){if(V===e)break t;if(R===o&&++L===c&&(x=b),R===h&&++P===s&&(E=b),(z=V.nextSibling)!==null)break;V=R,R=V.parentNode}V=z}o=x===-1||E===-1?null:{start:x,end:E}}else o=null}o=o||{start:0,end:0}}else o=null;for(ud={focusedElem:e,selectionRange:o},us=!1,nt=n;nt!==null;)if(n=nt,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,nt=e;else for(;nt!==null;){switch(n=nt,h=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,o=n,c=h.memoizedProps,h=h.memoizedState,s=o.stateNode;try{var he=Cr(o.type,c,o.elementType===o.type);e=s.getSnapshotBeforeUpdate(he,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(de){_e(o,o.return,de)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)pd(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=n.sibling,e!==null){e.return=n.return,nt=e;break}nt=n.return}}function Rg(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:qn(e,o),s&4&&ma(5,o);break;case 1:if(qn(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(b){_e(o,o.return,b)}else{var c=Cr(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){_e(o,o.return,b)}}s&64&&Bg(o),s&512&&ba(o,o.return);break;case 3:if(qn(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{mp(e,n)}catch(b){_e(o,o.return,b)}}break;case 27:n===null&&s&4&&Ag(o);case 26:case 5:qn(e,o),n===null&&s&4&&Mg(o),s&512&&ba(o,o.return);break;case 12:qn(e,o);break;case 13:qn(e,o),s&4&&Hg(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Cx.bind(null,o),Yx(e,o))));break;case 22:if(s=o.memoizedState!==null||yn,!s){n=n!==null&&n.memoizedState!==null||$e,c=yn;var h=$e;yn=s,($e=n)&&!h?Yn(e,o,(o.subtreeFlags&8772)!==0):qn(e,o),yn=c,$e=h}break;case 30:break;default:qn(e,o)}}function Dg(e){var n=e.alternate;n!==null&&(e.alternate=null,Dg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&xl(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,xt=!1;function kn(e,n,o){for(o=o.child;o!==null;)zg(e,n,o),o=o.sibling}function zg(e,n,o){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Ho,o)}catch{}switch(o.tag){case 26:$e||Wt(o,n),kn(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:$e||Wt(o,n);var s=ze,c=xt;Zn(o.type)&&(ze=o.stateNode,xt=!1),kn(e,n,o),Ta(o.stateNode),ze=s,xt=c;break;case 5:$e||Wt(o,n);case 6:if(s=ze,c=xt,ze=null,kn(e,n,o),ze=s,xt=c,ze!==null)if(xt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(o.stateNode)}catch(h){_e(o,n,h)}else try{ze.removeChild(o.stateNode)}catch(h){_e(o,n,h)}break;case 18:ze!==null&&(xt?(e=ze,Cm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),La(e)):Cm(ze,o.stateNode));break;case 4:s=ze,c=xt,ze=o.stateNode.containerInfo,xt=!0,kn(e,n,o),ze=s,xt=c;break;case 0:case 11:case 14:case 15:$e||Pn(2,o,n),$e||Pn(4,o,n),kn(e,n,o);break;case 1:$e||(Wt(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&Og(o,n,s)),kn(e,n,o);break;case 21:kn(e,n,o);break;case 22:$e=(s=$e)||o.memoizedState!==null,kn(e,n,o),$e=s;break;default:kn(e,n,o)}}function Hg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{La(e)}catch(o){_e(n,n.return,o)}}function bx(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Lg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Lg),n;default:throw Error(i(435,e.tag))}}function Pc(e,n){var o=bx(e);n.forEach(function(s){var c=Tx.bind(null,e,s);o.has(s)||(o.add(s),s.then(c,c))})}function jt(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var c=o[s],h=e,b=n,x=b;e:for(;x!==null;){switch(x.tag){case 27:if(Zn(x.type)){ze=x.stateNode,xt=!1;break e}break;case 5:ze=x.stateNode,xt=!1;break e;case 3:case 4:ze=x.stateNode.containerInfo,xt=!0;break e}x=x.return}if(ze===null)throw Error(i(160));zg(h,b,c),ze=null,xt=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ig(n,e),n=n.sibling}var Xt=null;function Ig(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:jt(n,e),Nt(e),s&4&&(Pn(3,e,e.return),ma(3,e),Pn(5,e,e.return));break;case 1:jt(n,e),Nt(e),s&512&&($e||o===null||Wt(o,o.return)),s&64&&yn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var c=Xt;if(jt(n,e),Nt(e),s&512&&($e||o===null||Wt(o,o.return)),s&4){var h=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,c=c.ownerDocument||c;t:switch(s){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Po]||h[lt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(s),c.head.insertBefore(h,c.querySelector("head > title"))),it(h,s,o),h[lt]=e,et(h),s=h;break e;case"link":var b=Am("link","href",c).get(s+(o.href||""));if(b){for(var x=0;x<b.length;x++)if(h=b[x],h.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&h.getAttribute("rel")===(o.rel==null?null:o.rel)&&h.getAttribute("title")===(o.title==null?null:o.title)&&h.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(x,1);break t}}h=c.createElement(s),it(h,s,o),c.head.appendChild(h);break;case"meta":if(b=Am("meta","content",c).get(s+(o.content||""))){for(x=0;x<b.length;x++)if(h=b[x],h.getAttribute("content")===(o.content==null?null:""+o.content)&&h.getAttribute("name")===(o.name==null?null:o.name)&&h.getAttribute("property")===(o.property==null?null:o.property)&&h.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&h.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(x,1);break t}}h=c.createElement(s),it(h,s,o),c.head.appendChild(h);break;default:throw Error(i(468,s))}h[lt]=e,et(h),s=h}e.stateNode=s}else Lm(c,e.type,e.stateNode);else e.stateNode=_m(c,s,e.memoizedProps);else h!==s?(h===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):h.count--,s===null?Lm(c,e.type,e.stateNode):_m(c,s,e.memoizedProps)):s===null&&e.stateNode!==null&&zc(e,e.memoizedProps,o.memoizedProps)}break;case 27:jt(n,e),Nt(e),s&512&&($e||o===null||Wt(o,o.return)),o!==null&&s&4&&zc(e,e.memoizedProps,o.memoizedProps);break;case 5:if(jt(n,e),Nt(e),s&512&&($e||o===null||Wt(o,o.return)),e.flags&32){c=e.stateNode;try{$r(c,"")}catch(z){_e(e,e.return,z)}}s&4&&e.stateNode!=null&&(c=e.memoizedProps,zc(e,c,o!==null?o.memoizedProps:c)),s&1024&&(Uc=!0);break;case 6:if(jt(n,e),Nt(e),s&4){if(e.stateNode===null)throw Error(i(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(z){_e(e,e.return,z)}}break;case 3:if(ls=null,c=Xt,Xt=is(n.containerInfo),jt(n,e),Xt=c,Nt(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{La(n.containerInfo)}catch(z){_e(e,e.return,z)}Uc&&(Uc=!1,Ug(e));break;case 4:s=Xt,Xt=is(e.stateNode.containerInfo),jt(n,e),Nt(e),Xt=s;break;case 12:jt(n,e),Nt(e);break;case 13:jt(n,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Xc=Qt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Pc(e,s)));break;case 22:c=e.memoizedState!==null;var E=o!==null&&o.memoizedState!==null,L=yn,P=$e;if(yn=L||c,$e=P||E,jt(n,e),$e=P,yn=L,Nt(e),s&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(o===null||E||yn||$e||Tr(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){E=o=n;try{if(h=E.stateNode,c)b=h.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{x=E.stateNode;var V=E.memoizedProps.style,R=V!=null&&V.hasOwnProperty("display")?V.display:null;x.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(z){_e(E,E.return,z)}}}else if(n.tag===6){if(o===null){E=n;try{E.stateNode.nodeValue=c?"":E.memoizedProps}catch(z){_e(E,E.return,z)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,Pc(e,o))));break;case 19:jt(n,e),Nt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Pc(e,s)));break;case 30:break;case 21:break;default:jt(n,e),Nt(e)}}function Nt(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if(_g(s)){o=s;break}s=s.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var c=o.stateNode,h=Hc(e);Xi(e,h,c);break;case 5:var b=o.stateNode;o.flags&32&&($r(b,""),o.flags&=-33);var x=Hc(e);Xi(e,x,b);break;case 3:case 4:var E=o.stateNode.containerInfo,L=Hc(e);Ic(e,L,E);break;default:throw Error(i(161))}}catch(P){_e(e,e.return,P)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ug(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ug(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Rg(e,n.alternate,n),n=n.sibling}function Tr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Pn(4,n,n.return),Tr(n);break;case 1:Wt(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Og(n,n.return,o),Tr(n);break;case 27:Ta(n.stateNode);case 26:case 5:Wt(n,n.return),Tr(n);break;case 22:n.memoizedState===null&&Tr(n);break;case 30:Tr(n);break;default:Tr(n)}e=e.sibling}}function Yn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,c=e,h=n,b=h.flags;switch(h.tag){case 0:case 11:case 15:Yn(c,h,o),ma(4,h);break;case 1:if(Yn(c,h,o),s=h,c=s.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){_e(s,s.return,L)}if(s=h,c=s.updateQueue,c!==null){var x=s.stateNode;try{var E=c.shared.hiddenCallbacks;if(E!==null)for(c.shared.hiddenCallbacks=null,c=0;c<E.length;c++)gp(E[c],x)}catch(L){_e(s,s.return,L)}}o&&b&64&&Bg(h),ba(h,h.return);break;case 27:Ag(h);case 26:case 5:Yn(c,h,o),o&&s===null&&b&4&&Mg(h),ba(h,h.return);break;case 12:Yn(c,h,o);break;case 13:Yn(c,h,o),o&&b&4&&Hg(c,h);break;case 22:h.memoizedState===null&&Yn(c,h,o),ba(h,h.return);break;case 30:break;default:Yn(c,h,o)}n=n.sibling}}function qc(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&na(o))}function Yc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&na(e))}function en(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Pg(e,n,o,s),n=n.sibling}function Pg(e,n,o,s){var c=n.flags;switch(n.tag){case 0:case 11:case 15:en(e,n,o,s),c&2048&&ma(9,n);break;case 1:en(e,n,o,s);break;case 3:en(e,n,o,s),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&na(e)));break;case 12:if(c&2048){en(e,n,o,s),e=n.stateNode;try{var h=n.memoizedProps,b=h.id,x=h.onPostCommit;typeof x=="function"&&x(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){_e(n,n.return,E)}}else en(e,n,o,s);break;case 13:en(e,n,o,s);break;case 23:break;case 22:h=n.stateNode,b=n.alternate,n.memoizedState!==null?h._visibility&2?en(e,n,o,s):va(e,n):h._visibility&2?en(e,n,o,s):(h._visibility|=2,uo(e,n,o,s,(n.subtreeFlags&10256)!==0)),c&2048&&qc(b,n);break;case 24:en(e,n,o,s),c&2048&&Yc(n.alternate,n);break;default:en(e,n,o,s)}}function uo(e,n,o,s,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=e,b=n,x=o,E=s,L=b.flags;switch(b.tag){case 0:case 11:case 15:uo(h,b,x,E,c),ma(8,b);break;case 23:break;case 22:var P=b.stateNode;b.memoizedState!==null?P._visibility&2?uo(h,b,x,E,c):va(h,b):(P._visibility|=2,uo(h,b,x,E,c)),c&&L&2048&&qc(b.alternate,b);break;case 24:uo(h,b,x,E,c),c&&L&2048&&Yc(b.alternate,b);break;default:uo(h,b,x,E,c)}n=n.sibling}}function va(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,c=s.flags;switch(s.tag){case 22:va(o,s),c&2048&&qc(s.alternate,s);break;case 24:va(o,s),c&2048&&Yc(s.alternate,s);break;default:va(o,s)}n=n.sibling}}var xa=8192;function ho(e){if(e.subtreeFlags&xa)for(e=e.child;e!==null;)qg(e),e=e.sibling}function qg(e){switch(e.tag){case 26:ho(e),e.flags&xa&&e.memoizedState!==null&&ny(Xt,e.memoizedState,e.memoizedProps);break;case 5:ho(e);break;case 3:case 4:var n=Xt;Xt=is(e.stateNode.containerInfo),ho(e),Xt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=xa,xa=16777216,ho(e),xa=n):ho(e));break;default:ho(e)}}function Yg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ya(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];nt=s,$g(s,e)}Yg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fg(e),e=e.sibling}function Fg(e){switch(e.tag){case 0:case 11:case 15:ya(e),e.flags&2048&&Pn(9,e,e.return);break;case 3:ya(e);break;case 12:ya(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Gi(e)):ya(e);break;default:ya(e)}}function Gi(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];nt=s,$g(s,e)}Yg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Pn(8,n,n.return),Gi(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Gi(n));break;default:Gi(n)}e=e.sibling}}function $g(e,n){for(;nt!==null;){var o=nt;switch(o.tag){case 0:case 11:case 15:Pn(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:na(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,nt=s;else e:for(o=e;nt!==null;){s=nt;var c=s.sibling,h=s.return;if(Dg(s),s===o){nt=null;break e}if(c!==null){c.return=h,nt=c;break e}nt=h}}}var vx={getCacheForType:function(e){var n=ct(Qe),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o}},xx=typeof WeakMap=="function"?WeakMap:Map,je=0,Ae=null,xe=null,ke=0,Ne=0,Bt=null,Fn=!1,fo=!1,Fc=!1,wn=0,qe=0,$n=0,jr=0,$c=0,Pt=0,po=0,ka=null,yt=null,Vc=!1,Xc=0,Zi=1/0,Qi=null,Vn=null,at=0,Xn=null,go=null,mo=0,Gc=0,Zc=null,Vg=null,wa=0,Qc=null;function Ot(){if((je&2)!==0&&ke!==0)return ke&-ke;if(A.T!==null){var e=no;return e!==0?e:rd()}return lf()}function Xg(){Pt===0&&(Pt=(ke&536870912)===0||Ce?rf():536870912);var e=Ut.current;return e!==null&&(e.flags|=32),Pt}function Mt(e,n,o){(e===Ae&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(bo(e,0),Gn(e,ke,Pt,!1)),Uo(e,o),((je&2)===0||e!==Ae)&&(e===Ae&&((je&2)===0&&(jr|=o),qe===4&&Gn(e,ke,Pt,!1)),tn(e))}function Gg(e,n,o){if((je&6)!==0)throw Error(i(327));var s=!o&&(n&124)===0&&(n&e.expiredLanes)===0||Io(e,n),c=s?wx(e,n):Wc(e,n,!0),h=s;do{if(c===0){fo&&!s&&Gn(e,n,0,!1);break}else{if(o=e.current.alternate,h&&!yx(o)){c=Wc(e,n,!1),h=!1;continue}if(c===2){if(h=n,e.errorRecoveryDisabledLanes&h)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var x=e;c=ka;var E=x.current.memoizedState.isDehydrated;if(E&&(bo(x,b).flags|=256),b=Wc(x,b,!1),b!==2){if(Fc&&!E){x.errorRecoveryDisabledLanes|=h,jr|=h,c=4;break e}h=yt,yt=c,h!==null&&(yt===null?yt=h:yt.push.apply(yt,h))}c=b}if(h=!1,c!==2)continue}}if(c===1){bo(e,0),Gn(e,n,0,!0);break}e:{switch(s=e,h=c,h){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:Gn(s,n,Pt,!Fn);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(c=Xc+300-Qt(),10<c)){if(Gn(s,n,Pt,!Fn),si(s,0,!0)!==0)break e;s.timeoutHandle=Sm(Zg.bind(null,s,o,yt,Qi,Vc,n,Pt,jr,po,Fn,h,2,-0,0),c);break e}Zg(s,o,yt,Qi,Vc,n,Pt,jr,po,Fn,h,0,-0,0)}}break}while(!0);tn(e)}function Zg(e,n,o,s,c,h,b,x,E,L,P,V,R,z){if(e.timeoutHandle=-1,V=n.subtreeFlags,(V&8192||(V&16785408)===16785408)&&(Ba={stylesheets:null,count:0,unsuspend:ty},qg(n),V=ry(),V!==null)){e.cancelPendingCommit=V(nm.bind(null,e,n,h,o,s,c,b,x,E,P,1,R,z)),Gn(e,h,b,!L);return}nm(e,n,h,o,s,c,b,x,E)}function yx(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var c=o[s],h=c.getSnapshot;c=c.value;try{if(!Ct(h(),c))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gn(e,n,o,s){n&=~$c,n&=~jr,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var c=n;0<c;){var h=31-Et(c),b=1<<h;s[h]=-1,c&=~b}o!==0&&af(e,o,n)}function Ki(){return(je&6)===0?(Sa(0),!1):!0}function Kc(){if(xe!==null){if(Ne===0)var e=xe.return;else e=xe,pn=kr=null,pc(e),lo=null,fa=0,e=xe;for(;e!==null;)Ng(e.alternate,e),e=e.return;xe=null}}function bo(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Hx(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Kc(),Ae=e,xe=o=un(e.current,null),ke=n,Ne=0,Bt=null,Fn=!1,fo=Io(e,n),Fc=!1,po=Pt=$c=jr=$n=qe=0,yt=ka=null,Vc=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var c=31-Et(s),h=1<<c;n|=e[c],s&=~h}return wn=n,xi(),o}function Qg(e,n){be=null,A.H=Hi,n===oa||n===Ni?(n=fp(),Ne=3):n===dp?(n=fp(),Ne=4):Ne=n===pg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Bt=n,xe===null&&(qe=1,Yi(e,Dt(n,e.current)))}function Kg(){var e=A.H;return A.H=Hi,e===null?Hi:e}function Jg(){var e=A.A;return A.A=vx,e}function Jc(){qe=4,Fn||(ke&4194048)!==ke&&Ut.current!==null||(fo=!0),($n&134217727)===0&&(jr&134217727)===0||Ae===null||Gn(Ae,ke,Pt,!1)}function Wc(e,n,o){var s=je;je|=2;var c=Kg(),h=Jg();(Ae!==e||ke!==n)&&(Qi=null,bo(e,n)),n=!1;var b=qe;e:do try{if(Ne!==0&&xe!==null){var x=xe,E=Bt;switch(Ne){case 8:Kc(),b=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(n=!0);var L=Ne;if(Ne=0,Bt=null,vo(e,x,E,L),o&&fo){b=0;break e}break;default:L=Ne,Ne=0,Bt=null,vo(e,x,E,L)}}kx(),b=qe;break}catch(P){Qg(e,P)}while(!0);return n&&e.shellSuspendCounter++,pn=kr=null,je=s,A.H=c,A.A=h,xe===null&&(Ae=null,ke=0,xi()),b}function kx(){for(;xe!==null;)Wg(xe)}function wx(e,n){var o=je;je|=2;var s=Kg(),c=Jg();Ae!==e||ke!==n?(Qi=null,Zi=Qt()+500,bo(e,n)):fo=Io(e,n);e:do try{if(Ne!==0&&xe!==null){n=xe;var h=Bt;t:switch(Ne){case 1:Ne=0,Bt=null,vo(e,n,h,1);break;case 2:case 9:if(up(h)){Ne=0,Bt=null,em(n);break}n=function(){Ne!==2&&Ne!==9||Ae!==e||(Ne=7),tn(e)},h.then(n,n);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:up(h)?(Ne=0,Bt=null,em(n)):(Ne=0,Bt=null,vo(e,n,h,7));break;case 5:var b=null;switch(xe.tag){case 26:b=xe.memoizedState;case 5:case 27:var x=xe;if(!b||Rm(b)){Ne=0,Bt=null;var E=x.sibling;if(E!==null)xe=E;else{var L=x.return;L!==null?(xe=L,Ji(L)):xe=null}break t}}Ne=0,Bt=null,vo(e,n,h,5);break;case 6:Ne=0,Bt=null,vo(e,n,h,6);break;case 8:Kc(),qe=6;break e;default:throw Error(i(462))}}Sx();break}catch(P){Qg(e,P)}while(!0);return pn=kr=null,A.H=s,A.A=c,je=o,xe!==null?0:(Ae=null,ke=0,xi(),qe)}function Sx(){for(;xe!==null&&!$v();)Wg(xe)}function Wg(e){var n=Tg(e.alternate,e,wn);e.memoizedProps=e.pendingProps,n===null?Ji(e):xe=n}function em(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=yg(o,n,n.pendingProps,n.type,void 0,ke);break;case 11:n=yg(o,n,n.pendingProps,n.type.render,n.ref,ke);break;case 5:pc(n);default:Ng(o,n),n=xe=tp(n,wn),n=Tg(o,n,wn)}e.memoizedProps=e.pendingProps,n===null?Ji(e):xe=n}function vo(e,n,o,s){pn=kr=null,pc(n),lo=null,fa=0;var c=n.return;try{if(hx(e,c,n,o,ke)){qe=1,Yi(e,Dt(o,e.current)),xe=null;return}}catch(h){if(c!==null)throw xe=c,h;qe=1,Yi(e,Dt(o,e.current)),xe=null;return}n.flags&32768?(Ce||s===1?e=!0:fo||(ke&536870912)!==0?e=!1:(Fn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ut.current,s!==null&&s.tag===13&&(s.flags|=16384))),tm(n,e)):Ji(n)}function Ji(e){var n=e;do{if((n.flags&32768)!==0){tm(n,Fn);return}e=n.return;var o=px(n.alternate,n,wn);if(o!==null){xe=o;return}if(n=n.sibling,n!==null){xe=n;return}xe=n=e}while(n!==null);qe===0&&(qe=5)}function tm(e,n){do{var o=gx(e.alternate,e);if(o!==null){o.flags&=32767,xe=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){xe=e;return}xe=e=o}while(e!==null);qe=6,xe=null}function nm(e,n,o,s,c,h,b,x,E){e.cancelPendingCommit=null;do Wi();while(at!==0);if((je&6)!==0)throw Error(i(327));if(n!==null){if(n===e.current)throw Error(i(177));if(h=n.lanes|n.childLanes,h|=Yl,t1(e,o,h,b,x,E),e===Ae&&(xe=Ae=null,ke=0),go=n,Xn=e,mo=o,Gc=h,Zc=c,Vg=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jx(oi,function(){return sm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=A.T,A.T=null,c=K.p,K.p=2,b=je,je|=4;try{mx(e,n,o)}finally{je=b,K.p=c,A.T=s}}at=1,rm(),om(),am()}}function rm(){if(at===1){at=0;var e=Xn,n=go,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=A.T,A.T=null;var s=K.p;K.p=2;var c=je;je|=4;try{Ig(n,e);var h=ud,b=$f(e.containerInfo),x=h.focusedElem,E=h.selectionRange;if(b!==x&&x&&x.ownerDocument&&Ff(x.ownerDocument.documentElement,x)){if(E!==null&&Hl(x)){var L=E.start,P=E.end;if(P===void 0&&(P=L),"selectionStart"in x)x.selectionStart=L,x.selectionEnd=Math.min(P,x.value.length);else{var V=x.ownerDocument||document,R=V&&V.defaultView||window;if(R.getSelection){var z=R.getSelection(),he=x.textContent.length,de=Math.min(E.start,he),Me=E.end===void 0?de:Math.min(E.end,he);!z.extend&&de>Me&&(b=Me,Me=de,de=b);var O=Yf(x,de),N=Yf(x,Me);if(O&&N&&(z.rangeCount!==1||z.anchorNode!==O.node||z.anchorOffset!==O.offset||z.focusNode!==N.node||z.focusOffset!==N.offset)){var _=V.createRange();_.setStart(O.node,O.offset),z.removeAllRanges(),de>Me?(z.addRange(_),z.extend(N.node,N.offset)):(_.setEnd(N.node,N.offset),z.addRange(_))}}}}for(V=[],z=x;z=z.parentNode;)z.nodeType===1&&V.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<V.length;x++){var Y=V[x];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}us=!!dd,ud=dd=null}finally{je=c,K.p=s,A.T=o}}e.current=n,at=2}}function om(){if(at===2){at=0;var e=Xn,n=go,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=A.T,A.T=null;var s=K.p;K.p=2;var c=je;je|=4;try{Rg(e,n.alternate,n)}finally{je=c,K.p=s,A.T=o}}at=3}}function am(){if(at===4||at===3){at=0,Vv();var e=Xn,n=go,o=mo,s=Vg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?at=5:(at=0,go=Xn=null,im(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Vn=null),bl(o),n=n.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Ho,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=A.T,c=K.p,K.p=2,A.T=null;try{for(var h=e.onRecoverableError,b=0;b<s.length;b++){var x=s[b];h(x.value,{componentStack:x.stack})}}finally{A.T=n,K.p=c}}(mo&3)!==0&&Wi(),tn(e),c=e.pendingLanes,(o&4194090)!==0&&(c&42)!==0?e===Qc?wa++:(wa=0,Qc=e):wa=0,Sa(0)}}function im(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,na(n)))}function Wi(e){return rm(),om(),am(),sm()}function sm(){if(at!==5)return!1;var e=Xn,n=Gc;Gc=0;var o=bl(mo),s=A.T,c=K.p;try{K.p=32>o?32:o,A.T=null,o=Zc,Zc=null;var h=Xn,b=mo;if(at=0,go=Xn=null,mo=0,(je&6)!==0)throw Error(i(331));var x=je;if(je|=4,Fg(h.current),Pg(h,h.current,b,o),je=x,Sa(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Ho,h)}catch{}return!0}finally{K.p=c,A.T=s,im(e,n)}}function lm(e,n,o){n=Dt(o,n),n=Nc(e.stateNode,n,2),e=zn(e,n,2),e!==null&&(Uo(e,2),tn(e))}function _e(e,n,o){if(e.tag===3)lm(e,e,o);else for(;n!==null;){if(n.tag===3){lm(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Vn===null||!Vn.has(s))){e=Dt(o,e),o=hg(2),s=zn(n,o,2),s!==null&&(fg(o,s,n,e),Uo(s,2),tn(s));break}}n=n.return}}function ed(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new xx;var c=new Set;s.set(n,c)}else c=s.get(n),c===void 0&&(c=new Set,s.set(n,c));c.has(o)||(Fc=!0,c.add(o),e=Ex.bind(null,e,n,o),n.then(e,e))}function Ex(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Ae===e&&(ke&o)===o&&(qe===4||qe===3&&(ke&62914560)===ke&&300>Qt()-Xc?(je&2)===0&&bo(e,0):$c|=o,po===ke&&(po=0)),tn(e)}function cm(e,n){n===0&&(n=of()),e=Jr(e,n),e!==null&&(Uo(e,n),tn(e))}function Cx(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),cm(e,o)}function Tx(e,n){var o=0;switch(e.tag){case 13:var s=e.stateNode,c=e.memoizedState;c!==null&&(o=c.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(i(314))}s!==null&&s.delete(n),cm(e,o)}function jx(e,n){return fl(e,n)}var es=null,xo=null,td=!1,ts=!1,nd=!1,Nr=0;function tn(e){e!==xo&&e.next===null&&(xo===null?es=xo=e:xo=xo.next=e),ts=!0,td||(td=!0,Bx())}function Sa(e,n){if(!nd&&ts){nd=!0;do for(var o=!1,s=es;s!==null;){if(e!==0){var c=s.pendingLanes;if(c===0)var h=0;else{var b=s.suspendedLanes,x=s.pingedLanes;h=(1<<31-Et(42|e)+1)-1,h&=c&~(b&~x),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(o=!0,fm(s,h))}else h=ke,h=si(s,s===Ae?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||Io(s,h)||(o=!0,fm(s,h));s=s.next}while(o);nd=!1}}function Nx(){dm()}function dm(){ts=td=!1;var e=0;Nr!==0&&(zx()&&(e=Nr),Nr=0);for(var n=Qt(),o=null,s=es;s!==null;){var c=s.next,h=um(s,n);h===0?(s.next=null,o===null?es=c:o.next=c,c===null&&(xo=o)):(o=s,(e!==0||(h&3)!==0)&&(ts=!0)),s=c}Sa(e)}function um(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var b=31-Et(h),x=1<<b,E=c[b];E===-1?((x&o)===0||(x&s)!==0)&&(c[b]=e1(x,n)):E<=n&&(e.expiredLanes|=x),h&=~x}if(n=Ae,o=ke,o=si(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&pl(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Io(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&pl(s),bl(o)){case 2:case 8:o=tf;break;case 32:o=oi;break;case 268435456:o=nf;break;default:o=oi}return s=hm.bind(null,e),o=fl(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&pl(s),e.callbackPriority=2,e.callbackNode=null,2}function hm(e,n){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Wi()&&e.callbackNode!==o)return null;var s=ke;return s=si(e,e===Ae?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Gg(e,s,n),um(e,Qt()),e.callbackNode!=null&&e.callbackNode===o?hm.bind(null,e):null)}function fm(e,n){if(Wi())return null;Gg(e,n,!0)}function Bx(){Ix(function(){(je&6)!==0?fl(ef,Nx):dm()})}function rd(){return Nr===0&&(Nr=rf()),Nr}function pm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:hi(""+e)}function gm(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function Ox(e,n,o,s,c){if(n==="submit"&&o&&o.stateNode===c){var h=pm((c[mt]||null).action),b=s.submitter;b&&(n=(n=b[mt]||null)?pm(n.formAction):b.getAttribute("formAction"),n!==null&&(h=n,b=null));var x=new mi("action","action",null,s,c);e.push({event:x,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Nr!==0){var E=b?gm(c,b):new FormData(c);Sc(o,{pending:!0,data:E,method:c.method,action:h},null,E)}}else typeof h=="function"&&(x.preventDefault(),E=b?gm(c,b):new FormData(c),Sc(o,{pending:!0,data:E,method:c.method,action:h},h,E))},currentTarget:c}]})}}for(var od=0;od<ql.length;od++){var ad=ql[od],Mx=ad.toLowerCase(),_x=ad[0].toUpperCase()+ad.slice(1);Vt(Mx,"on"+_x)}Vt(Gf,"onAnimationEnd"),Vt(Zf,"onAnimationIteration"),Vt(Qf,"onAnimationStart"),Vt("dblclick","onDoubleClick"),Vt("focusin","onFocus"),Vt("focusout","onBlur"),Vt(Z1,"onTransitionRun"),Vt(Q1,"onTransitionStart"),Vt(K1,"onTransitionCancel"),Vt(Kf,"onTransitionEnd"),qr("onMouseEnter",["mouseout","mouseover"]),qr("onMouseLeave",["mouseout","mouseover"]),qr("onPointerEnter",["pointerout","pointerover"]),qr("onPointerLeave",["pointerout","pointerover"]),hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ax=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ea));function mm(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],c=s.event;s=s.listeners;e:{var h=void 0;if(n)for(var b=s.length-1;0<=b;b--){var x=s[b],E=x.instance,L=x.currentTarget;if(x=x.listener,E!==h&&c.isPropagationStopped())break e;h=x,c.currentTarget=L;try{h(c)}catch(P){qi(P)}c.currentTarget=null,h=E}else for(b=0;b<s.length;b++){if(x=s[b],E=x.instance,L=x.currentTarget,x=x.listener,E!==h&&c.isPropagationStopped())break e;h=x,c.currentTarget=L;try{h(c)}catch(P){qi(P)}c.currentTarget=null,h=E}}}}function ye(e,n){var o=n[vl];o===void 0&&(o=n[vl]=new Set);var s=e+"__bubble";o.has(s)||(bm(n,e,2,!1),o.add(s))}function id(e,n,o){var s=0;n&&(s|=4),bm(o,e,s,n)}var ns="_reactListening"+Math.random().toString(36).slice(2);function sd(e){if(!e[ns]){e[ns]=!0,df.forEach(function(o){o!=="selectionchange"&&(Ax.has(o)||id(o,!1,e),id(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ns]||(n[ns]=!0,id("selectionchange",!1,n))}}function bm(e,n,o,s){switch(Pm(n)){case 2:var c=iy;break;case 8:c=sy;break;default:c=kd}o=c.bind(null,n,o,e),c=void 0,!Bl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),s?c!==void 0?e.addEventListener(n,o,{capture:!0,passive:c}):e.addEventListener(n,o,!0):c!==void 0?e.addEventListener(n,o,{passive:c}):e.addEventListener(n,o,!1)}function ld(e,n,o,s,c){var h=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var b=s.tag;if(b===3||b===4){var x=s.stateNode.containerInfo;if(x===c)break;if(b===4)for(b=s.return;b!==null;){var E=b.tag;if((E===3||E===4)&&b.stateNode.containerInfo===c)return;b=b.return}for(;x!==null;){if(b=Ir(x),b===null)return;if(E=b.tag,E===5||E===6||E===26||E===27){s=h=b;continue e}x=x.parentNode}}s=s.return}Ef(function(){var L=h,P=jl(o),V=[];e:{var R=Jf.get(e);if(R!==void 0){var z=mi,he=e;switch(e){case"keypress":if(pi(o)===0)break e;case"keydown":case"keyup":z=j1;break;case"focusin":he="focus",z=Al;break;case"focusout":he="blur",z=Al;break;case"beforeblur":case"afterblur":z=Al;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=jf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=g1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=O1;break;case Gf:case Zf:case Qf:z=v1;break;case Kf:z=_1;break;case"scroll":case"scrollend":z=f1;break;case"wheel":z=L1;break;case"copy":case"cut":case"paste":z=y1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Bf;break;case"toggle":case"beforetoggle":z=D1}var de=(n&4)!==0,Me=!de&&(e==="scroll"||e==="scrollend"),O=de?R!==null?R+"Capture":null:R;de=[];for(var N=L,_;N!==null;){var Y=N;if(_=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||_===null||O===null||(Y=Yo(N,O),Y!=null&&de.push(Ca(N,Y,_))),Me)break;N=N.return}0<de.length&&(R=new z(R,he,null,o,P),V.push({event:R,listeners:de}))}}if((n&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",R&&o!==Tl&&(he=o.relatedTarget||o.fromElement)&&(Ir(he)||he[Hr]))break e;if((z||R)&&(R=P.window===P?P:(R=P.ownerDocument)?R.defaultView||R.parentWindow:window,z?(he=o.relatedTarget||o.toElement,z=L,he=he?Ir(he):null,he!==null&&(Me=d(he),de=he.tag,he!==Me||de!==5&&de!==27&&de!==6)&&(he=null)):(z=null,he=L),z!==he)){if(de=jf,Y="onMouseLeave",O="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(de=Bf,Y="onPointerLeave",O="onPointerEnter",N="pointer"),Me=z==null?R:qo(z),_=he==null?R:qo(he),R=new de(Y,N+"leave",z,o,P),R.target=Me,R.relatedTarget=_,Y=null,Ir(P)===L&&(de=new de(O,N+"enter",he,o,P),de.target=_,de.relatedTarget=Me,Y=de),Me=Y,z&&he)t:{for(de=z,O=he,N=0,_=de;_;_=yo(_))N++;for(_=0,Y=O;Y;Y=yo(Y))_++;for(;0<N-_;)de=yo(de),N--;for(;0<_-N;)O=yo(O),_--;for(;N--;){if(de===O||O!==null&&de===O.alternate)break t;de=yo(de),O=yo(O)}de=null}else de=null;z!==null&&vm(V,R,z,de,!1),he!==null&&Me!==null&&vm(V,Me,he,de,!0)}}e:{if(R=L?qo(L):window,z=R.nodeName&&R.nodeName.toLowerCase(),z==="select"||z==="input"&&R.type==="file")var ae=zf;else if(Rf(R))if(Hf)ae=V1;else{ae=F1;var ve=Y1}else z=R.nodeName,!z||z.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?L&&Cl(L.elementType)&&(ae=zf):ae=$1;if(ae&&(ae=ae(e,L))){Df(V,ae,o,P);break e}ve&&ve(e,R,L),e==="focusout"&&L&&R.type==="number"&&L.memoizedProps.value!=null&&El(R,"number",R.value)}switch(ve=L?qo(L):window,e){case"focusin":(Rf(ve)||ve.contentEditable==="true")&&(Zr=ve,Il=L,Ko=null);break;case"focusout":Ko=Il=Zr=null;break;case"mousedown":Ul=!0;break;case"contextmenu":case"mouseup":case"dragend":Ul=!1,Vf(V,o,P);break;case"selectionchange":if(G1)break;case"keydown":case"keyup":Vf(V,o,P)}var se;if(Rl)e:{switch(e){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else Gr?Af(e,o)&&(ue="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(ue="onCompositionStart");ue&&(Of&&o.locale!=="ko"&&(Gr||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&Gr&&(se=Cf()):(An=P,Ol="value"in An?An.value:An.textContent,Gr=!0)),ve=rs(L,ue),0<ve.length&&(ue=new Nf(ue,e,null,o,P),V.push({event:ue,listeners:ve}),se?ue.data=se:(se=Lf(o),se!==null&&(ue.data=se)))),(se=H1?I1(e,o):U1(e,o))&&(ue=rs(L,"onBeforeInput"),0<ue.length&&(ve=new Nf("onBeforeInput","beforeinput",null,o,P),V.push({event:ve,listeners:ue}),ve.data=se)),Ox(V,e,L,o,P)}mm(V,n)})}function Ca(e,n,o){return{instance:e,listener:n,currentTarget:o}}function rs(e,n){for(var o=n+"Capture",s=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Yo(e,o),c!=null&&s.unshift(Ca(e,c,h)),c=Yo(e,n),c!=null&&s.push(Ca(e,c,h))),e.tag===3)return s;e=e.return}return[]}function yo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vm(e,n,o,s,c){for(var h=n._reactName,b=[];o!==null&&o!==s;){var x=o,E=x.alternate,L=x.stateNode;if(x=x.tag,E!==null&&E===s)break;x!==5&&x!==26&&x!==27||L===null||(E=L,c?(L=Yo(o,h),L!=null&&b.unshift(Ca(o,L,E))):c||(L=Yo(o,h),L!=null&&b.push(Ca(o,L,E)))),o=o.return}b.length!==0&&e.push({event:n,listeners:b})}var Lx=/\r\n?/g,Rx=/\u0000|\uFFFD/g;function xm(e){return(typeof e=="string"?e:""+e).replace(Lx,`
`).replace(Rx,"")}function ym(e,n){return n=xm(n),xm(e)===n}function os(){}function Oe(e,n,o,s,c,h){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||$r(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&$r(e,""+s);break;case"className":ci(e,"class",s);break;case"tabIndex":ci(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ci(e,o,s);break;case"style":wf(e,s,h);break;case"data":if(n!=="object"){ci(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=hi(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(o==="formAction"?(n!=="input"&&Oe(e,n,"name",c.name,c,null),Oe(e,n,"formEncType",c.formEncType,c,null),Oe(e,n,"formMethod",c.formMethod,c,null),Oe(e,n,"formTarget",c.formTarget,c,null)):(Oe(e,n,"encType",c.encType,c,null),Oe(e,n,"method",c.method,c,null),Oe(e,n,"target",c.target,c,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=hi(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=os);break;case"onScroll":s!=null&&ye("scroll",e);break;case"onScrollEnd":s!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(i(61));if(o=s.__html,o!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=hi(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":ye("beforetoggle",e),ye("toggle",e),li(e,"popover",s);break;case"xlinkActuate":cn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":cn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":cn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":cn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":cn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":cn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":cn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":cn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":cn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":li(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=u1.get(o)||o,li(e,o,s))}}function cd(e,n,o,s,c,h){switch(o){case"style":wf(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(i(61));if(o=s.__html,o!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=o}}break;case"children":typeof s=="string"?$r(e,s):(typeof s=="number"||typeof s=="bigint")&&$r(e,""+s);break;case"onScroll":s!=null&&ye("scroll",e);break;case"onScrollEnd":s!=null&&ye("scrollend",e);break;case"onClick":s!=null&&(e.onclick=os);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uf.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(c=o.endsWith("Capture"),n=o.slice(2,c?o.length-7:void 0),h=e[mt]||null,h=h!=null?h[o]:null,typeof h=="function"&&e.removeEventListener(n,h,c),typeof s=="function")){typeof h!="function"&&h!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,c);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):li(e,o,s)}}}function it(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var s=!1,c=!1,h;for(h in o)if(o.hasOwnProperty(h)){var b=o[h];if(b!=null)switch(h){case"src":s=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Oe(e,n,h,b,o,null)}}c&&Oe(e,n,"srcSet",o.srcSet,o,null),s&&Oe(e,n,"src",o.src,o,null);return;case"input":ye("invalid",e);var x=h=b=c=null,E=null,L=null;for(s in o)if(o.hasOwnProperty(s)){var P=o[s];if(P!=null)switch(s){case"name":c=P;break;case"type":b=P;break;case"checked":E=P;break;case"defaultChecked":L=P;break;case"value":h=P;break;case"defaultValue":x=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,n));break;default:Oe(e,n,s,P,o,null)}}vf(e,h,x,E,L,b,c,!1),di(e);return;case"select":ye("invalid",e),s=b=h=null;for(c in o)if(o.hasOwnProperty(c)&&(x=o[c],x!=null))switch(c){case"value":h=x;break;case"defaultValue":b=x;break;case"multiple":s=x;default:Oe(e,n,c,x,o,null)}n=h,o=b,e.multiple=!!s,n!=null?Fr(e,!!s,n,!1):o!=null&&Fr(e,!!s,o,!0);return;case"textarea":ye("invalid",e),h=c=s=null;for(b in o)if(o.hasOwnProperty(b)&&(x=o[b],x!=null))switch(b){case"value":s=x;break;case"defaultValue":c=x;break;case"children":h=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:Oe(e,n,b,x,o,null)}yf(e,s,c,h),di(e);return;case"option":for(E in o)if(o.hasOwnProperty(E)&&(s=o[E],s!=null))switch(E){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Oe(e,n,E,s,o,null)}return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(s=0;s<Ea.length;s++)ye(Ea[s],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in o)if(o.hasOwnProperty(L)&&(s=o[L],s!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Oe(e,n,L,s,o,null)}return;default:if(Cl(n)){for(P in o)o.hasOwnProperty(P)&&(s=o[P],s!==void 0&&cd(e,n,P,s,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(s=o[x],s!=null&&Oe(e,n,x,s,o,null))}function Dx(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,b=null,x=null,E=null,L=null,P=null;for(z in o){var V=o[z];if(o.hasOwnProperty(z)&&V!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":E=V;default:s.hasOwnProperty(z)||Oe(e,n,z,null,s,V)}}for(var R in s){var z=s[R];if(V=o[R],s.hasOwnProperty(R)&&(z!=null||V!=null))switch(R){case"type":h=z;break;case"name":c=z;break;case"checked":L=z;break;case"defaultChecked":P=z;break;case"value":b=z;break;case"defaultValue":x=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,n));break;default:z!==V&&Oe(e,n,R,z,s,V)}}Sl(e,b,x,E,L,P,h,c);return;case"select":z=b=x=R=null;for(h in o)if(E=o[h],o.hasOwnProperty(h)&&E!=null)switch(h){case"value":break;case"multiple":z=E;default:s.hasOwnProperty(h)||Oe(e,n,h,null,s,E)}for(c in s)if(h=s[c],E=o[c],s.hasOwnProperty(c)&&(h!=null||E!=null))switch(c){case"value":R=h;break;case"defaultValue":x=h;break;case"multiple":b=h;default:h!==E&&Oe(e,n,c,h,s,E)}n=x,o=b,s=z,R!=null?Fr(e,!!o,R,!1):!!s!=!!o&&(n!=null?Fr(e,!!o,n,!0):Fr(e,!!o,o?[]:"",!1));return;case"textarea":z=R=null;for(x in o)if(c=o[x],o.hasOwnProperty(x)&&c!=null&&!s.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Oe(e,n,x,null,s,c)}for(b in s)if(c=s[b],h=o[b],s.hasOwnProperty(b)&&(c!=null||h!=null))switch(b){case"value":R=c;break;case"defaultValue":z=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(i(91));break;default:c!==h&&Oe(e,n,b,c,s,h)}xf(e,R,z);return;case"option":for(var he in o)if(R=o[he],o.hasOwnProperty(he)&&R!=null&&!s.hasOwnProperty(he))switch(he){case"selected":e.selected=!1;break;default:Oe(e,n,he,null,s,R)}for(E in s)if(R=s[E],z=o[E],s.hasOwnProperty(E)&&R!==z&&(R!=null||z!=null))switch(E){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:Oe(e,n,E,R,s,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in o)R=o[de],o.hasOwnProperty(de)&&R!=null&&!s.hasOwnProperty(de)&&Oe(e,n,de,null,s,R);for(L in s)if(R=s[L],z=o[L],s.hasOwnProperty(L)&&R!==z&&(R!=null||z!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(137,n));break;default:Oe(e,n,L,R,s,z)}return;default:if(Cl(n)){for(var Me in o)R=o[Me],o.hasOwnProperty(Me)&&R!==void 0&&!s.hasOwnProperty(Me)&&cd(e,n,Me,void 0,s,R);for(P in s)R=s[P],z=o[P],!s.hasOwnProperty(P)||R===z||R===void 0&&z===void 0||cd(e,n,P,R,s,z);return}}for(var O in o)R=o[O],o.hasOwnProperty(O)&&R!=null&&!s.hasOwnProperty(O)&&Oe(e,n,O,null,s,R);for(V in s)R=s[V],z=o[V],!s.hasOwnProperty(V)||R===z||R==null&&z==null||Oe(e,n,V,R,s,z)}var dd=null,ud=null;function as(e){return e.nodeType===9?e:e.ownerDocument}function km(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function zx(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var Sm=typeof setTimeout=="function"?setTimeout:void 0,Hx=typeof clearTimeout=="function"?clearTimeout:void 0,Em=typeof Promise=="function"?Promise:void 0,Ix=typeof queueMicrotask=="function"?queueMicrotask:typeof Em<"u"?function(e){return Em.resolve(null).then(e).catch(Ux)}:Sm;function Ux(e){setTimeout(function(){throw e})}function Zn(e){return e==="head"}function Cm(e,n){var o=n,s=0,c=0;do{var h=o.nextSibling;if(e.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(0<s&&8>s){o=s;var b=e.ownerDocument;if(o&1&&Ta(b.documentElement),o&2&&Ta(b.body),o&4)for(o=b.head,Ta(o),b=o.firstChild;b;){var x=b.nextSibling,E=b.nodeName;b[Po]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=x}}if(c===0){e.removeChild(h),La(n);return}c--}else o==="$"||o==="$?"||o==="$!"?c++:s=o.charCodeAt(0)-48;else s=0;o=h}while(o);La(n)}function pd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":pd(o),xl(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Px(e,n,o,s){for(;e.nodeType===1;){var c=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Po])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function qx(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Gt(e.nextSibling),e===null))return null;return e}function gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Yx(e,n){var o=e.ownerDocument;if(e.data!=="$?"||o.readyState==="complete")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Gt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var md=null;function Tm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}function jm(e,n,o){switch(n=as(o),e){case"html":if(e=n.documentElement,!e)throw Error(i(452));return e;case"head":if(e=n.head,!e)throw Error(i(453));return e;case"body":if(e=n.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Ta(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);xl(e)}var qt=new Map,Nm=new Set;function is(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sn=K.d;K.d={f:Fx,r:$x,D:Vx,C:Xx,L:Gx,m:Zx,X:Kx,S:Qx,M:Jx};function Fx(){var e=Sn.f(),n=Ki();return e||n}function $x(e){var n=Ur(e);n!==null&&n.tag===5&&n.type==="form"?Gp(n):Sn.r(e)}var ko=typeof document>"u"?null:document;function Bm(e,n,o){var s=ko;if(s&&typeof n=="string"&&n){var c=Rt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof o=="string"&&(c+='[crossorigin="'+o+'"]'),Nm.has(c)||(Nm.add(c),e={rel:e,crossOrigin:o,href:n},s.querySelector(c)===null&&(n=s.createElement("link"),it(n,"link",e),et(n),s.head.appendChild(n)))}}function Vx(e){Sn.D(e),Bm("dns-prefetch",e,null)}function Xx(e,n){Sn.C(e,n),Bm("preconnect",e,n)}function Gx(e,n,o){Sn.L(e,n,o);var s=ko;if(s&&e&&n){var c='link[rel="preload"][as="'+Rt(n)+'"]';n==="image"&&o&&o.imageSrcSet?(c+='[imagesrcset="'+Rt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(c+='[imagesizes="'+Rt(o.imageSizes)+'"]')):c+='[href="'+Rt(e)+'"]';var h=c;switch(n){case"style":h=wo(e);break;case"script":h=So(e)}qt.has(h)||(e=v({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),qt.set(h,e),s.querySelector(c)!==null||n==="style"&&s.querySelector(ja(h))||n==="script"&&s.querySelector(Na(h))||(n=s.createElement("link"),it(n,"link",e),et(n),s.head.appendChild(n)))}}function Zx(e,n){Sn.m(e,n);var o=ko;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Rt(s)+'"][href="'+Rt(e)+'"]',h=c;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=So(e)}if(!qt.has(h)&&(e=v({rel:"modulepreload",href:e},n),qt.set(h,e),o.querySelector(c)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Na(h)))return}s=o.createElement("link"),it(s,"link",e),et(s),o.head.appendChild(s)}}}function Qx(e,n,o){Sn.S(e,n,o);var s=ko;if(s&&e){var c=Pr(s).hoistableStyles,h=wo(e);n=n||"default";var b=c.get(h);if(!b){var x={loading:0,preload:null};if(b=s.querySelector(ja(h)))x.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":n},o),(o=qt.get(h))&&bd(e,o);var E=b=s.createElement("link");et(E),it(E,"link",e),E._p=new Promise(function(L,P){E.onload=L,E.onerror=P}),E.addEventListener("load",function(){x.loading|=1}),E.addEventListener("error",function(){x.loading|=2}),x.loading|=4,ss(b,n,s)}b={type:"stylesheet",instance:b,count:1,state:x},c.set(h,b)}}}function Kx(e,n){Sn.X(e,n);var o=ko;if(o&&e){var s=Pr(o).hoistableScripts,c=So(e),h=s.get(c);h||(h=o.querySelector(Na(c)),h||(e=v({src:e,async:!0},n),(n=qt.get(c))&&vd(e,n),h=o.createElement("script"),et(h),it(h,"link",e),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(c,h))}}function Jx(e,n){Sn.M(e,n);var o=ko;if(o&&e){var s=Pr(o).hoistableScripts,c=So(e),h=s.get(c);h||(h=o.querySelector(Na(c)),h||(e=v({src:e,async:!0,type:"module"},n),(n=qt.get(c))&&vd(e,n),h=o.createElement("script"),et(h),it(h,"link",e),o.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(c,h))}}function Om(e,n,o,s){var c=(c=pe.current)?is(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=wo(o.href),o=Pr(c).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=wo(o.href);var h=Pr(c).hoistableStyles,b=h.get(e);if(b||(c=c.ownerDocument||c,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,b),(h=c.querySelector(ja(e)))&&!h._p&&(b.instance=h,b.state.loading=5),qt.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},qt.set(e,o),h||Wx(c,e,o,b.state))),n&&s===null)throw Error(i(528,""));return b}if(n&&s!==null)throw Error(i(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=So(o),o=Pr(c).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function wo(e){return'href="'+Rt(e)+'"'}function ja(e){return'link[rel="stylesheet"]['+e+"]"}function Mm(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Wx(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),it(n,"link",o),et(n),e.head.appendChild(n))}function So(e){return'[src="'+Rt(e)+'"]'}function Na(e){return"script[async]"+e}function _m(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+Rt(o.href)+'"]');if(s)return n.instance=s,et(s),s;var c=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),et(s),it(s,"style",c),ss(s,o.precedence,e),n.instance=s;case"stylesheet":c=wo(o.href);var h=e.querySelector(ja(c));if(h)return n.state.loading|=4,n.instance=h,et(h),h;s=Mm(o),(c=qt.get(c))&&bd(s,c),h=(e.ownerDocument||e).createElement("link"),et(h);var b=h;return b._p=new Promise(function(x,E){b.onload=x,b.onerror=E}),it(h,"link",s),n.state.loading|=4,ss(h,o.precedence,e),n.instance=h;case"script":return h=So(o.src),(c=e.querySelector(Na(h)))?(n.instance=c,et(c),c):(s=o,(c=qt.get(h))&&(s=v({},o),vd(s,c)),e=e.ownerDocument||e,c=e.createElement("script"),et(c),it(c,"link",s),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,ss(s,o.precedence,e));return n.instance}function ss(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=s.length?s[s.length-1]:null,h=c,b=0;b<s.length;b++){var x=s[b];if(x.dataset.precedence===n)h=x;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ls=null;function Am(e,n,o){if(ls===null){var s=new Map,c=ls=new Map;c.set(o,s)}else c=ls,s=c.get(o),s||(s=new Map,c.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),c=0;c<o.length;c++){var h=o[c];if(!(h[Po]||h[lt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var b=h.getAttribute(n)||"";b=e+b;var x=s.get(b);x?x.push(h):s.set(b,[h])}}return s}function Lm(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function ey(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Rm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ba=null;function ty(){}function ny(e,n,o){if(Ba===null)throw Error(i(475));var s=Ba;if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=wo(o.href),h=e.querySelector(ja(c));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=cs.bind(s),e.then(s,s)),n.state.loading|=4,n.instance=h,et(h);return}h=e.ownerDocument||e,o=Mm(o),(c=qt.get(c))&&bd(o,c),h=h.createElement("link"),et(h);var b=h;b._p=new Promise(function(x,E){b.onload=x,b.onerror=E}),it(h,"link",o),n.instance=h}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(s.count++,n=cs.bind(s),e.addEventListener("load",n),e.addEventListener("error",n))}}function ry(){if(Ba===null)throw Error(i(475));var e=Ba;return e.stylesheets&&e.count===0&&xd(e,e.stylesheets),0<e.count?function(n){var o=setTimeout(function(){if(e.stylesheets&&xd(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(o)}}:null}function cs(){if(this.count--,this.count===0){if(this.stylesheets)xd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ds=null;function xd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ds=new Map,n.forEach(oy,e),ds=null,cs.call(e))}function oy(e,n){if(!(n.state.loading&4)){var o=ds.get(e);if(o)var s=o.get(null);else{o=new Map,ds.set(e,o);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var b=c[h];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),s=b)}s&&o.set(null,s)}c=n.instance,b=c.getAttribute("data-precedence"),h=o.get(b)||s,h===s&&o.set(null,c),o.set(b,c),this.count++,s=cs.bind(this),c.addEventListener("load",s),c.addEventListener("error",s),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Oa={$$typeof:H,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function ay(e,n,o,s,c,h,b,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gl(0),this.hiddenUpdates=gl(null),this.identifierPrefix=s,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Dm(e,n,o,s,c,h,b,x,E,L,P,V){return e=new ay(e,n,o,b,x,E,L,V),n=1,h===!0&&(n|=24),h=Tt(3,null,null,n),e.current=h,h.stateNode=e,n=ec(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:s,isDehydrated:o,cache:n},oc(h),e}function zm(e){return e?(e=Wr,e):Wr}function Hm(e,n,o,s,c,h){c=zm(c),s.context===null?s.context=c:s.pendingContext=c,s=Dn(n),s.payload={element:o},h=h===void 0?null:h,h!==null&&(s.callback=h),o=zn(e,s,n),o!==null&&(Mt(o,e,n),ia(o,e,n))}function Im(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function yd(e,n){Im(e,n),(e=e.alternate)&&Im(e,n)}function Um(e){if(e.tag===13){var n=Jr(e,67108864);n!==null&&Mt(n,e,67108864),yd(e,67108864)}}var us=!0;function iy(e,n,o,s){var c=A.T;A.T=null;var h=K.p;try{K.p=2,kd(e,n,o,s)}finally{K.p=h,A.T=c}}function sy(e,n,o,s){var c=A.T;A.T=null;var h=K.p;try{K.p=8,kd(e,n,o,s)}finally{K.p=h,A.T=c}}function kd(e,n,o,s){if(us){var c=wd(s);if(c===null)ld(e,n,s,hs,o),qm(e,s);else if(cy(c,e,n,o,s))s.stopPropagation();else if(qm(e,s),n&4&&-1<ly.indexOf(e)){for(;c!==null;){var h=Ur(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var b=ur(h.pendingLanes);if(b!==0){var x=h;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var E=1<<31-Et(b);x.entanglements[1]|=E,b&=~E}tn(h),(je&6)===0&&(Zi=Qt()+500,Sa(0))}}break;case 13:x=Jr(h,2),x!==null&&Mt(x,h,2),Ki(),yd(h,2)}if(h=wd(s),h===null&&ld(e,n,s,hs,o),h===c)break;c=h}c!==null&&s.stopPropagation()}else ld(e,n,s,null,o)}}function wd(e){return e=jl(e),Sd(e)}var hs=null;function Sd(e){if(hs=null,e=Ir(e),e!==null){var n=d(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=f(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return hs=e,null}function Pm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xv()){case ef:return 2;case tf:return 8;case oi:case Gv:return 32;case nf:return 268435456;default:return 32}default:return 32}}var Ed=!1,Qn=null,Kn=null,Jn=null,Ma=new Map,_a=new Map,Wn=[],ly="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qm(e,n){switch(e){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":Ma.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(n.pointerId)}}function Aa(e,n,o,s,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Ur(n),n!==null&&Um(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function cy(e,n,o,s,c){switch(n){case"focusin":return Qn=Aa(Qn,e,n,o,s,c),!0;case"dragenter":return Kn=Aa(Kn,e,n,o,s,c),!0;case"mouseover":return Jn=Aa(Jn,e,n,o,s,c),!0;case"pointerover":var h=c.pointerId;return Ma.set(h,Aa(Ma.get(h)||null,e,n,o,s,c)),!0;case"gotpointercapture":return h=c.pointerId,_a.set(h,Aa(_a.get(h)||null,e,n,o,s,c)),!0}return!1}function Ym(e){var n=Ir(e.target);if(n!==null){var o=d(n);if(o!==null){if(n=o.tag,n===13){if(n=f(o),n!==null){e.blockedOn=n,n1(e.priority,function(){if(o.tag===13){var s=Ot();s=ml(s);var c=Jr(o,s);c!==null&&Mt(c,o,s),yd(o,s)}});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=wd(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);Tl=s,o.target.dispatchEvent(s),Tl=null}else return n=Ur(o),n!==null&&Um(n),e.blockedOn=o,!1;n.shift()}return!0}function Fm(e,n,o){fs(e)&&o.delete(n)}function dy(){Ed=!1,Qn!==null&&fs(Qn)&&(Qn=null),Kn!==null&&fs(Kn)&&(Kn=null),Jn!==null&&fs(Jn)&&(Jn=null),Ma.forEach(Fm),_a.forEach(Fm)}function ps(e,n){e.blockedOn===n&&(e.blockedOn=null,Ed||(Ed=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,dy)))}var gs=null;function $m(e){gs!==e&&(gs=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){gs===e&&(gs=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],c=e[n+2];if(typeof s!="function"){if(Sd(s||o)===null)continue;break}var h=Ur(o);h!==null&&(e.splice(n,3),n-=3,Sc(h,{pending:!0,data:c,method:o.method,action:s},s,c))}}))}function La(e){function n(E){return ps(E,e)}Qn!==null&&ps(Qn,e),Kn!==null&&ps(Kn,e),Jn!==null&&ps(Jn,e),Ma.forEach(n),_a.forEach(n);for(var o=0;o<Wn.length;o++){var s=Wn[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Wn.length&&(o=Wn[0],o.blockedOn===null);)Ym(o),o.blockedOn===null&&Wn.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var c=o[s],h=o[s+1],b=c[mt]||null;if(typeof h=="function")b||$m(o);else if(b){var x=null;if(h&&h.hasAttribute("formAction")){if(c=h,b=h[mt]||null)x=b.formAction;else if(Sd(c)!==null)continue}else x=b.action;typeof x=="function"?o[s+1]=x:(o.splice(s,3),s-=3),$m(o)}}}function Cd(e){this._internalRoot=e}ms.prototype.render=Cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));var o=n.current,s=Ot();Hm(o,s,e,n,null,null)},ms.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Hm(e.current,2,null,e,null,null),Ki(),n[Hr]=null}};function ms(e){this._internalRoot=e}ms.prototype.unstable_scheduleHydration=function(e){if(e){var n=lf();e={blockedOn:null,target:e,priority:n};for(var o=0;o<Wn.length&&n!==0&&n<Wn[o].priority;o++);Wn.splice(o,0,e),o===0&&Ym(e)}};var Vm=t.version;if(Vm!=="19.1.0")throw Error(i(527,Vm,"19.1.0"));K.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=m(n),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var uy={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bs.isDisabled&&bs.supportsFiber)try{Ho=bs.inject(uy),St=bs}catch{}}return Da.createRoot=function(e,n){if(!l(e))throw Error(i(299));var o=!1,s="",c=lg,h=cg,b=dg,x=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(x=n.unstable_transitionCallbacks)),n=Dm(e,1,!1,null,null,o,s,c,h,b,x,null),e[Hr]=n.current,sd(e),new Cd(n)},Da.hydrateRoot=function(e,n,o){if(!l(e))throw Error(i(299));var s=!1,c="",h=lg,b=cg,x=dg,E=null,L=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(E=o.unstable_transitionCallbacks),o.formState!==void 0&&(L=o.formState)),n=Dm(e,1,!0,n,o??null,s,c,h,b,x,E,L),n.context=zm(null),o=n.current,s=Ot(),s=ml(s),c=Dn(s),c.callback=null,zn(o,c,s),o=s,n.current.lanes=o,Uo(n,o),tn(n),e[Hr]=n.current,sd(e),new ms(n)},Da.version="19.1.0",Da}var n0;function Sy(){if(n0)return Nd.exports;n0=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Nd.exports=wy(),Nd.exports}var Ey=Sy();L0();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $a(){return $a=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])}return a},$a.apply(this,arguments)}var or;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(or||(or={}));const r0="popstate";function Cy(a){a===void 0&&(a={});function t(i,l){let{pathname:d,search:f,hash:p}=i.location;return $d("",{pathname:d,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(i,l){return typeof l=="string"?l:Ms(l)}return jy(t,r,null,a)}function Ze(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function R0(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ty(){return Math.random().toString(36).substr(2,8)}function o0(a,t){return{usr:a.state,key:a.key,idx:t}}function $d(a,t,r,i){return r===void 0&&(r=null),$a({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof t=="string"?Lo(t):t,{state:r,key:t&&t.key||i||Ty()})}function Ms(a){let{pathname:t="/",search:r="",hash:i=""}=a;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Lo(a){let t={};if(a){let r=a.indexOf("#");r>=0&&(t.hash=a.substr(r),a=a.substr(0,r));let i=a.indexOf("?");i>=0&&(t.search=a.substr(i),a=a.substr(0,i)),a&&(t.pathname=a)}return t}function jy(a,t,r,i){i===void 0&&(i={});let{window:l=document.defaultView,v5Compat:d=!1}=i,f=l.history,p=or.Pop,m=null,g=v();g==null&&(g=0,f.replaceState($a({},f.state,{idx:g}),""));function v(){return(f.state||{idx:null}).idx}function y(){p=or.Pop;let T=v(),D=T==null?null:T-g;g=T,m&&m({action:p,location:k.location,delta:D})}function w(T,D){p=or.Push;let I=$d(k.location,T,D);g=v()+1;let H=o0(I,g),M=k.createHref(I);try{f.pushState(H,"",M)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;l.location.assign(M)}d&&m&&m({action:p,location:k.location,delta:1})}function B(T,D){p=or.Replace;let I=$d(k.location,T,D);g=v();let H=o0(I,g),M=k.createHref(I);f.replaceState(H,"",M),d&&m&&m({action:p,location:k.location,delta:0})}function S(T){let D=l.location.origin!=="null"?l.location.origin:l.location.href,I=typeof T=="string"?T:Ms(T);return I=I.replace(/ $/,"%20"),Ze(D,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,D)}let k={get action(){return p},get location(){return a(l,f)},listen(T){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(r0,y),m=T,()=>{l.removeEventListener(r0,y),m=null}},createHref(T){return t(l,T)},createURL:S,encodeLocation(T){let D=S(T);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:w,replace:B,go(T){return f.go(T)}};return k}var a0;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(a0||(a0={}));function Ny(a,t,r){return r===void 0&&(r="/"),By(a,t,r)}function By(a,t,r,i){let l=typeof t=="string"?Lo(t):t,d=du(l.pathname||"/",r);if(d==null)return null;let f=D0(a);Oy(f);let p=null;for(let m=0;p==null&&m<f.length;++m){let g=qy(d);p=Iy(f[m],g)}return p}function D0(a,t,r,i){t===void 0&&(t=[]),r===void 0&&(r=[]),i===void 0&&(i="");let l=(d,f,p)=>{let m={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};m.relativePath.startsWith("/")&&(Ze(m.relativePath.startsWith(i),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(i.length));let g=ar([i,m.relativePath]),v=r.concat(m);d.children&&d.children.length>0&&(Ze(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),D0(d.children,t,v,g)),!(d.path==null&&!d.index)&&t.push({path:g,score:zy(g,d.index),routesMeta:v})};return a.forEach((d,f)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))l(d,f);else for(let m of z0(d.path))l(d,f,m)}),t}function z0(a){let t=a.split("/");if(t.length===0)return[];let[r,...i]=t,l=r.endsWith("?"),d=r.replace(/\?$/,"");if(i.length===0)return l?[d,""]:[d];let f=z0(i.join("/")),p=[];return p.push(...f.map(m=>m===""?d:[d,m].join("/"))),l&&p.push(...f),p.map(m=>a.startsWith("/")&&m===""?"/":m)}function Oy(a){a.sort((t,r)=>t.score!==r.score?r.score-t.score:Hy(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const My=/^:[\w-]+$/,_y=3,Ay=2,Ly=1,Ry=10,Dy=-2,i0=a=>a==="*";function zy(a,t){let r=a.split("/"),i=r.length;return r.some(i0)&&(i+=Dy),t&&(i+=Ay),r.filter(l=>!i0(l)).reduce((l,d)=>l+(My.test(d)?_y:d===""?Ly:Ry),i)}function Hy(a,t){return a.length===t.length&&a.slice(0,-1).every((i,l)=>i===t[l])?a[a.length-1]-t[t.length-1]:0}function Iy(a,t,r){let{routesMeta:i}=a,l={},d="/",f=[];for(let p=0;p<i.length;++p){let m=i[p],g=p===i.length-1,v=d==="/"?t:t.slice(d.length)||"/",y=Uy({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),w=m.route;if(!y)return null;Object.assign(l,y.params),f.push({params:l,pathname:ar([d,y.pathname]),pathnameBase:Vy(ar([d,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(d=ar([d,y.pathnameBase]))}return f}function Uy(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[r,i]=Py(a.path,a.caseSensitive,a.end),l=t.match(r);if(!l)return null;let d=l[0],f=d.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:i.reduce((g,v,y)=>{let{paramName:w,isOptional:B}=v;if(w==="*"){let k=p[y]||"";f=d.slice(0,d.length-k.length).replace(/(.)\/+$/,"$1")}const S=p[y];return B&&!S?g[w]=void 0:g[w]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:d,pathnameBase:f,pattern:a}}function Py(a,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),R0(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let i=[],l="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,m)=>(i.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(i.push({paramName:"*"}),l+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":a!==""&&a!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),i]}function qy(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return R0(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),a}}function du(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=a.charAt(r);return i&&i!=="/"?null:a.slice(r)||"/"}function Yy(a,t){t===void 0&&(t="/");let{pathname:r,search:i="",hash:l=""}=typeof a=="string"?Lo(a):a;return{pathname:r?r.startsWith("/")?r:Fy(r,t):t,search:Xy(i),hash:Gy(l)}}function Fy(a,t){let r=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function _d(a,t,r,i){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $y(a){return a.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function H0(a,t){let r=$y(a);return t?r.map((i,l)=>l===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function I0(a,t,r,i){i===void 0&&(i=!1);let l;typeof a=="string"?l=Lo(a):(l=$a({},a),Ze(!l.pathname||!l.pathname.includes("?"),_d("?","pathname","search",l)),Ze(!l.pathname||!l.pathname.includes("#"),_d("#","pathname","hash",l)),Ze(!l.search||!l.search.includes("#"),_d("#","search","hash",l)));let d=a===""||l.pathname==="",f=d?"/":l.pathname,p;if(f==null)p=r;else{let y=t.length-1;if(!i&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),y-=1;l.pathname=w.join("/")}p=y>=0?t[y]:"/"}let m=Yy(l,p),g=f&&f!=="/"&&f.endsWith("/"),v=(d||f===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}const ar=a=>a.join("/").replace(/\/\/+/g,"/"),Vy=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Xy=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Gy=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function Zy(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const U0=["post","put","patch","delete"];new Set(U0);const Qy=["get",...U0];new Set(Qy);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Va(){return Va=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])}return a},Va.apply(this,arguments)}const uu=j.createContext(null),Ky=j.createContext(null),Lr=j.createContext(null),$s=j.createContext(null),lr=j.createContext({outlet:null,matches:[],isDataRoute:!1}),P0=j.createContext(null);function Jy(a,t){let{relative:r}=t===void 0?{}:t;Ja()||Ze(!1);let{basename:i,navigator:l}=j.useContext(Lr),{hash:d,pathname:f,search:p}=Y0(a,{relative:r}),m=f;return i!=="/"&&(m=f==="/"?i:ar([i,f])),l.createHref({pathname:m,search:p,hash:d})}function Ja(){return j.useContext($s)!=null}function Wa(){return Ja()||Ze(!1),j.useContext($s).location}function q0(a){j.useContext(Lr).static||j.useLayoutEffect(a)}function Bn(){let{isDataRoute:a}=j.useContext(lr);return a?u2():Wy()}function Wy(){Ja()||Ze(!1);let a=j.useContext(uu),{basename:t,future:r,navigator:i}=j.useContext(Lr),{matches:l}=j.useContext(lr),{pathname:d}=Wa(),f=JSON.stringify(H0(l,r.v7_relativeSplatPath)),p=j.useRef(!1);return q0(()=>{p.current=!0}),j.useCallback(function(g,v){if(v===void 0&&(v={}),!p.current)return;if(typeof g=="number"){i.go(g);return}let y=I0(g,JSON.parse(f),d,v.relative==="path");a==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ar([t,y.pathname])),(v.replace?i.replace:i.push)(y,v.state,v)},[t,i,f,d,a])}function hu(){let{matches:a}=j.useContext(lr),t=a[a.length-1];return t?t.params:{}}function Y0(a,t){let{relative:r}=t===void 0?{}:t,{future:i}=j.useContext(Lr),{matches:l}=j.useContext(lr),{pathname:d}=Wa(),f=JSON.stringify(H0(l,i.v7_relativeSplatPath));return j.useMemo(()=>I0(a,JSON.parse(f),d,r==="path"),[a,f,d,r])}function e2(a,t){return t2(a,t)}function t2(a,t,r,i){Ja()||Ze(!1);let{navigator:l}=j.useContext(Lr),{matches:d}=j.useContext(lr),f=d[d.length-1],p=f?f.params:{};f&&f.pathname;let m=f?f.pathnameBase:"/";f&&f.route;let g=Wa(),v;if(t){var y;let T=typeof t=="string"?Lo(t):t;m==="/"||(y=T.pathname)!=null&&y.startsWith(m)||Ze(!1),v=T}else v=g;let w=v.pathname||"/",B=w;if(m!=="/"){let T=m.replace(/^\//,"").split("/");B="/"+w.replace(/^\//,"").split("/").slice(T.length).join("/")}let S=Ny(a,{pathname:B}),k=i2(S&&S.map(T=>Object.assign({},T,{params:Object.assign({},p,T.params),pathname:ar([m,l.encodeLocation?l.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:ar([m,l.encodeLocation?l.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),d,r,i);return t&&k?j.createElement($s.Provider,{value:{location:Va({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:or.Pop}},k):k}function n2(){let a=d2(),t=Zy(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),r=a instanceof Error?a.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:l},r):null,null)}const r2=j.createElement(n2,null);class o2 extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?j.createElement(lr.Provider,{value:this.props.routeContext},j.createElement(P0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function a2(a){let{routeContext:t,match:r,children:i}=a,l=j.useContext(uu);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(lr.Provider,{value:t},i)}function i2(a,t,r,i){var l;if(t===void 0&&(t=[]),r===void 0&&(r=null),i===void 0&&(i=null),a==null){var d;if(!r)return null;if(r.errors)a=r.matches;else if((d=i)!=null&&d.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)a=r.matches;else return null}let f=a,p=(l=r)==null?void 0:l.errors;if(p!=null){let v=f.findIndex(y=>y.route.id&&p?.[y.route.id]!==void 0);v>=0||Ze(!1),f=f.slice(0,Math.min(f.length,v+1))}let m=!1,g=-1;if(r&&i&&i.v7_partialHydration)for(let v=0;v<f.length;v++){let y=f[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=v),y.route.id){let{loaderData:w,errors:B}=r,S=y.route.loader&&w[y.route.id]===void 0&&(!B||B[y.route.id]===void 0);if(y.route.lazy||S){m=!0,g>=0?f=f.slice(0,g+1):f=[f[0]];break}}}return f.reduceRight((v,y,w)=>{let B,S=!1,k=null,T=null;r&&(B=p&&y.route.id?p[y.route.id]:void 0,k=y.route.errorElement||r2,m&&(g<0&&w===0?(h2("route-fallback"),S=!0,T=null):g===w&&(S=!0,T=y.route.hydrateFallbackElement||null)));let D=t.concat(f.slice(0,w+1)),I=()=>{let H;return B?H=k:S?H=T:y.route.Component?H=j.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=v,j.createElement(a2,{match:y,routeContext:{outlet:v,matches:D,isDataRoute:r!=null},children:H})};return r&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?j.createElement(o2,{location:r.location,revalidation:r.revalidation,component:k,error:B,children:I(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):I()},null)}var F0=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(F0||{}),$0=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}($0||{});function s2(a){let t=j.useContext(uu);return t||Ze(!1),t}function l2(a){let t=j.useContext(Ky);return t||Ze(!1),t}function c2(a){let t=j.useContext(lr);return t||Ze(!1),t}function V0(a){let t=c2(),r=t.matches[t.matches.length-1];return r.route.id||Ze(!1),r.route.id}function d2(){var a;let t=j.useContext(P0),r=l2(),i=V0();return t!==void 0?t:(a=r.errors)==null?void 0:a[i]}function u2(){let{router:a}=s2(F0.UseNavigateStable),t=V0($0.UseNavigateStable),r=j.useRef(!1);return q0(()=>{r.current=!0}),j.useCallback(function(l,d){d===void 0&&(d={}),r.current&&(typeof l=="number"?a.navigate(l):a.navigate(l,Va({fromRouteId:t},d)))},[a,t])}const s0={};function h2(a,t,r){s0[a]||(s0[a]=!0)}function f2(a,t){a?.v7_startTransition,a?.v7_relativeSplatPath}function Yt(a){Ze(!1)}function p2(a){let{basename:t="/",children:r=null,location:i,navigationType:l=or.Pop,navigator:d,static:f=!1,future:p}=a;Ja()&&Ze(!1);let m=t.replace(/^\/*/,"/"),g=j.useMemo(()=>({basename:m,navigator:d,static:f,future:Va({v7_relativeSplatPath:!1},p)}),[m,p,d,f]);typeof i=="string"&&(i=Lo(i));let{pathname:v="/",search:y="",hash:w="",state:B=null,key:S="default"}=i,k=j.useMemo(()=>{let T=du(v,m);return T==null?null:{location:{pathname:T,search:y,hash:w,state:B,key:S},navigationType:l}},[m,v,y,w,B,S,l]);return k==null?null:j.createElement(Lr.Provider,{value:g},j.createElement($s.Provider,{children:r,value:k}))}function g2(a){let{children:t,location:r}=a;return e2(Vd(t),r)}new Promise(()=>{});function Vd(a,t){t===void 0&&(t=[]);let r=[];return j.Children.forEach(a,(i,l)=>{if(!j.isValidElement(i))return;let d=[...t,l];if(i.type===j.Fragment){r.push.apply(r,Vd(i.props.children,d));return}i.type!==Yt&&Ze(!1),!i.props.index||!i.props.children||Ze(!1);let f={id:i.props.id||d.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=Vd(i.props.children,d)),r.push(f)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xd(){return Xd=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])}return a},Xd.apply(this,arguments)}function m2(a,t){if(a==null)return{};var r={},i=Object.keys(a),l,d;for(d=0;d<i.length;d++)l=i[d],!(t.indexOf(l)>=0)&&(r[l]=a[l]);return r}function b2(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function v2(a,t){return a.button===0&&(!t||t==="_self")&&!b2(a)}function Gd(a){return a===void 0&&(a=""),new URLSearchParams(typeof a=="string"||Array.isArray(a)||a instanceof URLSearchParams?a:Object.keys(a).reduce((t,r)=>{let i=a[r];return t.concat(Array.isArray(i)?i.map(l=>[r,l]):[[r,i]])},[]))}function x2(a,t){let r=Gd(a);return t&&t.forEach((i,l)=>{r.has(l)||t.getAll(l).forEach(d=>{r.append(l,d)})}),r}const y2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],k2="6";try{window.__reactRouterVersion=k2}catch{}const w2="startTransition",l0=vy[w2];function S2(a){let{basename:t,children:r,future:i,window:l}=a,d=j.useRef();d.current==null&&(d.current=Cy({window:l,v5Compat:!0}));let f=d.current,[p,m]=j.useState({action:f.action,location:f.location}),{v7_startTransition:g}=i||{},v=j.useCallback(y=>{g&&l0?l0(()=>m(y)):m(y)},[m,g]);return j.useLayoutEffect(()=>f.listen(v),[f,v]),j.useEffect(()=>f2(i),[i]),j.createElement(p2,{basename:t,children:r,location:p.location,navigationType:p.action,navigator:f,future:i})}const E2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",C2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,We=j.forwardRef(function(t,r){let{onClick:i,relative:l,reloadDocument:d,replace:f,state:p,target:m,to:g,preventScrollReset:v,viewTransition:y}=t,w=m2(t,y2),{basename:B}=j.useContext(Lr),S,k=!1;if(typeof g=="string"&&C2.test(g)&&(S=g,E2))try{let H=new URL(window.location.href),M=g.startsWith("//")?new URL(H.protocol+g):new URL(g),U=du(M.pathname,B);M.origin===H.origin&&U!=null?g=U+M.search+M.hash:k=!0}catch{}let T=Jy(g,{relative:l}),D=T2(g,{replace:f,state:p,target:m,preventScrollReset:v,relative:l,viewTransition:y});function I(H){i&&i(H),H.defaultPrevented||D(H)}return j.createElement("a",Xd({},w,{href:S||T,onClick:k||d?i:I,ref:r,target:m}))});var c0;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(c0||(c0={}));var d0;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(d0||(d0={}));function T2(a,t){let{target:r,replace:i,state:l,preventScrollReset:d,relative:f,viewTransition:p}=t===void 0?{}:t,m=Bn(),g=Wa(),v=Y0(a,{relative:f});return j.useCallback(y=>{if(v2(y,r)){y.preventDefault();let w=i!==void 0?i:Ms(g)===Ms(v);m(a,{replace:w,state:l,preventScrollReset:d,relative:f,viewTransition:p})}},[g,m,v,i,l,r,a,d,f,p])}function j2(a){let t=j.useRef(Gd(a)),r=j.useRef(!1),i=Wa(),l=j.useMemo(()=>x2(i.search,r.current?null:t.current),[i.search]),d=Bn(),f=j.useCallback((p,m)=>{const g=Gd(typeof p=="function"?p(l):p);r.current=!0,d("?"+g,m)},[d,l]);return[l,f]}const N2=async()=>{try{return(await fetch("/api/user/me",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}})).ok}catch(a){return console.error("Auth check failed:",a),!1}},cr=async()=>{try{const a=await fetch("/api/user/me",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});return a.ok?(await a.json()).user:null}catch(a){return console.error("Get user failed:",a),null}},X0=async()=>{try{return(await fetch("/api/user/logout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}})).ok?(window.location.href="/",!0):!1}catch(a){return console.error("Logout failed:",a),!1}},B2=async(a,t)=>{try{const r=new FormData;r.append("email",a),r.append("password",t);const i=await fetch("/api/user/login",{method:"POST",credentials:"include",body:r}),l=await i.json();if(i.ok)return l.user;throw new Error(l.message||"Login failed")}catch(r){throw console.error("Login error:",r),r}},O2=async a=>{try{const t=new FormData;t.append("email",a.email),t.append("username",a.username),t.append("password",a.password),a.profileImage&&t.append("profileImage",a.profileImage);const r=await fetch("/api/user/register",{method:"POST",credentials:"include",body:t}),i=await r.json();if(r.ok)return i.user;throw new Error(i.message||"Registration failed")}catch(t){throw console.error("Registration error:",t),t}},G0=j.createContext(),M2=({children:a})=>{const[t,r]=j.useState("");return u.jsx(G0.Provider,{value:{search:t,setSearch:r},children:a})},Z0=j.createContext();function _2({children:a}){const[t,r]=j.useState(()=>typeof window<"u"&&localStorage.getItem("theme")||"light");j.useEffect(()=>{const l=window.document.documentElement;t==="dark"?(l.classList.add("dark"),console.log("Dark mode enabled")):(l.classList.remove("dark"),console.log("Light mode enabled")),localStorage.setItem("theme",t)},[t]);const i=()=>{r(l=>l==="dark"?"light":"dark")};return u.jsx(Z0.Provider,{value:{theme:t,toggleTheme:i},children:a})}function A2(){return j.useContext(Z0)}const L2=()=>{const{theme:a,toggleTheme:t}=A2(),[r,i]=j.useState(!1),[l,d]=j.useState(null),[f,p]=j.useState(!0),[m,g]=j.useState(!1);j.useEffect(()=>{v()},[]);const v=async()=>{try{const w=await N2();if(i(w),w){const B=await cr();d(B)}}catch(w){console.error("Auth check failed:",w)}finally{p(!1)}},y=async()=>{try{await X0(),i(!1),d(null),g(!1)}catch(w){console.error("Logout failed:",w)}};return u.jsxs("nav",{className:"bg-white dark:bg-darkbg border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50",children:[u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs(We,{to:"/",className:"flex items-center space-x-3",children:[u.jsx("div",{className:"w-8 h-8 bg-lightaccent dark:bg-darkaccent rounded-lg flex items-center justify-center",children:u.jsx("span",{className:"text-white font-bold text-sm",children:"B"})}),u.jsx("span",{className:"text-xl font-semibold text-lighttext dark:text-darktext",children:"BlogSpace"})]}),u.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[u.jsx(We,{to:"/",className:"text-lightsecondary dark:text-darksecondary hover:text-lighttext dark:hover:text-darktext font-medium transition-colors",children:"Home"}),u.jsx(We,{to:"/blog",className:"text-lightsecondary dark:text-darksecondary hover:text-lighttext dark:hover:text-darktext font-medium transition-colors",children:"Blog"}),u.jsx("button",{onClick:t,className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors","aria-label":"Toggle theme",children:a==="dark"?u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),!f&&u.jsx("div",{className:"flex items-center space-x-4",children:r?u.jsxs(u.Fragment,{children:[l?.role==="admin"&&u.jsxs(u.Fragment,{children:[u.jsx(We,{to:"/admin",className:"bg-purple-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-purple-700 transition-colors",children:"Admin Panel"}),u.jsx(We,{to:"/create-post",className:"bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Create Post"})]}),u.jsxs("div",{className:"relative group",children:[u.jsxs("button",{className:"flex items-center text-lightsecondary dark:text-darksecondary hover:text-lighttext dark:hover:text-darktext transition-colors focus:outline-none",children:[l?.profileImage?u.jsx("img",{src:l.profileImage,alt:"Profile",className:"w-8 h-8 rounded-full border border-gray-300 object-cover",loading:"lazy"}):u.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-white text-sm font-medium",children:l?.username?.charAt(0)?.toUpperCase()||"U"})}),u.jsx("svg",{className:"w-4 h-4 text-gray-400 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),u.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-darkbg rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:u.jsxs("div",{className:"py-1",children:[u.jsx(We,{to:"/profile",className:"block px-4 py-2 text-sm text-lighttext dark:text-darktext hover:bg-gray-50 dark:hover:bg-gray-800",children:"Profile"}),u.jsx("button",{onClick:y,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:"Sign out"})]})})]})]}):u.jsxs(u.Fragment,{children:[u.jsx(We,{to:"/login",className:"text-lightsecondary dark:text-darksecondary hover:text-lighttext dark:hover:text-darktext font-medium transition-colors",children:"Log in"}),u.jsx(We,{to:"/register",className:"bg-lightaccent dark:bg-darkaccent text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors",children:"Sign up"})]})})]}),u.jsx("div",{className:"md:hidden",children:u.jsx("button",{onClick:()=>g(!m),className:"text-gray-600 hover:text-gray-900 focus:outline-none transition-colors",children:u.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m?u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]})}),m&&u.jsxs("div",{className:"md:hidden bg-white dark:bg-darkbg border-t border-gray-200 dark:border-gray-700 px-4 pt-4 pb-6 space-y-4",children:[u.jsx(We,{to:"/",className:"block text-lightsecondary dark:text-darksecondary hover:text-lighttext dark:hover:text-darktext font-medium",children:"Home"}),u.jsx(We,{to:"/blog",className:"block text-lightsecondary dark:text-darksecondary hover:text-lighttext dark:hover:text-darktext font-medium",children:"Blog"}),l?.role==="admin"&&u.jsx(We,{to:"/admin",className:"block text-lightsecondary dark:text-darksecondary hover:text-lighttext dark:hover:text-darktext font-medium",children:"Admin Panel"}),u.jsxs("button",{onClick:t,className:"flex items-center w-full text-left px-0 py-2 text-lightsecondary dark:text-darksecondary hover:text-lighttext dark:hover:text-darktext font-medium transition-colors","aria-label":"Toggle theme",children:[u.jsx("span",{className:"mr-3",children:a==="dark"?"Light Mode":"Dark Mode"}),a==="dark"?u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})]}),!f&&!r&&u.jsxs(u.Fragment,{children:[u.jsx(We,{to:"/login",className:"block text-lightsecondary dark:text-darksecondary hover:text-lighttext dark:hover:text-darktext font-medium",children:"Log in"}),u.jsx(We,{to:"/register",className:"block bg-lightaccent dark:bg-darkaccent text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors",children:"Sign up"})]}),!f&&r&&u.jsxs(u.Fragment,{children:[l?.role==="admin"&&u.jsx(We,{to:"/create-post",className:"block bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Create Post"}),u.jsx("button",{onClick:y,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:"Sign out"})]})]})]})};var Q0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},u0=sn.createContext&&sn.createContext(Q0),R2=["attr","size","title"];function D2(a,t){if(a==null)return{};var r=z2(a,t),i,l;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);for(l=0;l<d.length;l++)i=d[l],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(a,i)&&(r[i]=a[i])}return r}function z2(a,t){if(a==null)return{};var r={};for(var i in a)if(Object.prototype.hasOwnProperty.call(a,i)){if(t.indexOf(i)>=0)continue;r[i]=a[i]}return r}function _s(){return _s=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])}return a},_s.apply(this,arguments)}function h0(a,t){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);t&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,i)}return r}function As(a){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h0(Object(r),!0).forEach(function(i){H2(a,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):h0(Object(r)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(r,i))})}return a}function H2(a,t,r){return t=I2(t),t in a?Object.defineProperty(a,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[t]=r,a}function I2(a){var t=U2(a,"string");return typeof t=="symbol"?t:t+""}function U2(a,t){if(typeof a!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var i=r.call(a,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function K0(a){return a&&a.map((t,r)=>sn.createElement(t.tag,As({key:r},t.attr),K0(t.child)))}function Re(a){return t=>sn.createElement(P2,_s({attr:As({},a.attr)},t),K0(a.child))}function P2(a){var t=r=>{var{attr:i,size:l,title:d}=a,f=D2(a,R2),p=l||r.size||"1em",m;return r.className&&(m=r.className),a.className&&(m=(m?m+" ":"")+a.className),sn.createElement("svg",_s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,f,{className:m,style:As(As({color:a.color||r.color},r.style),a.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),d&&sn.createElement("title",null,d),a.children)};return u0!==void 0?sn.createElement(u0.Consumer,null,r=>t(r)):t(Q0)}function q2(a){return Re({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(a)}function Y2(a){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(a)}function F2(a){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(a)}function $2(a){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(a)}function Zd(a){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(a)}function fu(a){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(a)}function J0(a){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(a)}function V2(a){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(a)}function X2(a){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(a)}function Ls(a){return Re({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(a)}function W0(a){return Re({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(a)}function Vs(a){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(a)}function G2(a){return Re({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(a)}function pu(a){return Re({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(a)}function za(a){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(a)}function Xa(a){return Re({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H88c-13.255 0-24 10.745-24 24v8H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h472c26.51 0 48-21.49 48-48V88c0-13.255-10.745-24-24-24zM56 400a8 8 0 0 1-8-8V144h16v248a8 8 0 0 1-8 8zm236-16H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm-208-96H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm0-96H140c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h360c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12z"},child:[]}]})(a)}function Z2(a){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(a)}function Xs(a){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(a)}function eb(a){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(a)}function tb(a){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 56v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56zm40 200c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24zm272 256c-20.183 0-29.485-39.293-33.931-57.795-5.206-21.666-10.589-44.07-25.393-58.902-32.469-32.524-49.503-73.967-89.117-113.111a11.98 11.98 0 0 1-3.558-8.521V59.901c0-6.541 5.243-11.878 11.783-11.998 15.831-.29 36.694-9.079 52.651-16.178C256.189 17.598 295.709.017 343.995 0h2.844c42.777 0 93.363.413 113.774 29.737 8.392 12.057 10.446 27.034 6.148 44.632 16.312 17.053 25.063 48.863 16.382 74.757 17.544 23.432 19.143 56.132 9.308 79.469l.11.11c11.893 11.949 19.523 31.259 19.439 49.197-.156 30.352-26.157 58.098-59.553 58.098H350.723C358.03 364.34 384 388.132 384 430.548 384 504 336 512 312 512z"},child:[]}]})(a)}function nb(a){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"},child:[]}]})(a)}function Ro(a){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(a)}function rb(a){return Re({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(a)}function _o(a){return Re({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(a)}function _r(a){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(a)}function Qd(a){return Re({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(a)}const Q2=()=>u.jsx("footer",{className:"bg-gray-900 dark:bg-gray-950 text-white py-10 mt-16 shadow-inner",children:u.jsxs("div",{className:"max-w-6xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-lightaccent dark:bg-darkaccent rounded-xl flex items-center justify-center text-xl font-bold",children:"B"}),u.jsx("h1",{className:"text-2xl font-semibold tracking-wide",children:"BlogSpace"})]}),u.jsxs("div",{className:"flex gap-6 text-2xl",children:[u.jsx("a",{href:"https://github.com/your-username",target:"_blank",rel:"noopener noreferrer",className:"hover:text-gray-400 transition-colors",children:u.jsx(q2,{})}),u.jsx("a",{href:"https://linkedin.com/in/your-username",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-400 transition-colors",children:u.jsx(F2,{})}),u.jsx("a",{href:"https://instagram.com/your-username",target:"_blank",rel:"noopener noreferrer",className:"hover:text-pink-400 transition-colors",children:u.jsx(Y2,{})})]}),u.jsxs("p",{className:"text-sm text-gray-400 text-center md:text-right",children:[" ",new Date().getFullYear()," BlogSpace. Built by Sarthak Sharma."]})]})}),Rs=({id:a,image:t,category:r,title:i,excerpt:l,date:d,readTime:f,compact:p})=>p?u.jsxs("div",{className:"bg-white dark:bg-darkbg rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow p-2 flex items-center gap-2",children:[t&&u.jsx("img",{src:t,alt:i,className:"w-12 h-12 object-cover rounded-md flex-shrink-0"}),u.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[u.jsx("span",{className:"text-xs text-lightsecondary dark:text-darksecondary mb-0.5 font-medium",children:r}),u.jsx("h3",{className:"text-xs font-semibold mb-0.5 text-lighttext dark:text-darktext line-clamp-1",children:u.jsx(We,{to:`/blog/${a}`,className:"hover:text-lightaccent dark:hover:text-darkaccent transition-colors",children:i})}),u.jsx("p",{className:"text-lightsecondary dark:text-darksecondary text-xs mb-0.5 line-clamp-1",children:l}),u.jsxs("div",{className:"text-xs text-lightsecondary dark:text-darksecondary",children:[d,"  ",f]})]})]}):u.jsx(We,{to:`/blog/${a}`,className:"group",children:u.jsxs("div",{className:"bg-white dark:bg-darkbg rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-all duration-200 overflow-hidden h-full flex flex-col",children:[t&&u.jsx("div",{className:"relative overflow-hidden",children:u.jsx("img",{src:t,alt:i,className:"w-full h-40 sm:h-48 object-cover group-hover:scale-105 transition-transform duration-200"})}),u.jsxs("div",{className:"p-4 sm:p-6 flex flex-col flex-1",children:[u.jsx("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:u.jsx("span",{className:"text-xs font-medium text-lightaccent dark:text-darkaccent bg-blue-50 dark:bg-blue-900/20 px-2 py-1 rounded-full",children:r})}),u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-lighttext dark:text-darktext mb-2 sm:mb-3 line-clamp-2 group-hover:text-lightaccent dark:group-hover:text-darkaccent transition-colors flex-1",children:i}),u.jsx("p",{className:"text-lightsecondary dark:text-darksecondary text-sm mb-3 sm:mb-4 line-clamp-2 sm:line-clamp-3 flex-1",children:l}),u.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm text-lightsecondary dark:text-darksecondary mt-auto",children:[u.jsx("span",{children:d}),u.jsx("span",{children:f})]})]})]})}),K2=({blog:a,getExcerpt:t,formatDate:r,getReadTime:i})=>u.jsx("div",{className:"hidden md:block mb-16",children:u.jsx("div",{className:"bg-white dark:bg-darkbg rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-xl transition-shadow duration-300",children:u.jsxs("div",{className:"flex flex-col lg:flex-row",children:[a.featuredImage&&u.jsxs("div",{className:"lg:w-1/2 relative overflow-hidden",children:[u.jsx("img",{src:a.featuredImage,alt:a.title,className:"w-full h-64 lg:h-full object-cover"}),u.jsx("div",{className:"absolute top-4 left-4",children:u.jsx("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-semibold tracking-wide uppercase",children:"Featured"})})]}),u.jsxs("div",{className:"lg:w-1/2 p-6 lg:p-8 flex flex-col justify-center",children:[u.jsx("div",{className:"mb-4",children:u.jsx("span",{className:"text-sm font-medium text-lightaccent dark:text-darkaccent bg-blue-50 dark:bg-blue-900/20 px-3 py-1 rounded-full",children:a.category})}),u.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-lighttext dark:text-darktext mb-4 leading-tight",children:a.title}),u.jsx("p",{className:"text-lightsecondary dark:text-darksecondary text-base mb-6 leading-relaxed",children:t(a.content)}),u.jsx("div",{className:"flex items-center justify-between mb-6",children:u.jsxs("div",{className:"flex items-center space-x-4 text-sm text-lightsecondary dark:text-darksecondary",children:[u.jsx("span",{children:r(a.createdAt)}),u.jsx("span",{children:""}),u.jsx("span",{children:i(a.content)})]})}),u.jsxs(We,{to:`/blog/${a._id}`,className:"inline-flex items-center justify-center bg-lightaccent dark:bg-darkaccent text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors duration-200 w-fit",children:["Read Article",u.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})]})]})})}),J2=({size:a="md",text:t="Loading...",className:r=""})=>{const i={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"};return u.jsxs("div",{className:`flex flex-col items-center justify-center ${r}`,children:[u.jsx("div",{className:`animate-spin rounded-full border-b-2 border-lightaccent dark:border-darkaccent ${i[a]}`}),t&&u.jsx("p",{className:"text-lightsecondary dark:text-darksecondary text-sm mt-2",children:t})]})};function W2(){const[a,t]=j.useState([]),[r,i]=j.useState(!0);j.useEffect(()=>{(async()=>{i(!0);try{const v=await(await fetch("/api/posts")).json();v.success?t(v.blogs):t([])}catch{t([])}finally{i(!1)}})()},[]);const l=m=>{if(!m?.blocks)return"";const g=m.blocks.find(v=>v.type==="paragraph");return g?g.data.text.slice(0,120):""},d=m=>new Date(m).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),f=m=>{if(!m?.blocks)return"1 min";const g=m.blocks.map(y=>y.data?.text||"").join(" ").split(/\s+/).length;return`${Math.max(1,Math.round(g/200))} min`},p=a.slice(0,9);return r?u.jsx("div",{className:"min-h-screen bg-lightbg dark:bg-darkbg",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 py-12",children:u.jsx(J2,{size:"lg",text:"Loading blogs..."})})}):u.jsx("div",{className:"min-h-screen bg-lightbg dark:bg-darkbg",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 lg:py-12",children:[a.length>0&&u.jsx(K2,{blog:p[0],getExcerpt:l,formatDate:d,getReadTime:f}),u.jsxs("section",{children:[u.jsxs("div",{className:"mb-8 sm:mb-12",children:[u.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-lighttext dark:text-darktext mb-3 sm:mb-4",children:"Recent blog posts"}),u.jsx("p",{className:"text-base sm:text-lg text-lightsecondary dark:text-darksecondary max-w-2xl",children:"Discover the latest insights, stories, and perspectives from our community of writers and thought leaders."})]}),a.length>0?u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:p.map((m,g)=>g===0?null:u.jsx(Rs,{id:m._id,image:m.featuredImage,category:m.category,title:m.title,excerpt:l(m.content),date:d(m.createdAt),readTime:f(m.content)},m._id))}):u.jsx("div",{className:"text-center py-8 sm:py-16",children:u.jsxs("div",{className:"bg-white dark:bg-darkbg rounded-2xl p-6 sm:p-12 border border-gray-200 dark:border-gray-700 shadow-sm",children:[u.jsx("svg",{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4 sm:mb-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),u.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-lighttext dark:text-darktext mb-2",children:"No blogs found"}),u.jsx("p",{className:"text-sm sm:text-base text-lightsecondary dark:text-darksecondary",children:"Check back soon for new content!"})]})}),a.length>9&&u.jsx("div",{className:"text-center mt-8 sm:mt-16",children:u.jsx("button",{className:"bg-white border-2 border-gray-300 text-gray-700 px-6 sm:px-8 py-3 sm:py-4 rounded-xl font-semibold hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-sm text-sm sm:text-base",children:"Loading more..."})})]})]})})}function ek(){const[a,t]=j.useState([]),{search:r,setSearch:i}=j.useContext(G0),[l,d]=j.useState("All"),[f,p]=j.useState(!0);j.useEffect(()=>{(async()=>{p(!0);try{const T=await(await fetch("/api/posts")).json();T.success?t(T.blogs):t([])}catch{t([])}finally{p(!1)}})()},[]);const m=["All",...Array.from(new Set(a.map(S=>S.category)))],g=a.filter(S=>(l==="All"||S.category===l)&&(S.title.toLowerCase().includes(r.toLowerCase())||S.content?.blocks?.map(k=>k.data?.text||"").join(" ").toLowerCase().includes(r.toLowerCase()))),v=g.slice(0,3),y=S=>{if(!S?.blocks)return"";const k=S.blocks.find(T=>T.type==="paragraph");return k?k.data.text.slice(0,120):""},w=S=>new Date(S).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),B=S=>{if(!S?.blocks)return"1 min";const k=S.blocks.map(D=>D.data?.text||"").join(" ").split(/\s+/).length;return`${Math.max(1,Math.round(k/200))} min`};return u.jsx("div",{className:"min-h-screen bg-lightbg dark:bg-darkbg",children:u.jsxs("div",{className:"max-w-5xl mx-auto py-6 sm:py-8 lg:py-12 px-4",children:[u.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-lighttext dark:text-darktext mb-4 sm:mb-6",children:"All Blogs"}),u.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 mb-6 sm:mb-8 gap-4",children:[u.jsxs("div",{className:"relative mb-2 md:mb-0 w-full md:w-1/2",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),u.jsx("input",{type:"text",placeholder:"Search posts...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm bg-white dark:bg-darkbg text-lighttext dark:text-darktext placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-lightaccent dark:focus:ring-darkaccent focus:border-lightaccent dark:focus:border-darkaccent transition-colors",value:r,onChange:S=>i(S.target.value)})]}),u.jsx("select",{value:l,onChange:S=>d(S.target.value),className:"px-4 py-2 rounded-md border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-lightaccent dark:focus:ring-darkaccent w-full md:w-1/4 bg-white dark:bg-darkbg text-lighttext dark:text-darktext text-sm sm:text-base",children:m.map(S=>u.jsx("option",{value:S,children:S},S))})]}),f?u.jsx("div",{className:"text-center text-lightsecondary dark:text-darksecondary text-sm sm:text-base",children:"Loading blogs..."}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:v.map((S,k)=>u.jsx(Rs,{id:S._id,image:S.featuredImage,category:S.category,title:S.title,excerpt:y(S.content),date:w(S.createdAt),readTime:B(S.content),compact:!0},"compact-"+S._id))}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 lg:gap-8",children:g.length?g.map(S=>u.jsx(Rs,{id:S._id,image:S.featuredImage,category:S.category,title:S.title,excerpt:y(S.content),date:w(S.createdAt),readTime:B(S.content)},S._id)):u.jsx("div",{className:"col-span-1 sm:col-span-2 lg:col-span-3 text-center text-lightsecondary dark:text-darksecondary text-sm sm:text-base py-8",children:"No blogs found."})})]})]})})}function tk(){const[a,t]=j.useState(""),[r,i]=j.useState(""),[l,d]=j.useState(""),[f,p]=j.useState(null),[m,g]=j.useState(null),[v,y]=j.useState(!1),[w,B]=j.useState(""),[S,k]=j.useState(""),T=sn.useRef(),D=H=>{const M=H.target.files[0];if(M){const U=new FileReader;U.onloadend=()=>{p(U.result),g(M)},U.readAsDataURL(M)}else p(null),g(null)},I=async H=>{H.preventDefault(),y(!0),B("");try{await O2({email:a,username:r,password:l,profileImage:m}),k("success"),B("Registration successful! Redirecting to home page..."),t(""),i(""),d(""),p(null),g(null),setTimeout(()=>{window.location.href="/"},2e3)}catch(M){k("error"),B(M.message||"Network error. Please try again.")}finally{y(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-lightbg dark:bg-darkbg px-4",children:u.jsxs("div",{className:"bg-white dark:bg-darkbg rounded-2xl shadow-xl w-full max-w-md overflow-hidden border border-gray-200 dark:border-gray-700",children:[u.jsx("h1",{className:"text-3xl font-bold text-center pt-5 mb-6 text-lighttext dark:text-darktext",children:"Register"}),w&&u.jsx("div",{className:`mx-8 mb-4 p-3 rounded-lg text-sm ${S==="success"?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300 border border-green-200 dark:border-green-600":"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-600"}`,children:w}),u.jsxs("form",{className:"px-8 pb-8 pt-8",onSubmit:I,children:[u.jsx("label",{className:"block mb-2 font-medium text-lighttext dark:text-darktext",children:"Profile Image"}),u.jsx("div",{className:"flex justify-center mb-4",children:u.jsxs("div",{className:"w-24 h-24 rounded-full bg-gray-100 dark:bg-darkbg border-2 border-lightaccent dark:border-darkaccent flex items-center justify-center overflow-hidden cursor-pointer",onClick:()=>T.current.click(),title:"Click to upload image",children:[f?u.jsx("img",{src:f,alt:"Profile Preview",className:"w-full h-full object-cover"}):u.jsxs("svg",{className:"w-10 h-10 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",fill:"none"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 12A4 4 0 118 12a4 4 0 018 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 14v4m-2 2h4"})]}),u.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:T,onChange:D})]})}),u.jsx("label",{className:"block mb-2 font-medium text-lighttext dark:text-darktext",children:"Email"}),u.jsx("input",{type:"email",className:"w-full px-4 py-2 mb-4 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-lightaccent dark:focus:ring-darkaccent bg-white dark:bg-darkbg text-lighttext dark:text-darktext placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Enter your email",value:a,onChange:H=>t(H.target.value),required:!0}),u.jsx("label",{className:"block mb-2 font-medium text-lighttext dark:text-darktext",children:"Username"}),u.jsx("input",{type:"text",className:"w-full px-4 py-2 mb-4 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-lightaccent dark:focus:ring-darkaccent bg-white dark:bg-darkbg text-lighttext dark:text-darktext placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Choose a username",value:r,onChange:H=>i(H.target.value),required:!0}),u.jsx("label",{className:"block mb-2 font-medium text-lighttext dark:text-darktext",children:"Password"}),u.jsx("input",{type:"password",className:"w-full px-4 py-2 mb-4 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-lightaccent dark:focus:ring-darkaccent bg-white dark:bg-darkbg text-lighttext dark:text-darktext placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Create a password",value:l,onChange:H=>d(H.target.value),required:!0}),u.jsx("button",{type:"submit",className:"w-full bg-lightaccent dark:bg-darkaccent text-white py-2 rounded-lg font-semibold hover:bg-blue-700 dark:hover:bg-blue-600 transition shadow mt-2 disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:!a||!r||!l||v,children:v?"Creating Account...":"Create Account"})]})]})})}function nk(){const[a,t]=j.useState(""),[r,i]=j.useState(""),[l,d]=j.useState(!1),[f,p]=j.useState(""),[m,g]=j.useState(""),v=async y=>{y.preventDefault(),d(!0),p(""),g("");try{await B2(a,r),g("success"),p("Login successful! Redirecting..."),setTimeout(()=>{window.location.href="/"},1500)}catch(w){g("error"),p(w.message||"Network error. Please try again.")}finally{d(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-lightbg dark:bg-darkbg px-4",children:u.jsxs("div",{className:"bg-white dark:bg-darkbg rounded-2xl shadow-xl w-full max-w-md overflow-hidden border border-gray-200 dark:border-gray-700",children:[u.jsx("h1",{className:"text-3xl font-bold text-center pt-5 mb-6 text-lighttext dark:text-darktext",children:"Login"}),f&&u.jsx("div",{className:`mx-8 mb-4 p-3 rounded-lg text-sm ${m==="success"?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300 border border-green-200 dark:border-green-600":"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-600"}`,children:f}),u.jsxs("form",{className:"px-8 pb-8 pt-2",onSubmit:v,children:[u.jsx("label",{className:"block mb-2 font-medium text-lighttext dark:text-darktext",children:"Email"}),u.jsx("input",{type:"email",className:"w-full px-4 py-2 mb-4 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-lightaccent dark:focus:ring-darkaccent bg-white dark:bg-darkbg text-lighttext dark:text-darktext placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Enter your email",value:a,onChange:y=>t(y.target.value),required:!0}),u.jsx("label",{className:"block mb-2 font-medium text-lighttext dark:text-darktext",children:"Password"}),u.jsx("input",{type:"password",className:"w-full px-4 py-2 mb-6 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-lightaccent dark:focus:ring-darkaccent bg-white dark:bg-darkbg text-lighttext dark:text-darktext placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Enter your password",value:r,onChange:y=>i(y.target.value),required:!0}),u.jsx("button",{className:"w-full bg-lightaccent dark:bg-darkaccent text-white py-2 rounded-lg font-semibold hover:bg-blue-700 dark:hover:bg-blue-600 transition shadow",type:"submit",disabled:!a||!r||l,children:l?"Logging in...":"Login"})]})]})})}(function(){try{if(typeof document<"u"){var a=document.createElement("style");a.appendChild(document.createTextNode(".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}")),document.head.appendChild(a)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();var Ga=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function rk(a){if(a.__esModule)return a;var t=a.default;if(typeof t=="function"){var r=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(a).forEach(function(i){var l=Object.getOwnPropertyDescriptor(a,i);Object.defineProperty(r,i,l.get?l:{enumerable:!0,get:function(){return a[i]}})}),r}function Ad(){}Object.assign(Ad,{default:Ad,register:Ad,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){const t=(this.document||this.ownerDocument).querySelectorAll(a);let r=t.length;for(;--r>=0&&t.item(r)!==this;);return r>-1});Element.prototype.closest||(Element.prototype.closest=function(a){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(a))return t;t=t.parentElement||t.parentNode}while(t!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(a){const t=document.createDocumentFragment();Array.isArray(a)||(a=[a]),a.forEach(r=>{const i=r instanceof Node;t.appendChild(i?r:document.createTextNode(r))}),this.insertBefore(t,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(a){a=arguments.length===0?!0:!!a;const t=this.parentNode,r=window.getComputedStyle(t,null),i=parseInt(r.getPropertyValue("border-top-width")),l=parseInt(r.getPropertyValue("border-left-width")),d=this.offsetTop-t.offsetTop<t.scrollTop,f=this.offsetTop-t.offsetTop+this.clientHeight-i>t.scrollTop+t.clientHeight,p=this.offsetLeft-t.offsetLeft<t.scrollLeft,m=this.offsetLeft-t.offsetLeft+this.clientWidth-l>t.scrollLeft+t.clientWidth,g=d&&!f;(d||f)&&a&&(t.scrollTop=this.offsetTop-t.offsetTop-t.clientHeight/2-i+this.clientHeight/2),(p||m)&&a&&(t.scrollLeft=this.offsetLeft-t.offsetLeft-t.clientWidth/2-l+this.clientWidth/2),(d||f||p||m)&&!a&&this.scrollIntoView(g)});window.requestIdleCallback=window.requestIdleCallback||function(a){const t=Date.now();return setTimeout(function(){a({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(a){clearTimeout(a)};let ok=(a=21)=>crypto.getRandomValues(new Uint8Array(a)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");var ob=(a=>(a.VERBOSE="VERBOSE",a.INFO="INFO",a.WARN="WARN",a.ERROR="ERROR",a))(ob||{});const ge={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46},ak={LEFT:0};function ei(a,t,r="log",i,l="color: inherit"){if(!("console"in window)||!window.console[r])return;const d=["info","log","warn","error"].includes(r),f=[];switch(ei.logLevel){case"ERROR":if(r!=="error")return;break;case"WARN":if(!["error","warn"].includes(r))return;break;case"INFO":if(!d||a)return;break}i&&f.push(i);const p="Editor.js 2.31.0-rc.7";a&&(d?(f.unshift(`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`,l),t=`%c${p}%c ${t}`):t=`( ${p} )${t}`);try{d?i?console[r](`${t} %o`,...f):console[r](t,...f):console[r](t)}catch{}}ei.logLevel="VERBOSE";function ik(a){ei.logLevel=a}const Te=ei.bind(window,!1),Ft=ei.bind(window,!0);function Ar(a){return Object.prototype.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function Ue(a){return Ar(a)==="function"||Ar(a)==="asyncfunction"}function st(a){return Ar(a)==="object"}function Nn(a){return Ar(a)==="string"}function sk(a){return Ar(a)==="boolean"}function f0(a){return Ar(a)==="number"}function p0(a){return Ar(a)==="undefined"}function $t(a){return a?Object.keys(a).length===0&&a.constructor===Object:!0}function ab(a){return a>47&&a<58||a===32||a===13||a===229||a>64&&a<91||a>95&&a<112||a>185&&a<193||a>218&&a<223}async function lk(a,t=()=>{},r=()=>{}){async function i(l,d,f){try{await l.function(l.data),await d(p0(l.data)?{}:l.data)}catch{f(p0(l.data)?{}:l.data)}}return a.reduce(async(l,d)=>(await l,i(d,t,r)),Promise.resolve())}function ib(a){return Array.prototype.slice.call(a)}function Ds(a,t){return function(){const r=this,i=arguments;window.setTimeout(()=>a.apply(r,i),t)}}function ck(a){return a.name.split(".").pop()}function dk(a){return/^[-\w]+\/([-+\w]+|\*)$/.test(a)}function g0(a,t,r){let i;return(...l)=>{const d=this,f=()=>{i=null,a.apply(d,l)};window.clearTimeout(i),i=window.setTimeout(f,t)}}function Kd(a,t,r=void 0){let i,l,d,f=null,p=0;r||(r={});const m=function(){p=r.leading===!1?0:Date.now(),f=null,d=a.apply(i,l),f||(i=l=null)};return function(){const g=Date.now();!p&&r.leading===!1&&(p=g);const v=t-(g-p);return i=this,l=arguments,v<=0||v>t?(f&&(clearTimeout(f),f=null),p=g,d=a.apply(i,l),f||(i=l=null)):!f&&r.trailing!==!1&&(f=setTimeout(m,v)),d}}function uk(){const a={win:!1,mac:!1,x11:!1,linux:!1},t=Object.keys(a).find(r=>window.navigator.appVersion.toLowerCase().indexOf(r)!==-1);return t&&(a[t]=!0),a}function zs(a){return a[0].toUpperCase()+a.slice(1)}function Jd(a,...t){if(!t.length)return a;const r=t.shift();if(st(a)&&st(r))for(const i in r)st(r[i])?(a[i]||Object.assign(a,{[i]:{}}),Jd(a[i],r[i])):Object.assign(a,{[i]:r[i]});return Jd(a,...t)}function gu(a){const t=uk();return a=a.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi," + "),t.mac?a=a.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):a=a.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),a}function hk(a){try{return new URL(a).href}catch{}return a.substring(0,2)==="//"?window.location.protocol+a:window.location.origin+a}function fk(){return ok(10)}function pk(a){window.open(a,"_blank")}function gk(a=""){return`${a}${Math.floor(Math.random()*1e8).toString(16)}`}function Wd(a,t,r){const i=`${t} is deprecated and will be removed in the next major release. Please use the ${r} instead.`;a&&Ft(i,"warn")}function Do(a,t,r){const i=r.value?"value":"get",l=r[i],d=`#${t}Cache`;if(r[i]=function(...f){return this[d]===void 0&&(this[d]=l.apply(this,...f)),this[d]},i==="get"&&r.set){const f=r.set;r.set=function(p){delete a[d],f.apply(this,p)}}return r}const sb=650;function zo(){return window.matchMedia(`(max-width: ${sb}px)`).matches}const eu=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function mk(a,t){const r=Array.isArray(a)||st(a),i=Array.isArray(t)||st(t);return r||i?JSON.stringify(a)===JSON.stringify(t):a===t}let F=class pt{static isSingleTag(t){return t.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(t.tagName)}static isLineBreakTag(t){return t&&t.tagName&&["BR","WBR"].includes(t.tagName)}static make(t,r=null,i={}){const l=document.createElement(t);if(Array.isArray(r)){const d=r.filter(f=>f!==void 0);l.classList.add(...d)}else r&&l.classList.add(r);for(const d in i)Object.prototype.hasOwnProperty.call(i,d)&&(l[d]=i[d]);return l}static text(t){return document.createTextNode(t)}static append(t,r){Array.isArray(r)?r.forEach(i=>t.appendChild(i)):t.appendChild(r)}static prepend(t,r){Array.isArray(r)?(r=r.reverse(),r.forEach(i=>t.prepend(i))):t.prepend(r)}static swap(t,r){const i=document.createElement("div"),l=t.parentNode;l.insertBefore(i,t),l.insertBefore(t,r),l.insertBefore(r,i),l.removeChild(i)}static find(t=document,r){return t.querySelector(r)}static get(t){return document.getElementById(t)}static findAll(t=document,r){return t.querySelectorAll(r)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(t=>`input[type="${t}"]`).join(", ")}static findAllInputs(t){return ib(t.querySelectorAll(pt.allInputsSelector)).reduce((r,i)=>pt.isNativeInput(i)||pt.containsOnlyInlineElements(i)?[...r,i]:[...r,...pt.getDeepestBlockElements(i)],[])}static getDeepestNode(t,r=!1){const i=r?"lastChild":"firstChild",l=r?"previousSibling":"nextSibling";if(t&&t.nodeType===Node.ELEMENT_NODE&&t[i]){let d=t[i];if(pt.isSingleTag(d)&&!pt.isNativeInput(d)&&!pt.isLineBreakTag(d))if(d[l])d=d[l];else if(d.parentNode[l])d=d.parentNode[l];else return d.parentNode;return this.getDeepestNode(d,r)}return t}static isElement(t){return f0(t)?!1:t&&t.nodeType&&t.nodeType===Node.ELEMENT_NODE}static isFragment(t){return f0(t)?!1:t&&t.nodeType&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(t){return t.contentEditable==="true"}static isNativeInput(t){const r=["INPUT","TEXTAREA"];return t&&t.tagName?r.includes(t.tagName):!1}static canSetCaret(t){let r=!0;if(pt.isNativeInput(t))switch(t.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":r=!1;break}else r=pt.isContentEditable(t);return r}static isNodeEmpty(t,r){let i;return this.isSingleTag(t)&&!this.isLineBreakTag(t)?!1:(this.isElement(t)&&this.isNativeInput(t)?i=t.value:i=t.textContent.replace("",""),r&&(i=i.replace(new RegExp(r,"g"),"")),i.length===0)}static isLeaf(t){return t?t.childNodes.length===0:!1}static isEmpty(t,r){const i=[t];for(;i.length>0;)if(t=i.shift(),!!t){if(this.isLeaf(t)&&!this.isNodeEmpty(t,r))return!1;t.childNodes&&i.push(...Array.from(t.childNodes))}return!0}static isHTMLString(t){const r=pt.make("div");return r.innerHTML=t,r.childElementCount>0}static getContentLength(t){return pt.isNativeInput(t)?t.value.length:t.nodeType===Node.TEXT_NODE?t.length:t.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(t){let r;Nn(t)?(r=document.createElement("div"),r.innerHTML=t):r=t;const i=l=>!pt.blockElements.includes(l.tagName.toLowerCase())&&Array.from(l.children).every(i);return Array.from(r.children).every(i)}static getDeepestBlockElements(t){return pt.containsOnlyInlineElements(t)?[t]:Array.from(t.children).reduce((r,i)=>[...r,...pt.getDeepestBlockElements(i)],[])}static getHolder(t){return Nn(t)?document.getElementById(t):t}static isAnchor(t){return t.tagName.toLowerCase()==="a"}static offset(t){const r=t.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,l=window.pageYOffset||document.documentElement.scrollTop,d=r.top+l,f=r.left+i;return{top:d,left:f,bottom:d+r.height,right:f+r.width}}};function bk(a){return!/[^\t\n\r ]/.test(a)}function vk(a){const t=window.getComputedStyle(a),r=parseFloat(t.fontSize),i=parseFloat(t.lineHeight)||r*1.2,l=parseFloat(t.paddingTop),d=parseFloat(t.borderTopWidth),f=parseFloat(t.marginTop),p=r*.8,m=(i-r)/2;return f+d+l+m+p}function lb(a){a.dataset.empty=F.isEmpty(a)?"true":"false"}const xk={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":"","Convert to":""}},yk={Text:"",Link:"",Bold:"",Italic:""},kk={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},wk={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},cb={ui:xk,toolNames:yk,tools:kk,blockTunes:wk},db=class No{static ui(t,r){return No._t(t,r)}static t(t,r){return No._t(t,r)}static setDictionary(t){No.currentDictionary=t}static _t(t,r){const i=No.getNamespace(t);return!i||!i[r]?r:i[r]}static getNamespace(t){return t.split(".").reduce((r,i)=>!r||!Object.keys(r).length?{}:r[i],No.currentDictionary)}};db.currentDictionary=cb;let gt=db;class ub extends Error{}let ti=class{constructor(){this.subscribers={}}on(t,r){t in this.subscribers||(this.subscribers[t]=[]),this.subscribers[t].push(r)}once(t,r){t in this.subscribers||(this.subscribers[t]=[]);const i=l=>{const d=r(l),f=this.subscribers[t].indexOf(i);return f!==-1&&this.subscribers[t].splice(f,1),d};this.subscribers[t].push(i)}emit(t,r){$t(this.subscribers)||!this.subscribers[t]||this.subscribers[t].reduce((i,l)=>{const d=l(i);return d!==void 0?d:i},r)}off(t,r){if(this.subscribers[t]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${t.toString()}". Probably, .off() called before .on()`);return}for(let i=0;i<this.subscribers[t].length;i++)if(this.subscribers[t][i]===r){delete this.subscribers[t][i];break}}destroy(){this.subscribers={}}};function Cn(a){Object.setPrototypeOf(this,{get id(){return a.id},get name(){return a.name},get config(){return a.config},get holder(){return a.holder},get isEmpty(){return a.isEmpty},get selected(){return a.selected},set stretched(t){a.stretched=t},get stretched(){return a.stretched},get focusable(){return a.focusable},call(t,r){return a.call(t,r)},save(){return a.save()},validate(t){return a.validate(t)},dispatchChange(){a.dispatchChange()},getActiveToolboxEntry(){return a.getActiveToolboxEntry()}})}let ni=class{constructor(){this.allListeners=[]}on(t,r,i,l=!1){const d=gk("l"),f={id:d,element:t,eventType:r,handler:i,options:l};if(!this.findOne(t,r,i))return this.allListeners.push(f),t.addEventListener(r,i,l),d}off(t,r,i,l){const d=this.findAll(t,r,i);d.forEach((f,p)=>{const m=this.allListeners.indexOf(d[p]);m>-1&&(this.allListeners.splice(m,1),f.element.removeEventListener(f.eventType,f.handler,f.options))})}offById(t){const r=this.findById(t);r&&r.element.removeEventListener(r.eventType,r.handler,r.options)}findOne(t,r,i){const l=this.findAll(t,r,i);return l.length>0?l[0]:null}findAll(t,r,i){let l;const d=t?this.findByEventTarget(t):[];return t&&r&&i?l=d.filter(f=>f.eventType===r&&f.handler===i):t&&r?l=d.filter(f=>f.eventType===r):l=d,l}removeAll(){this.allListeners.map(t=>{t.element.removeEventListener(t.eventType,t.handler,t.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(t){return this.allListeners.filter(r=>{if(r.element===t)return r})}findByType(t){return this.allListeners.filter(r=>{if(r.eventType===t)return r})}findByHandler(t){return this.allListeners.filter(r=>{if(r.handler===t)return r})}findById(t){return this.allListeners.find(r=>r.id===t)}},we=class hb{constructor({config:t,eventsDispatcher:r}){if(this.nodes={},this.listeners=new ni,this.readOnlyMutableListeners={on:(i,l,d,f=!1)=>{this.mutableListenerIds.push(this.listeners.on(i,l,d,f))},clearAll:()=>{for(const i of this.mutableListenerIds)this.listeners.offById(i);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===hb)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=t,this.eventsDispatcher=r}set state(t){this.Editor=t}removeAllNodes(){for(const t in this.nodes){const r=this.nodes[t];r instanceof HTMLElement&&r.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}},fe=class tr{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const t=window.getSelection();return t?t.anchorNode:null}static get anchorElement(){const t=window.getSelection();if(!t)return null;const r=t.anchorNode;return r?F.isElement(r)?r:r.parentElement:null}static get anchorOffset(){const t=window.getSelection();return t?t.anchorOffset:null}static get isCollapsed(){const t=window.getSelection();return t?t.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(tr.get())}static isSelectionAtEditor(t){if(!t)return!1;let r=t.anchorNode||t.focusNode;r&&r.nodeType===Node.TEXT_NODE&&(r=r.parentNode);let i=null;return r&&r instanceof Element&&(i=r.closest(`.${tr.CSS.editorZone}`)),i?i.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(t){if(!t)return;let r=t.startContainer;r&&r.nodeType===Node.TEXT_NODE&&(r=r.parentNode);let i=null;return r&&r instanceof Element&&(i=r.closest(`.${tr.CSS.editorZone}`)),i?i.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!tr.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(t){return t&&t.rangeCount?t.getRangeAt(0):null}static get rect(){let t=document.selection,r,i={x:0,y:0,width:0,height:0};if(t&&t.type!=="Control")return t=t,r=t.createRange(),i.x=r.boundingLeft,i.y=r.boundingTop,i.width=r.boundingWidth,i.height=r.boundingHeight,i;if(!window.getSelection)return Te("Method window.getSelection is not supported","warn"),i;if(t=window.getSelection(),t.rangeCount===null||isNaN(t.rangeCount))return Te("Method SelectionUtils.rangeCount is not supported","warn"),i;if(t.rangeCount===0)return i;if(r=t.getRangeAt(0).cloneRange(),r.getBoundingClientRect&&(i=r.getBoundingClientRect()),i.x===0&&i.y===0){const l=document.createElement("span");if(l.getBoundingClientRect){l.appendChild(document.createTextNode("")),r.insertNode(l),i=l.getBoundingClientRect();const d=l.parentNode;d.removeChild(l),d.normalize()}}return i}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(t,r=0){const i=document.createRange(),l=window.getSelection();return F.isNativeInput(t)?F.canSetCaret(t)?(t.focus(),t.selectionStart=t.selectionEnd=r,t.getBoundingClientRect()):void 0:(i.setStart(t,r),i.setEnd(t,r),l.removeAllRanges(),l.addRange(i),i.getBoundingClientRect())}static isRangeInsideContainer(t){const r=tr.range;return r===null?!1:t.contains(r.startContainer)}static addFakeCursor(){const t=tr.range;if(t===null)return;const r=F.make("span","codex-editor__fake-cursor");r.dataset.mutationFree="true",t.collapse(),t.insertNode(r)}static isFakeCursorInsideContainer(t){return F.find(t,".codex-editor__fake-cursor")!==null}static removeFakeCursor(t=document.body){const r=F.find(t,".codex-editor__fake-cursor");r&&r.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=tr.range}restore(){if(!this.savedSelectionRange)return;const t=window.getSelection();t.removeAllRanges(),t.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const t=window.getSelection(),r=document.createRange();r.selectNodeContents(t.focusNode),r.collapse(!1),t.removeAllRanges(),t.addRange(r)}findParentTag(t,r,i=10){const l=window.getSelection();let d=null;return!l||!l.anchorNode||!l.focusNode?null:([l.anchorNode,l.focusNode].forEach(f=>{let p=i;for(;p>0&&f.parentNode&&!(f.tagName===t&&(d=f,r&&f.classList&&!f.classList.contains(r)&&(d=null),d));)f=f.parentNode,p--}),d)}expandToTag(t){const r=window.getSelection();r.removeAllRanges();const i=document.createRange();i.selectNodeContents(t),r.addRange(i)}};function Sk(a,t){const{type:r,target:i,addedNodes:l,removedNodes:d}=a;return a.type==="attributes"&&a.attributeName==="data-empty"?!1:!!(t.contains(i)||r==="childList"&&(Array.from(l).some(f=>f===t)||Array.from(d).some(f=>f===t)))}const tu="redactor dom changed",fb="block changed",pb="fake cursor is about to be toggled",gb="fake cursor have been set",Za="editor mobile layout toggled";function nu(a,t){if(!a.conversionConfig)return!1;const r=a.conversionConfig[t];return Ue(r)||Nn(r)}function Hs(a,t){return nu(a.tool,t)}function mb(a,t){return Object.entries(a).some(([r,i])=>t[r]&&mk(t[r],i))}async function bb(a,t){const r=(await a.save()).data,i=t.find(l=>l.name===a.name);return i!==void 0&&!nu(i,"export")?[]:t.reduce((l,d)=>{if(!nu(d,"import")||d.toolbox===void 0)return l;const f=d.toolbox.filter(p=>{if($t(p)||p.icon===void 0)return!1;if(p.data!==void 0){if(mb(p.data,r))return!1}else if(d.name===a.name)return!1;return!0});return l.push({...d,toolbox:f}),l},[])}function m0(a,t){return a.mergeable?a.name===t.name?!0:Hs(t,"export")&&Hs(a,"import"):!1}function Ek(a,t){const r=t?.export;return Ue(r)?r(a):Nn(r)?a[r]:(r!==void 0&&Te("Conversion export property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function b0(a,t,r){const i=t?.import;return Ue(i)?i(a,r):Nn(i)?{[i]:a}:(i!==void 0&&Te("Conversion import property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var He=(a=>(a.Default="default",a.Separator="separator",a.Html="html",a))(He||{}),Tn=(a=>(a.APPEND_CALLBACK="appendCallback",a.RENDERED="rendered",a.MOVED="moved",a.UPDATED="updated",a.REMOVED="removed",a.ON_PASTE="onPaste",a))(Tn||{});let jn=class nr extends ti{constructor({id:t=fk(),data:r,tool:i,readOnly:l,tunesData:d},f){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(p=void 0)=>{const m=p===void 0,g=p instanceof InputEvent;!m&&!g&&this.detectToolRootChange(p);let v;m||g?v=!0:v=!(p.length>0&&p.every(y=>{const{addedNodes:w,removedNodes:B,target:S}=y;return[...Array.from(w),...Array.from(B),S].some(k=>(F.isElement(k)||(k=k.parentElement),k&&k.closest('[data-mutation-free="true"]')!==null))})),v&&(this.dropInputsCache(),this.updateCurrentInput(),this.toggleInputsEmptyMark(),this.call("updated"),this.emit("didMutated",this))},this.name=i.name,this.id=t,this.settings=i.settings,this.config=i.settings.config||{},this.editorEventBus=f||null,this.blockAPI=new Cn(this),this.tool=i,this.toolInstance=i.create(r,this.blockAPI,l),this.tunes=i.tunes,this.composeTunes(d),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents(),this.toggleInputsEmptyMark()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const t=F.findAllInputs(this.holder);return this.inputIndex>t.length-1&&(this.inputIndex=t.length-1),this.cachedInputs=t,t}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(t){const r=this.inputs.findIndex(i=>i===t||i.contains(t));r!==-1&&(this.inputIndex=r)}get firstInput(){return this.inputs[0]}get lastInput(){const t=this.inputs;return t[t.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(t=>t&&!$t(t.data)?t.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return Ue(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){const t=F.isEmpty(this.pluginsContent,"/"),r=!this.hasMedia;return t&&r}get hasMedia(){const t=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(t.join(","))}set selected(t){var r,i;this.holder.classList.toggle(nr.CSS.selected,t);const l=t===!0&&fe.isRangeInsideContainer(this.holder),d=t===!1&&fe.isFakeCursorInsideContainer(this.holder);(l||d)&&((r=this.editorEventBus)==null||r.emit(pb,{state:t}),l?fe.addFakeCursor():fe.removeFakeCursor(this.holder),(i=this.editorEventBus)==null||i.emit(gb,{state:t}))}get selected(){return this.holder.classList.contains(nr.CSS.selected)}set stretched(t){this.holder.classList.toggle(nr.CSS.wrapperStretched,t)}get stretched(){return this.holder.classList.contains(nr.CSS.wrapperStretched)}set dropTarget(t){this.holder.classList.toggle(nr.CSS.dropTarget,t)}get pluginsContent(){return this.toolRenderedElement}call(t,r){if(Ue(this.toolInstance[t])){t==="appendCallback"&&Te("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[t].call(this.toolInstance,r)}catch(i){Te(`Error during '${t}' call: ${i.message}`,"error")}}}async mergeWith(t){await this.toolInstance.merge(t)}async save(){const t=await this.toolInstance.save(this.pluginsContent),r=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([d,f])=>{if(Ue(f.save))try{r[d]=f.save()}catch(p){Te(`Tune ${f.constructor.name} save method throws an Error %o`,"warn",p)}});const i=window.performance.now();let l;return Promise.resolve(t).then(d=>(l=window.performance.now(),{id:this.id,tool:this.name,data:d,tunes:r,time:l-i})).catch(d=>{Te(`Saving process for ${this.name} tool failed due to the ${d}`,"log","red")})}async validate(t){let r=!0;return this.toolInstance.validate instanceof Function&&(r=await this.toolInstance.validate(t)),r}getTunes(){const t=[],r=[],i=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[];return F.isElement(i)?t.push({type:He.Html,element:i}):Array.isArray(i)?t.push(...i):t.push(i),[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(l=>l.render()).forEach(l=>{F.isElement(l)?r.push({type:He.Html,element:l}):Array.isArray(l)?r.push(...l):r.push(l)}),{toolTunes:t,commonTunes:r}}updateCurrentInput(){this.currentInput=F.isNativeInput(document.activeElement)||!fe.anchorNode?document.activeElement:fe.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),Ue(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const t=this.tool.toolbox;if(t.length===1)return Promise.resolve(this.tool.toolbox[0]);const r=await this.data,i=t;return i?.find(l=>mb(l.data,r))}async exportDataAsString(){const t=await this.data;return Ek(t,this.tool.conversionConfig)}compose(){const t=F.make("div",nr.CSS.wrapper),r=F.make("div",nr.CSS.content),i=this.toolInstance.render();t.setAttribute("data-cy","block-wrapper"),t.dataset.id=this.id,this.toolRenderedElement=i,r.appendChild(this.toolRenderedElement);let l=r;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(d=>{if(Ue(d.wrap))try{l=d.wrap(l)}catch(f){Te(`Tune ${d.constructor.name} wrap method throws an Error %o`,"warn",f)}}),t.appendChild(l),t}composeTunes(t){Array.from(this.tunes.values()).forEach(r=>{(r.isInternal?this.defaultTunesInstances:this.tunesInstances).set(r.name,r.create(t[r.name],this.blockAPI))}),Object.entries(t).forEach(([r,i])=>{this.tunesInstances.has(r)||(this.unavailableTunesData[r]=i)})}addInputEvents(){this.inputs.forEach(t=>{t.addEventListener("focus",this.handleFocus),F.isNativeInput(t)&&t.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(t=>{t.removeEventListener("focus",this.handleFocus),F.isNativeInput(t)&&t.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var t;this.redactorDomChangedCallback=r=>{const{mutations:i}=r;i.some(l=>Sk(l,this.toolRenderedElement))&&this.didMutated(i)},(t=this.editorEventBus)==null||t.on(tu,this.redactorDomChangedCallback)}unwatchBlockMutations(){var t;(t=this.editorEventBus)==null||t.off(tu,this.redactorDomChangedCallback)}detectToolRootChange(t){t.forEach(r=>{if(Array.from(r.removedNodes).includes(this.toolRenderedElement)){const i=r.addedNodes[r.addedNodes.length-1];this.toolRenderedElement=i}})}dropInputsCache(){this.cachedInputs=[]}toggleInputsEmptyMark(){this.inputs.forEach(lb)}};class Ck extends we{constructor(){super(...arguments),this.insert=(t=this.config.defaultBlock,r={},i={},l,d,f,p)=>{const m=this.Editor.BlockManager.insert({id:p,tool:t,data:r,index:l,needToFocus:d,replace:f});return new Cn(m)},this.composeBlockData=async t=>{const r=this.Editor.Tools.blockTools.get(t);return new jn({tool:r,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(t,r,i)=>{const{BlockManager:l}=this.Editor,d=l.getBlockById(t);if(d===void 0)throw new Error(`Block with id "${t}" not found`);const f=await l.update(d,r,i);return new Cn(f)},this.convert=async(t,r,i)=>{var l,d;const{BlockManager:f,Tools:p}=this.Editor,m=f.getBlockById(t);if(!m)throw new Error(`Block with id "${t}" not found`);const g=p.blockTools.get(m.name),v=p.blockTools.get(r);if(!v)throw new Error(`Block Tool with type "${r}" not found`);const y=((l=g?.conversionConfig)==null?void 0:l.export)!==void 0,w=((d=v.conversionConfig)==null?void 0:d.import)!==void 0;if(y&&w){const B=await f.convert(m,r,i);return new Cn(B)}else{const B=[y?!1:zs(m.name),w?!1:zs(r)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${m.name}" to "${r}" is not possible. ${B} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(t,r=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(r);const i=t.map(({id:l,type:d,data:f})=>this.Editor.BlockManager.composeBlock({id:l,tool:d||this.config.defaultBlock,data:f}));return this.Editor.BlockManager.insertMany(i,r),i.map(l=>new Cn(l))}}get methods(){return{clear:()=>this.clear(),render:t=>this.render(t),renderFromHTML:t=>this.renderFromHTML(t),delete:t=>this.delete(t),swap:(t,r)=>this.swap(t,r),move:(t,r)=>this.move(t,r),getBlockByIndex:t=>this.getBlockByIndex(t),getById:t=>this.getById(t),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:t=>this.getBlockIndex(t),getBlocksCount:()=>this.getBlocksCount(),getBlockByElement:t=>this.getBlockByElement(t),stretchBlock:(t,r=!0)=>this.stretchBlock(t,r),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(t){const r=this.Editor.BlockManager.getBlockById(t);if(!r){Ft("There is no block with id `"+t+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(r)}getBlockByIndex(t){const r=this.Editor.BlockManager.getBlockByIndex(t);if(r===void 0){Ft("There is no block at index `"+t+"`","warn");return}return new Cn(r)}getById(t){const r=this.Editor.BlockManager.getBlockById(t);return r===void 0?(Ft("There is no block with id `"+t+"`","warn"),null):new Cn(r)}getBlockByElement(t){const r=this.Editor.BlockManager.getBlock(t);if(r===void 0){Ft("There is no block corresponding to element `"+t+"`","warn");return}return new Cn(r)}swap(t,r){Te("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(t,r)}move(t,r){this.Editor.BlockManager.move(t,r)}delete(t=this.Editor.BlockManager.currentBlockIndex){try{const r=this.Editor.BlockManager.getBlockByIndex(t);this.Editor.BlockManager.removeBlock(r)}catch(r){Ft(r,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(t){if(t===void 0||t.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(t.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(t){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(t,!0)}stretchBlock(t,r=!0){Wd(!0,"blocks.stretchBlock()","BlockAPI");const i=this.Editor.BlockManager.getBlockByIndex(t);i&&(i.stretched=r)}insertNewBlock(){Te("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(t){if(typeof t!="number")throw new Error("Index should be a number");if(t<0)throw new Error("Index should be greater than or equal to 0");if(t===null)throw new Error("Index should be greater than or equal to 0")}}function Tk(a,t){return typeof a=="number"?t.BlockManager.getBlockByIndex(a):typeof a=="string"?t.BlockManager.getBlockById(a):t.BlockManager.getBlockById(a.id)}class jk extends we{constructor(){super(...arguments),this.setToFirstBlock=(t=this.Editor.Caret.positions.DEFAULT,r=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,t,r),!0):!1,this.setToLastBlock=(t=this.Editor.Caret.positions.DEFAULT,r=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,t,r),!0):!1,this.setToPreviousBlock=(t=this.Editor.Caret.positions.DEFAULT,r=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,t,r),!0):!1,this.setToNextBlock=(t=this.Editor.Caret.positions.DEFAULT,r=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,t,r),!0):!1,this.setToBlock=(t,r=this.Editor.Caret.positions.DEFAULT,i=0)=>{const l=Tk(t,this.Editor);return l===void 0?!1:(this.Editor.Caret.setToBlock(l,r,i),!0)},this.focus=(t=!1)=>t?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class Nk extends we{get methods(){return{emit:(t,r)=>this.emit(t,r),off:(t,r)=>this.off(t,r),on:(t,r)=>this.on(t,r)}}on(t,r){this.eventsDispatcher.on(t,r)}emit(t,r){this.eventsDispatcher.emit(t,r)}off(t,r){this.eventsDispatcher.off(t,r)}}let Bk=class vb extends we{static getNamespace(t,r){return r?`blockTunes.${t}`:`tools.${t}`}get methods(){return{t:()=>{Ft("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(t,r){return Object.assign(this.methods,{t:i=>gt.t(vb.getNamespace(t,r),i)})}};class Ok extends we{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,tools:this.Editor.ToolsAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(t,r){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(t,r)})}}class Mk extends we{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class _k extends we{get methods(){return{on:(t,r,i,l)=>this.on(t,r,i,l),off:(t,r,i,l)=>this.off(t,r,i,l),offById:t=>this.offById(t)}}on(t,r,i,l){return this.listeners.on(t,r,i,l)}off(t,r,i,l){this.listeners.off(t,r,i,l)}offById(t){this.listeners.offById(t)}}var xb={exports:{}};(function(a,t){(function(r,i){a.exports=i()})(window,function(){return function(r){var i={};function l(d){if(i[d])return i[d].exports;var f=i[d]={i:d,l:!1,exports:{}};return r[d].call(f.exports,f,f.exports,l),f.l=!0,f.exports}return l.m=r,l.c=i,l.d=function(d,f,p){l.o(d,f)||Object.defineProperty(d,f,{enumerable:!0,get:p})},l.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},l.t=function(d,f){if(1&f&&(d=l(d)),8&f||4&f&&typeof d=="object"&&d&&d.__esModule)return d;var p=Object.create(null);if(l.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:d}),2&f&&typeof d!="string")for(var m in d)l.d(p,m,(function(g){return d[g]}).bind(null,m));return p},l.n=function(d){var f=d&&d.__esModule?function(){return d.default}:function(){return d};return l.d(f,"a",f),f},l.o=function(d,f){return Object.prototype.hasOwnProperty.call(d,f)},l.p="/",l(l.s=0)}([function(r,i,l){l(1),r.exports=function(){var d=l(6),f="cdx-notify--bounce-in",p=null;return{show:function(m){if(m.message){(function(){if(p)return!0;p=d.getWrapper(),document.body.appendChild(p)})();var g=null,v=m.time||8e3;switch(m.type){case"confirm":g=d.confirm(m);break;case"prompt":g=d.prompt(m);break;default:g=d.alert(m),window.setTimeout(function(){g.remove()},v)}p.appendChild(g),g.classList.add(f)}}}}()},function(r,i,l){var d=l(2);typeof d=="string"&&(d=[[r.i,d,""]]);var f={hmr:!0,transform:void 0,insertInto:void 0};l(4)(d,f),d.locals&&(r.exports=d.locals)},function(r,i,l){(r.exports=l(3)(!1)).push([r.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(r,i){r.exports=function(l){var d=[];return d.toString=function(){return this.map(function(f){var p=function(m,g){var v=m[1]||"",y=m[3];if(!y)return v;if(g&&typeof btoa=="function"){var w=(S=y,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(S))))+" */"),B=y.sources.map(function(k){return"/*# sourceURL="+y.sourceRoot+k+" */"});return[v].concat(B).concat([w]).join(`
`)}var S;return[v].join(`
`)}(f,l);return f[2]?"@media "+f[2]+"{"+p+"}":p}).join("")},d.i=function(f,p){typeof f=="string"&&(f=[[null,f,""]]);for(var m={},g=0;g<this.length;g++){var v=this[g][0];typeof v=="number"&&(m[v]=!0)}for(g=0;g<f.length;g++){var y=f[g];typeof y[0]=="number"&&m[y[0]]||(p&&!y[2]?y[2]=p:p&&(y[2]="("+y[2]+") and ("+p+")"),d.push(y))}},d}},function(r,i,l){var d,f,p={},m=(d=function(){return window&&document&&document.all&&!window.atob},function(){return f===void 0&&(f=d.apply(this,arguments)),f}),g=function(G){var Z={};return function(ie){if(typeof ie=="function")return ie();if(Z[ie]===void 0){var ce=(function(ee){return document.querySelector(ee)}).call(this,ie);if(window.HTMLIFrameElement&&ce instanceof window.HTMLIFrameElement)try{ce=ce.contentDocument.head}catch{ce=null}Z[ie]=ce}return Z[ie]}}(),v=null,y=0,w=[],B=l(5);function S(G,Z){for(var ie=0;ie<G.length;ie++){var ce=G[ie],ee=p[ce.id];if(ee){ee.refs++;for(var $=0;$<ee.parts.length;$++)ee.parts[$](ce.parts[$]);for(;$<ce.parts.length;$++)ee.parts.push(M(ce.parts[$],Z))}else{var J=[];for($=0;$<ce.parts.length;$++)J.push(M(ce.parts[$],Z));p[ce.id]={id:ce.id,refs:1,parts:J}}}}function k(G,Z){for(var ie=[],ce={},ee=0;ee<G.length;ee++){var $=G[ee],J=Z.base?$[0]+Z.base:$[0],X={css:$[1],media:$[2],sourceMap:$[3]};ce[J]?ce[J].parts.push(X):ie.push(ce[J]={id:J,parts:[X]})}return ie}function T(G,Z){var ie=g(G.insertInto);if(!ie)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var ce=w[w.length-1];if(G.insertAt==="top")ce?ce.nextSibling?ie.insertBefore(Z,ce.nextSibling):ie.appendChild(Z):ie.insertBefore(Z,ie.firstChild),w.push(Z);else if(G.insertAt==="bottom")ie.appendChild(Z);else{if(typeof G.insertAt!="object"||!G.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var ee=g(G.insertInto+" "+G.insertAt.before);ie.insertBefore(Z,ee)}}function D(G){if(G.parentNode===null)return!1;G.parentNode.removeChild(G);var Z=w.indexOf(G);Z>=0&&w.splice(Z,1)}function I(G){var Z=document.createElement("style");return G.attrs.type===void 0&&(G.attrs.type="text/css"),H(Z,G.attrs),T(G,Z),Z}function H(G,Z){Object.keys(Z).forEach(function(ie){G.setAttribute(ie,Z[ie])})}function M(G,Z){var ie,ce,ee,$;if(Z.transform&&G.css){if(!($=Z.transform(G.css)))return function(){};G.css=$}if(Z.singleton){var J=y++;ie=v||(v=I(Z)),ce=Q.bind(null,ie,J,!1),ee=Q.bind(null,ie,J,!0)}else G.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(ie=function(X){var A=document.createElement("link");return X.attrs.type===void 0&&(X.attrs.type="text/css"),X.attrs.rel="stylesheet",H(A,X.attrs),T(X,A),A}(Z),ce=(function(X,A,K){var W=K.css,oe=K.sourceMap,C=A.convertToAbsoluteUrls===void 0&&oe;(A.convertToAbsoluteUrls||C)&&(W=B(W)),oe&&(W+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(oe))))+" */");var q=new Blob([W],{type:"text/css"}),re=X.href;X.href=URL.createObjectURL(q),re&&URL.revokeObjectURL(re)}).bind(null,ie,Z),ee=function(){D(ie),ie.href&&URL.revokeObjectURL(ie.href)}):(ie=I(Z),ce=(function(X,A){var K=A.css,W=A.media;if(W&&X.setAttribute("media",W),X.styleSheet)X.styleSheet.cssText=K;else{for(;X.firstChild;)X.removeChild(X.firstChild);X.appendChild(document.createTextNode(K))}}).bind(null,ie),ee=function(){D(ie)});return ce(G),function(X){if(X){if(X.css===G.css&&X.media===G.media&&X.sourceMap===G.sourceMap)return;ce(G=X)}else ee()}}r.exports=function(G,Z){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(Z=Z||{}).attrs=typeof Z.attrs=="object"?Z.attrs:{},Z.singleton||typeof Z.singleton=="boolean"||(Z.singleton=m()),Z.insertInto||(Z.insertInto="head"),Z.insertAt||(Z.insertAt="bottom");var ie=k(G,Z);return S(ie,Z),function(ce){for(var ee=[],$=0;$<ie.length;$++){var J=ie[$];(X=p[J.id]).refs--,ee.push(X)}for(ce&&S(k(ce,Z),Z),$=0;$<ee.length;$++){var X;if((X=ee[$]).refs===0){for(var A=0;A<X.parts.length;A++)X.parts[A]();delete p[X.id]}}}};var U,ne=(U=[],function(G,Z){return U[G]=Z,U.filter(Boolean).join(`
`)});function Q(G,Z,ie,ce){var ee=ie?"":ce.css;if(G.styleSheet)G.styleSheet.cssText=ne(Z,ee);else{var $=document.createTextNode(ee),J=G.childNodes;J[Z]&&G.removeChild(J[Z]),J.length?G.insertBefore($,J[Z]):G.appendChild($)}}},function(r,i){r.exports=function(l){var d=typeof window<"u"&&window.location;if(!d)throw new Error("fixUrls requires window.location");if(!l||typeof l!="string")return l;var f=d.protocol+"//"+d.host,p=f+d.pathname.replace(/\/[^\/]*$/,"/");return l.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(m,g){var v,y=g.trim().replace(/^"(.*)"$/,function(w,B){return B}).replace(/^'(.*)'$/,function(w,B){return B});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(y)?m:(v=y.indexOf("//")===0?y:y.indexOf("/")===0?f+y:p+y.replace(/^\.\//,""),"url("+JSON.stringify(v)+")")})}},function(r,i,l){var d,f,p,m,g,v,y,w,B;r.exports=(d="cdx-notifies",f="cdx-notify",p="cdx-notify__cross",m="cdx-notify__button--confirm",g="cdx-notify__button--cancel",v="cdx-notify__input",y="cdx-notify__button",w="cdx-notify__btns-wrapper",{alert:B=function(S){var k=document.createElement("DIV"),T=document.createElement("DIV"),D=S.message,I=S.style;return k.classList.add(f),I&&k.classList.add(f+"--"+I),k.innerHTML=D,T.classList.add(p),T.addEventListener("click",k.remove.bind(k)),k.appendChild(T),k},confirm:function(S){var k=B(S),T=document.createElement("div"),D=document.createElement("button"),I=document.createElement("button"),H=k.querySelector("."+p),M=S.cancelHandler,U=S.okHandler;return T.classList.add(w),D.innerHTML=S.okText||"Confirm",I.innerHTML=S.cancelText||"Cancel",D.classList.add(y),I.classList.add(y),D.classList.add(m),I.classList.add(g),M&&typeof M=="function"&&(I.addEventListener("click",M),H.addEventListener("click",M)),U&&typeof U=="function"&&D.addEventListener("click",U),D.addEventListener("click",k.remove.bind(k)),I.addEventListener("click",k.remove.bind(k)),T.appendChild(D),T.appendChild(I),k.appendChild(T),k},prompt:function(S){var k=B(S),T=document.createElement("div"),D=document.createElement("button"),I=document.createElement("input"),H=k.querySelector("."+p),M=S.cancelHandler,U=S.okHandler;return T.classList.add(w),D.innerHTML=S.okText||"Ok",D.classList.add(y),D.classList.add(m),I.classList.add(v),S.placeholder&&I.setAttribute("placeholder",S.placeholder),S.default&&(I.value=S.default),S.inputType&&(I.type=S.inputType),M&&typeof M=="function"&&H.addEventListener("click",M),U&&typeof U=="function"&&D.addEventListener("click",function(){U(I.value)}),D.addEventListener("click",k.remove.bind(k)),T.appendChild(I),T.appendChild(D),k.appendChild(T),k},getWrapper:function(){var S=document.createElement("DIV");return S.classList.add(d),S}})}])})})(xb);var Ak=xb.exports;const Lk=Gs(Ak);class Rk{show(t){Lk.show(t)}}class Dk extends we{constructor({config:t,eventsDispatcher:r}){super({config:t,eventsDispatcher:r}),this.notifier=new Rk}get methods(){return{show:t=>this.show(t)}}show(t){return this.notifier.show(t)}}class zk extends we{get methods(){const t=()=>this.isEnabled;return{toggle:r=>this.toggle(r),get isEnabled(){return t()}}}toggle(t){return this.Editor.ReadOnly.toggle(t)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var yb={exports:{}};(function(a,t){(function(r,i){a.exports=i()})(Ga,function(){function r(y){var w=y.tags,B=Object.keys(w),S=B.map(function(k){return typeof w[k]}).every(function(k){return k==="object"||k==="boolean"||k==="function"});if(!S)throw new Error("The configuration was invalid");this.config=y}var i=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function l(y){return i.indexOf(y.nodeName)!==-1}var d=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function f(y){return d.indexOf(y.nodeName)!==-1}r.prototype.clean=function(y){const w=document.implementation.createHTMLDocument(),B=w.createElement("div");return B.innerHTML=y,this._sanitize(w,B),B.innerHTML},r.prototype._sanitize=function(y,w){var B=p(y,w),S=B.firstChild();if(S)do{if(S.nodeType===Node.TEXT_NODE)if(S.data.trim()===""&&(S.previousElementSibling&&l(S.previousElementSibling)||S.nextElementSibling&&l(S.nextElementSibling))){w.removeChild(S),this._sanitize(y,w);break}else continue;if(S.nodeType===Node.COMMENT_NODE){w.removeChild(S),this._sanitize(y,w);break}var k=f(S),T;k&&(T=Array.prototype.some.call(S.childNodes,l));var D=!!w.parentNode,I=l(w)&&l(S)&&D,H=S.nodeName.toLowerCase(),M=m(this.config,H,S),U=k&&T;if(U||g(S,M)||!this.config.keepNestedBlockElements&&I){if(!(S.nodeName==="SCRIPT"||S.nodeName==="STYLE"))for(;S.childNodes.length>0;)w.insertBefore(S.childNodes[0],S);w.removeChild(S),this._sanitize(y,w);break}for(var ne=0;ne<S.attributes.length;ne+=1){var Q=S.attributes[ne];v(Q,M,S)&&(S.removeAttribute(Q.name),ne=ne-1)}this._sanitize(y,S)}while(S=B.nextSibling())};function p(y,w){return y.createTreeWalker(w,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function m(y,w,B){return typeof y.tags[w]=="function"?y.tags[w](B):y.tags[w]}function g(y,w){return typeof w>"u"?!0:typeof w=="boolean"?!w:!1}function v(y,w,B){var S=y.name.toLowerCase();return w===!0?!1:typeof w[S]=="function"?!w[S](y.value,B):typeof w[S]>"u"||w[S]===!1?!0:typeof w[S]=="string"?w[S]!==y.value:!1}return r})})(yb);var Hk=yb.exports;const Ik=Gs(Hk);function mu(a,t){return a.map(r=>{const i=Ue(t)?t(r.tool):t;return $t(i)||(r.data=bu(r.data,i)),r})}function an(a,t={}){const r={tags:t};return new Ik(r).clean(a)}function bu(a,t){return Array.isArray(a)?Uk(a,t):st(a)?Pk(a,t):Nn(a)?qk(a,t):a}function Uk(a,t){return a.map(r=>bu(r,t))}function Pk(a,t){const r={};for(const i in a){if(!Object.prototype.hasOwnProperty.call(a,i))continue;const l=a[i],d=Yk(t[i])?t[i]:t;r[i]=bu(l,d)}return r}function qk(a,t){return st(t)?an(a,t):t===!1?an(a,{}):a}function Yk(a){return st(a)||sk(a)||Ue(a)}class Fk extends we{get methods(){return{clean:(t,r)=>this.clean(t,r)}}clean(t,r){return an(t,r)}}class $k extends we{get methods(){return{save:()=>this.save()}}save(){const t="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(Ft(t,"warn"),Promise.reject(new Error(t))):this.Editor.Saver.save()}}class Vk extends we{constructor(){super(...arguments),this.selectionUtils=new fe}get methods(){return{findParentTag:(t,r)=>this.findParentTag(t,r),expandToTag:t=>this.expandToTag(t),save:()=>this.selectionUtils.save(),restore:()=>this.selectionUtils.restore(),setFakeBackground:()=>this.selectionUtils.setFakeBackground(),removeFakeBackground:()=>this.selectionUtils.removeFakeBackground()}}findParentTag(t,r){return this.selectionUtils.findParentTag(t,r)}expandToTag(t){this.selectionUtils.expandToTag(t)}}class Xk extends we{get methods(){return{getBlockTools:()=>Array.from(this.Editor.Tools.blockTools.values())}}}class Gk extends we{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class Zk extends we{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:t=>this.toggleBlockSettings(t),toggleToolbox:t=>this.toggleToolbox(t)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(t){if(this.Editor.BlockManager.currentBlockIndex===-1){Ft("Could't toggle the Toolbar because there is no block selected ","warn");return}t??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(t){if(this.Editor.BlockManager.currentBlockIndex===-1){Ft("Could't toggle the Toolbox because there is no block selected ","warn");return}t??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var kb={exports:{}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(a,t){(function(r,i){a.exports=i()})(window,function(){return function(r){var i={};function l(d){if(i[d])return i[d].exports;var f=i[d]={i:d,l:!1,exports:{}};return r[d].call(f.exports,f,f.exports,l),f.l=!0,f.exports}return l.m=r,l.c=i,l.d=function(d,f,p){l.o(d,f)||Object.defineProperty(d,f,{enumerable:!0,get:p})},l.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},l.t=function(d,f){if(1&f&&(d=l(d)),8&f||4&f&&typeof d=="object"&&d&&d.__esModule)return d;var p=Object.create(null);if(l.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:d}),2&f&&typeof d!="string")for(var m in d)l.d(p,m,(function(g){return d[g]}).bind(null,m));return p},l.n=function(d){var f=d&&d.__esModule?function(){return d.default}:function(){return d};return l.d(f,"a",f),f},l.o=function(d,f){return Object.prototype.hasOwnProperty.call(d,f)},l.p="",l(l.s=0)}([function(r,i,l){r.exports=l(1)},function(r,i,l){l.r(i),l.d(i,"default",function(){return d});class d{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(p,m,g){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const v=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},g);if(v.hidingDelay&&(this.hidingDelay=v.hidingDelay),this.nodes.content.innerHTML="",typeof m=="string")this.nodes.content.appendChild(document.createTextNode(m));else{if(!(m instanceof Node))throw Error("[CodeX Tooltip] Wrong type of content passed. It should be an instance of Node or String. But "+typeof m+" given.");this.nodes.content.appendChild(m)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),v.placement){case"top":this.placeTop(p,v);break;case"left":this.placeLeft(p,v);break;case"right":this.placeRight(p,v);break;case"bottom":default:this.placeBottom(p,v)}v&&v.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},v.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(p=!1){if(this.hidingDelay&&!p)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(p,m,g){p.addEventListener("mouseenter",()=>{this.show(p,m,g)}),p.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const p="codex-tooltips-style";if(document.getElementById(p))return;const m=l(2),g=this.make("style",null,{textContent:m.toString(),id:p});this.prepend(document.head,g)}placeBottom(p,m){const g=p.getBoundingClientRect(),v=g.left+p.clientWidth/2-this.nodes.wrapper.offsetWidth/2,y=g.bottom+window.pageYOffset+this.offsetTop+m.marginTop;this.applyPlacement("bottom",v,y)}placeTop(p,m){const g=p.getBoundingClientRect(),v=g.left+p.clientWidth/2-this.nodes.wrapper.offsetWidth/2,y=g.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",v,y)}placeLeft(p,m){const g=p.getBoundingClientRect(),v=g.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-m.marginLeft,y=g.top+window.pageYOffset+p.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",v,y)}placeRight(p,m){const g=p.getBoundingClientRect(),v=g.right+this.offsetRight+m.marginRight,y=g.top+window.pageYOffset+p.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",v,y)}applyPlacement(p,m,g){this.nodes.wrapper.classList.add(this.CSS.placement[p]),this.nodes.wrapper.style.left=m+"px",this.nodes.wrapper.style.top=g+"px"}make(p,m=null,g={}){const v=document.createElement(p);Array.isArray(m)?v.classList.add(...m):m&&v.classList.add(m);for(const y in g)g.hasOwnProperty(y)&&(v[y]=g[y]);return v}append(p,m){Array.isArray(m)?m.forEach(g=>p.appendChild(g)):p.appendChild(m)}prepend(p,m){Array.isArray(m)?(m=m.reverse()).forEach(g=>p.prepend(g)):p.prepend(m)}}},function(r,i){r.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(kb);var Qk=kb.exports;const Kk=Gs(Qk);let Zt=null;function vu(){Zt||(Zt=new Kk)}function Jk(a,t,r){vu(),Zt?.show(a,t,r)}function Is(a=!1){vu(),Zt?.hide(a)}function Us(a,t,r){vu(),Zt?.onHover(a,t,r)}function Wk(){Zt?.destroy(),Zt=null}class e4 extends we{constructor({config:t,eventsDispatcher:r}){super({config:t,eventsDispatcher:r})}get methods(){return{show:(t,r,i)=>this.show(t,r,i),hide:()=>this.hide(),onHover:(t,r,i)=>this.onHover(t,r,i)}}show(t,r,i){Jk(t,r,i)}hide(){Is()}onHover(t,r,i){Us(t,r,i)}}class t4 extends we{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function wb(a,t){const r={};return Object.entries(a).forEach(([i,l])=>{if(st(l)){const d=t?`${t}.${i}`:i;Object.values(l).every(f=>Nn(f))?r[i]=d:r[i]=wb(l,d);return}r[i]=l}),r}const At=wb(cb);function n4(a,t){const r={};return Object.keys(a).forEach(i=>{const l=t[i];l!==void 0?r[l]=a[i]:r[i]=a[i]}),r}const Sb=class qa{constructor(t,r){this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=r}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(t){t<this.items.length&&t>=-1&&(this.dropCursor(),this.cursor=t,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(t){this.items=t}next(){this.cursor=this.leafNodesAndReturnIndex(qa.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(qa.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(t){if(this.items.length===0)return this.cursor;let r=this.cursor;return r===-1?r=t===qa.directions.RIGHT?-1:0:this.items[r].classList.remove(this.focusedCssClass),t===qa.directions.RIGHT?r=(r+1)%this.items.length:r=(this.items.length+r-1)%this.items.length,F.canSetCaret(this.items[r])&&Ds(()=>fe.setCursor(this.items[r]),50)(),this.items[r].classList.add(this.focusedCssClass),r}};Sb.directions={RIGHT:"right",LEFT:"left"};let Ha=Sb,Ps=class ru{constructor(t){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=r=>{if(this.isEventReadyForHandling(r))switch(ru.usedKeys.includes(r.keyCode)&&r.preventDefault(),r.keyCode){case ge.TAB:this.handleTabPress(r);break;case ge.LEFT:case ge.UP:this.flipLeft();break;case ge.RIGHT:case ge.DOWN:this.flipRight();break;case ge.ENTER:this.handleEnterPress(r);break}},this.iterator=new Ha(t.items,t.focusedItemClass),this.activateCallback=t.activateCallback,this.allowedKeys=t.allowedKeys||ru.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[ge.TAB,ge.LEFT,ge.RIGHT,ge.ENTER,ge.UP,ge.DOWN]}activate(t,r){this.activated=!0,t&&this.iterator.setItems(t),r!==void 0&&this.iterator.setCursor(r),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(t){this.flipCallbacks.push(t)}removeOnFlip(t){this.flipCallbacks=this.flipCallbacks.filter(r=>r!==t)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(t){return this.activated&&this.allowedKeys.includes(t.keyCode)}handleTabPress(t){switch(t.shiftKey?Ha.directions.LEFT:Ha.directions.RIGHT){case Ha.directions.RIGHT:this.flipRight();break;case Ha.directions.LEFT:this.flipLeft();break}}handleEnterPress(t){this.activated&&(this.iterator.currentItem&&(t.stopPropagation(),t.preventDefault(),this.iterator.currentItem.click()),Ue(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(t=>t())}};const r4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',o4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',a4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',i4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>',s4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',l4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',c4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',d4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',v0='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',u4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',h4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',Eb='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>',f4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',p4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',g4='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',m4="__",b4="--";function dr(a){return(t,r)=>[[a,t].filter(i=>!!i).join(m4),r].filter(i=>!!i).join(b4)}const Ia=dr("ce-hint"),Ua={root:Ia(),alignedStart:Ia(null,"align-left"),alignedCenter:Ia(null,"align-center"),title:Ia("title"),description:Ia("description")};class v4{constructor(t){this.nodes={root:F.make("div",[Ua.root,t.alignment==="center"?Ua.alignedCenter:Ua.alignedStart]),title:F.make("div",Ua.title,{textContent:t.title})},this.nodes.root.appendChild(this.nodes.title),t.description!==void 0&&(this.nodes.description=F.make("div",Ua.description,{textContent:t.description}),this.nodes.root.appendChild(this.nodes.description))}getElement(){return this.nodes.root}}let xu=class{constructor(t){this.params=t}get name(){if(this.params!==void 0&&"name"in this.params)return this.params.name}destroy(){Is()}onChildrenOpen(){var t;this.params!==void 0&&"children"in this.params&&typeof((t=this.params.children)==null?void 0:t.onOpen)=="function"&&this.params.children.onOpen()}onChildrenClose(){var t;this.params!==void 0&&"children"in this.params&&typeof((t=this.params.children)==null?void 0:t.onClose)=="function"&&this.params.children.onClose()}handleClick(){var t,r;this.params!==void 0&&"onActivate"in this.params&&((r=(t=this.params).onActivate)==null||r.call(t,this.params))}addHint(t,r){const i=new v4(r);Us(t,i.getElement(),{placement:r.position,hidingDelay:100})}get children(){var t;return this.params!==void 0&&"children"in this.params&&((t=this.params.children)==null?void 0:t.items)!==void 0?this.params.children.items:[]}get hasChildren(){return this.children.length>0}get isChildrenOpen(){var t;return this.params!==void 0&&"children"in this.params&&((t=this.params.children)==null?void 0:t.isOpen)===!0}get isChildrenFlippable(){var t;return!(this.params===void 0||!("children"in this.params)||((t=this.params.children)==null?void 0:t.isFlippable)===!1)}get isChildrenSearchable(){var t;return this.params!==void 0&&"children"in this.params&&((t=this.params.children)==null?void 0:t.searchable)===!0}get closeOnActivate(){return this.params!==void 0&&"closeOnActivate"in this.params&&this.params.closeOnActivate}get isActive(){return this.params===void 0||!("isActive"in this.params)?!1:typeof this.params.isActive=="function"?this.params.isActive():this.params.isActive===!0}};const _t=dr("ce-popover-item"),Ye={container:_t(),active:_t(null,"active"),disabled:_t(null,"disabled"),focused:_t(null,"focused"),hidden:_t(null,"hidden"),confirmationState:_t(null,"confirmation"),noHover:_t(null,"no-hover"),noFocus:_t(null,"no-focus"),title:_t("title"),secondaryTitle:_t("secondary-title"),icon:_t("icon"),iconTool:_t("icon","tool"),iconChevronRight:_t("icon","chevron-right"),wobbleAnimation:dr("wobble")()};let Or=class extends xu{constructor(t,r){super(t),this.params=t,this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{var i;(i=this.nodes.root)==null||i.classList.remove(Ye.noFocus)},this.removeSpecialHoverBehavior=()=>{var i;(i=this.nodes.root)==null||i.classList.remove(Ye.noHover)},this.onErrorAnimationEnd=()=>{var i,l;(i=this.nodes.icon)==null||i.classList.remove(Ye.wobbleAnimation),(l=this.nodes.icon)==null||l.removeEventListener("animationend",this.onErrorAnimationEnd)},this.nodes.root=this.make(t,r)}get isDisabled(){return this.params.isDisabled===!0}get toggle(){return this.params.toggle}get title(){return this.params.title}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root===null?!1:this.nodes.root.classList.contains(Ye.focused)}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled&&this.confirmationState!==null){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(t){var r;(r=this.nodes.root)==null||r.classList.toggle(Ye.active,t)}toggleHidden(t){var r;(r=this.nodes.root)==null||r.classList.toggle(Ye.hidden,t)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(t,r){var i,l;const d=r?.wrapperTag||"div",f=F.make(d,Ye.container,{type:d==="button"?"button":void 0});return t.name&&(f.dataset.itemName=t.name),this.nodes.icon=F.make("div",[Ye.icon,Ye.iconTool],{innerHTML:t.icon||c4}),f.appendChild(this.nodes.icon),t.title!==void 0&&f.appendChild(F.make("div",Ye.title,{innerHTML:t.title||""})),t.secondaryLabel&&f.appendChild(F.make("div",Ye.secondaryTitle,{textContent:t.secondaryLabel})),this.hasChildren&&f.appendChild(F.make("div",[Ye.icon,Ye.iconChevronRight],{innerHTML:i4})),this.isActive&&f.classList.add(Ye.active),t.isDisabled&&f.classList.add(Ye.disabled),t.hint!==void 0&&((i=r?.hint)==null?void 0:i.enabled)!==!1&&this.addHint(f,{...t.hint,position:((l=r?.hint)==null?void 0:l.position)||"right"}),f}enableConfirmationMode(t){if(this.nodes.root===null)return;const r={...this.params,...t,confirmation:"confirmation"in t?t.confirmation:void 0},i=this.make(r);this.nodes.root.innerHTML=i.innerHTML,this.nodes.root.classList.add(Ye.confirmationState),this.confirmationState=t,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){if(this.nodes.root===null)return;const t=this.make(this.params);this.nodes.root.innerHTML=t.innerHTML,this.nodes.root.classList.remove(Ye.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){var t,r,i;(t=this.nodes.root)==null||t.classList.add(Ye.noHover),(r=this.nodes.root)==null||r.classList.add(Ye.noFocus),(i=this.nodes.root)==null||i.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){var t;this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),(t=this.nodes.root)==null||t.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(t){var r;if(!("confirmation"in t)||t.confirmation===void 0)try{(r=t.onActivate)==null||r.call(t,t),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(t.confirmation)}animateError(){var t,r,i;(t=this.nodes.icon)!=null&&t.classList.contains(Ye.wobbleAnimation)||((r=this.nodes.icon)==null||r.classList.add(Ye.wobbleAnimation),(i=this.nodes.icon)==null||i.addEventListener("animationend",this.onErrorAnimationEnd))}};const Ld=dr("ce-popover-item-separator"),Rd={container:Ld(),line:Ld("line"),hidden:Ld(null,"hidden")};class Cb extends xu{constructor(){super(),this.nodes={root:F.make("div",Rd.container),line:F.make("div",Rd.line)},this.nodes.root.appendChild(this.nodes.line)}getElement(){return this.nodes.root}toggleHidden(t){var r;(r=this.nodes.root)==null||r.classList.toggle(Rd.hidden,t)}}var ln=(a=>(a.Closed="closed",a.ClosedOnActivate="closed-on-activate",a))(ln||{});const ft=dr("ce-popover"),Ve={popover:ft(),popoverContainer:ft("container"),popoverOpenTop:ft(null,"open-top"),popoverOpenLeft:ft(null,"open-left"),popoverOpened:ft(null,"opened"),search:ft("search"),nothingFoundMessage:ft("nothing-found-message"),nothingFoundMessageDisplayed:ft("nothing-found-message","displayed"),items:ft("items"),overlay:ft("overlay"),overlayHidden:ft("overlay","hidden"),popoverNested:ft(null,"nested"),getPopoverNestedClass:a=>ft(null,`nested-level-${a.toString()}`),popoverInline:ft(null,"inline"),popoverHeader:ft("header")};var Mo=(a=>(a.NestingLevel="--nesting-level",a.PopoverHeight="--popover-height",a.InlinePopoverWidth="--inline-popover-width",a.TriggerItemLeft="--trigger-item-left",a.TriggerItemTop="--trigger-item-top",a))(Mo||{});const x0=dr("ce-popover-item-html"),y0={root:x0(),hidden:x0(null,"hidden")};let Qa=class extends xu{constructor(t,r){var i,l;super(t),this.nodes={root:F.make("div",y0.root)},this.nodes.root.appendChild(t.element),t.name&&(this.nodes.root.dataset.itemName=t.name),t.hint!==void 0&&((i=r?.hint)==null?void 0:i.enabled)!==!1&&this.addHint(this.nodes.root,{...t.hint,position:((l=r?.hint)==null?void 0:l.position)||"right"})}getElement(){return this.nodes.root}toggleHidden(t){var r;(r=this.nodes.root)==null||r.classList.toggle(y0.hidden,t)}getControls(){const t=this.nodes.root.querySelectorAll(`button, ${F.allInputsSelector}`);return Array.from(t)}};class Tb extends ti{constructor(t,r={}){super(),this.params=t,this.itemsRenderParams=r,this.listeners=new ni,this.messages={nothingFound:"Nothing found",search:"Search"},this.items=this.buildItems(t.items),t.messages&&(this.messages={...this.messages,...t.messages}),this.nodes={},this.nodes.popoverContainer=F.make("div",[Ve.popoverContainer]),this.nodes.nothingFoundMessage=F.make("div",[Ve.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=F.make("div",[Ve.items]),this.items.forEach(i=>{const l=i.getElement();l!==null&&this.nodes.items.appendChild(l)}),this.nodes.popoverContainer.appendChild(this.nodes.items),this.listeners.on(this.nodes.popoverContainer,"click",i=>this.handleClick(i)),this.nodes.popover=F.make("div",[Ve.popover,this.params.class]),this.nodes.popover.appendChild(this.nodes.popoverContainer)}get itemsDefault(){return this.items.filter(t=>t instanceof Or)}getElement(){return this.nodes.popover}show(){this.nodes.popover.classList.add(Ve.popoverOpened),this.search!==void 0&&this.search.focus()}hide(){this.nodes.popover.classList.remove(Ve.popoverOpened),this.nodes.popover.classList.remove(Ve.popoverOpenTop),this.itemsDefault.forEach(t=>t.reset()),this.search!==void 0&&this.search.clear(),this.emit(ln.Closed)}destroy(){var t;this.items.forEach(r=>r.destroy()),this.nodes.popover.remove(),this.listeners.removeAll(),(t=this.search)==null||t.destroy()}activateItemByName(t){const r=this.items.find(i=>i.name===t);this.handleItemClick(r)}buildItems(t){return t.map(r=>{switch(r.type){case He.Separator:return new Cb;case He.Html:return new Qa(r,this.itemsRenderParams[He.Html]);default:return new Or(r,this.itemsRenderParams[He.Default])}})}getTargetItem(t){return this.items.filter(r=>r instanceof Or||r instanceof Qa).find(r=>{const i=r.getElement();return i===null?!1:t.composedPath().includes(i)})}handleItemClick(t){if(!("isDisabled"in t&&t.isDisabled)){if(t.hasChildren){this.showNestedItems(t),"handleClick"in t&&typeof t.handleClick=="function"&&t.handleClick();return}this.itemsDefault.filter(r=>r!==t).forEach(r=>r.reset()),"handleClick"in t&&typeof t.handleClick=="function"&&t.handleClick(),this.toggleItemActivenessIfNeeded(t),t.closeOnActivate&&(this.hide(),this.emit(ln.ClosedOnActivate))}}handleClick(t){const r=this.getTargetItem(t);r!==void 0&&this.handleItemClick(r)}toggleItemActivenessIfNeeded(t){if(t instanceof Or&&(t.toggle===!0&&t.toggleActive(),typeof t.toggle=="string")){const r=this.itemsDefault.filter(i=>i.toggle===t.toggle);if(r.length===1){t.toggleActive();return}r.forEach(i=>{i.toggleActive(i===t)})}}}var qs=(a=>(a.Search="search",a))(qs||{});const Dd=dr("cdx-search-field"),zd={wrapper:Dd(),icon:Dd("icon"),input:Dd("input")};class x4 extends ti{constructor({items:t,placeholder:r}){super(),this.listeners=new ni,this.items=t,this.wrapper=F.make("div",zd.wrapper);const i=F.make("div",zd.icon,{innerHTML:f4});this.input=F.make("input",zd.input,{placeholder:r,tabIndex:-1}),this.wrapper.appendChild(i),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.emit(qs.Search,{query:this.searchQuery,items:this.foundItems})})}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.emit(qs.Search,{query:"",items:this.foundItems})}destroy(){this.listeners.removeAll()}get foundItems(){return this.items.filter(t=>this.checkItem(t))}checkItem(t){var r,i;const l=((r=t.title)==null?void 0:r.toLowerCase())||"",d=(i=this.searchQuery)==null?void 0:i.toLowerCase();return d!==void 0?l.includes(d):!1}}var y4=Object.defineProperty,k4=Object.getOwnPropertyDescriptor,w4=(a,t,r,i)=>{for(var l=k4(t,r),d=a.length-1,f;d>=0;d--)(f=a[d])&&(l=f(t,r,l)||l);return l&&y4(t,r,l),l};const jb=class Nb extends Tb{constructor(t,r){super(t,r),this.nestingLevel=0,this.nestedPopoverTriggerItem=null,this.previouslyHoveredItem=null,this.scopeElement=document.body,this.hide=()=>{var i;super.hide(),this.destroyNestedPopoverIfExists(),(i=this.flipper)==null||i.deactivate(),this.previouslyHoveredItem=null},this.onFlip=()=>{const i=this.itemsDefault.find(l=>l.isFocused);i?.onFocus()},this.onSearch=i=>{var l;const d=i.query==="",f=i.items.length===0;this.items.forEach(m=>{let g=!1;m instanceof Or?g=!i.items.includes(m):(m instanceof Cb||m instanceof Qa)&&(g=f||!d),m.toggleHidden(g)}),this.toggleNothingFoundMessage(f);const p=i.query===""?this.flippableElements:i.items.map(m=>m.getElement());(l=this.flipper)!=null&&l.isActivated&&(this.flipper.deactivate(),this.flipper.activate(p))},t.nestingLevel!==void 0&&(this.nestingLevel=t.nestingLevel),this.nestingLevel>0&&this.nodes.popover.classList.add(Ve.popoverNested),t.scopeElement!==void 0&&(this.scopeElement=t.scopeElement),this.nodes.popoverContainer!==null&&this.listeners.on(this.nodes.popoverContainer,"mouseover",i=>this.handleHover(i)),t.searchable&&this.addSearch(),t.flippable!==!1&&(this.flipper=new Ps({items:this.flippableElements,focusedItemClass:Ye.focused,allowedKeys:[ge.TAB,ge.UP,ge.DOWN,ge.ENTER]}),this.flipper.onFlip(this.onFlip))}hasFocus(){return this.flipper===void 0?!1:this.flipper.hasFocus()}get scrollTop(){return this.nodes.items===null?0:this.nodes.items.scrollTop}get offsetTop(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetTop}show(){var t;this.nodes.popover.style.setProperty(Mo.PopoverHeight,this.size.height+"px"),this.shouldOpenBottom||this.nodes.popover.classList.add(Ve.popoverOpenTop),this.shouldOpenRight||this.nodes.popover.classList.add(Ve.popoverOpenLeft),super.show(),(t=this.flipper)==null||t.activate(this.flippableElements)}destroy(){this.hide(),super.destroy()}showNestedItems(t){this.nestedPopover!==null&&this.nestedPopover!==void 0||(this.nestedPopoverTriggerItem=t,this.showNestedPopoverForItem(t))}handleHover(t){const r=this.getTargetItem(t);r!==void 0&&this.previouslyHoveredItem!==r&&(this.destroyNestedPopoverIfExists(),this.previouslyHoveredItem=r,r.hasChildren&&this.showNestedPopoverForItem(r))}setTriggerItemPosition(t,r){const i=r.getElement(),l=(i?i.offsetTop:0)-this.scrollTop,d=this.offsetTop+l;t.style.setProperty(Mo.TriggerItemTop,d+"px")}destroyNestedPopoverIfExists(){var t,r;this.nestedPopover===void 0||this.nestedPopover===null||(this.nestedPopover.off(ln.ClosedOnActivate,this.hide),this.nestedPopover.hide(),this.nestedPopover.destroy(),this.nestedPopover.getElement().remove(),this.nestedPopover=null,(t=this.flipper)==null||t.activate(this.flippableElements),(r=this.nestedPopoverTriggerItem)==null||r.onChildrenClose())}showNestedPopoverForItem(t){var r;this.nestedPopover=new Nb({searchable:t.isChildrenSearchable,items:t.children,nestingLevel:this.nestingLevel+1,flippable:t.isChildrenFlippable,messages:this.messages}),t.onChildrenOpen(),this.nestedPopover.on(ln.ClosedOnActivate,this.hide);const i=this.nestedPopover.getElement();return this.nodes.popover.appendChild(i),this.setTriggerItemPosition(i,t),i.style.setProperty(Mo.NestingLevel,this.nestedPopover.nestingLevel.toString()),this.nestedPopover.show(),(r=this.flipper)==null||r.deactivate(),this.nestedPopover}get shouldOpenBottom(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const t=this.nodes.popoverContainer.getBoundingClientRect(),r=this.scopeElement.getBoundingClientRect(),i=this.size.height,l=t.top+i,d=t.top-i,f=Math.min(window.innerHeight,r.bottom);return d<r.top||l<=f}get shouldOpenRight(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;const t=this.nodes.popover.getBoundingClientRect(),r=this.scopeElement.getBoundingClientRect(),i=this.size.width,l=t.right+i,d=t.left-i,f=Math.min(window.innerWidth,r.right);return d<r.left||l<=f}get size(){var t;const r={height:0,width:0};if(this.nodes.popover===null)return r;const i=this.nodes.popover.cloneNode(!0);i.style.visibility="hidden",i.style.position="absolute",i.style.top="-1000px",i.classList.add(Ve.popoverOpened),(t=i.querySelector("."+Ve.popoverNested))==null||t.remove(),document.body.appendChild(i);const l=i.querySelector("."+Ve.popoverContainer);return r.height=l.offsetHeight,r.width=l.offsetWidth,i.remove(),r}get flippableElements(){return this.items.map(t=>{if(t instanceof Or)return t.getElement();if(t instanceof Qa)return t.getControls()}).flat().filter(t=>t!=null)}addSearch(){this.search=new x4({items:this.itemsDefault,placeholder:this.messages.search}),this.search.on(qs.Search,this.onSearch);const t=this.search.getElement();t.classList.add(Ve.search),this.nodes.popoverContainer.insertBefore(t,this.nodes.popoverContainer.firstChild)}toggleNothingFoundMessage(t){this.nodes.nothingFoundMessage.classList.toggle(Ve.nothingFoundMessageDisplayed,t)}};w4([Do],jb.prototype,"size");let yu=jb;class S4 extends yu{constructor(t){const r=!zo();super({...t,class:Ve.popoverInline},{[He.Default]:{wrapperTag:"button",hint:{position:"top",alignment:"center",enabled:r}},[He.Html]:{hint:{position:"top",alignment:"center",enabled:r}}}),this.items.forEach(i=>{!(i instanceof Or)&&!(i instanceof Qa)||i.hasChildren&&i.isChildrenOpen&&this.showNestedItems(i)})}get offsetLeft(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetLeft}show(){this.nestingLevel===0&&this.nodes.popover.style.setProperty(Mo.InlinePopoverWidth,this.size.width+"px"),super.show()}handleHover(){}setTriggerItemPosition(t,r){const i=r.getElement(),l=i?i.offsetLeft:0,d=this.offsetLeft+l;t.style.setProperty(Mo.TriggerItemLeft,d+"px")}showNestedItems(t){if(this.nestedPopoverTriggerItem===t){this.destroyNestedPopoverIfExists(),this.nestedPopoverTriggerItem=null;return}super.showNestedItems(t)}showNestedPopoverForItem(t){const r=super.showNestedPopoverForItem(t);return r.getElement().classList.add(Ve.getPopoverNestedClass(r.nestingLevel)),r}handleItemClick(t){var r;t!==this.nestedPopoverTriggerItem&&((r=this.nestedPopoverTriggerItem)==null||r.handleClick(),super.destroyNestedPopoverIfExists()),super.handleItemClick(t)}}const Bb=class Ya{constructor(){this.scrollPosition=null}lock(){eu?this.lockHard():document.body.classList.add(Ya.CSS.scrollLocked)}unlock(){eu?this.unlockHard():document.body.classList.remove(Ya.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(Ya.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(Ya.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};Bb.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};let E4=Bb;const Hd=dr("ce-popover-header"),Id={root:Hd(),text:Hd("text"),backButton:Hd("back-button")};class C4{constructor({text:t,onBackButtonClick:r}){this.listeners=new ni,this.text=t,this.onBackButtonClick=r,this.nodes={root:F.make("div",[Id.root]),backButton:F.make("button",[Id.backButton]),text:F.make("div",[Id.text])},this.nodes.backButton.innerHTML=a4,this.nodes.root.appendChild(this.nodes.backButton),this.listeners.on(this.nodes.backButton,"click",this.onBackButtonClick),this.nodes.text.innerText=this.text,this.nodes.root.appendChild(this.nodes.text)}getElement(){return this.nodes.root}destroy(){this.nodes.root.remove(),this.listeners.destroy()}}class T4{constructor(){this.history=[]}push(t){this.history.push(t)}pop(){return this.history.pop()}get currentTitle(){return this.history.length===0?"":this.history[this.history.length-1].title}get currentItems(){return this.history.length===0?[]:this.history[this.history.length-1].items}reset(){for(;this.history.length>1;)this.pop()}}let Ob=class extends Tb{constructor(t){super(t,{[He.Default]:{hint:{enabled:!1}},[He.Html]:{hint:{enabled:!1}}}),this.scrollLocker=new E4,this.history=new T4,this.isHidden=!0,this.nodes.overlay=F.make("div",[Ve.overlay,Ve.overlayHidden]),this.nodes.popover.insertBefore(this.nodes.overlay,this.nodes.popover.firstChild),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.history.push({items:t.items})}show(){this.nodes.overlay.classList.remove(Ve.overlayHidden),super.show(),this.scrollLocker.lock(),this.isHidden=!1}hide(){this.isHidden||(super.hide(),this.nodes.overlay.classList.add(Ve.overlayHidden),this.scrollLocker.unlock(),this.history.reset(),this.isHidden=!0)}destroy(){super.destroy(),this.scrollLocker.unlock()}showNestedItems(t){this.updateItemsAndHeader(t.children,t.title),this.history.push({title:t.title,items:t.children})}updateItemsAndHeader(t,r){if(this.header!==null&&this.header!==void 0&&(this.header.destroy(),this.header=null),r!==void 0){this.header=new C4({text:r,onBackButtonClick:()=>{this.history.pop(),this.updateItemsAndHeader(this.history.currentItems,this.history.currentTitle)}});const i=this.header.getElement();i!==null&&this.nodes.popoverContainer.insertBefore(i,this.nodes.popoverContainer.firstChild)}this.items.forEach(i=>{var l;return(l=i.getElement())==null?void 0:l.remove()}),this.items=this.buildItems(t),this.items.forEach(i=>{var l;const d=i.getElement();d!==null&&((l=this.nodes.items)==null||l.appendChild(d))})}};class j4 extends we{constructor(){super(...arguments),this.opened=!1,this.selection=new fe,this.popover=null,this.close=()=>{this.opened&&(this.opened=!1,fe.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(ln.Closed,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))},this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var t;if(this.popover!==null)return"flipper"in this.popover?(t=this.popover)==null?void 0:t.flipper:void 0}make(){this.nodes.wrapper=F.make("div",[this.CSS.settings]),this.nodes.wrapper.setAttribute("data-cy","block-tunes"),this.eventsDispatcher.on(Za,this.close)}destroy(){this.removeAllNodes(),this.listeners.destroy(),this.eventsDispatcher.off(Za,this.close)}async open(t=this.Editor.BlockManager.currentBlock){var r;this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(t),this.Editor.BlockSelection.clearCache();const{toolTunes:i,commonTunes:l}=t.getTunes();this.eventsDispatcher.emit(this.events.opened);const d=zo()?Ob:yu;this.popover=new d({searchable:!0,items:await this.getTunesItems(t,l,i),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:gt.ui(At.ui.popover,"Nothing found"),search:gt.ui(At.ui.popover,"Filter")}}),this.popover.on(ln.Closed,this.onPopoverClose),(r=this.nodes.wrapper)==null||r.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}async getTunesItems(t,r,i){const l=[];i!==void 0&&i.length>0&&(l.push(...i),l.push({type:He.Separator}));const d=Array.from(this.Editor.Tools.blockTools.values()),f=(await bb(t,d)).reduce((p,m)=>(m.toolbox.forEach(g=>{p.push({icon:g.icon,title:gt.t(At.toolNames,g.title),name:m.name,closeOnActivate:!0,onActivate:async()=>{const{BlockManager:v,Caret:y,Toolbar:w}=this.Editor,B=await v.convert(t,m.name,g.data);w.close(),y.setToBlock(B,y.positions.END)}})}),p),[]);return f.length>0&&(l.push({icon:Eb,name:"convert-to",title:gt.ui(At.ui.popover,"Convert to"),children:{searchable:!0,items:f}}),l.push({type:He.Separator})),l.push(...r),l.map(p=>this.resolveTuneAliases(p))}resolveTuneAliases(t){if(t.type===He.Separator||t.type===He.Html)return t;const r=n4(t,{label:"title"});return t.confirmation&&(r.confirmation=this.resolveTuneAliases(t.confirmation)),r}}var Mb={exports:{}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(a,t){(function(r,i){a.exports=i()})(window,function(){return function(r){var i={};function l(d){if(i[d])return i[d].exports;var f=i[d]={i:d,l:!1,exports:{}};return r[d].call(f.exports,f,f.exports,l),f.l=!0,f.exports}return l.m=r,l.c=i,l.d=function(d,f,p){l.o(d,f)||Object.defineProperty(d,f,{enumerable:!0,get:p})},l.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},l.t=function(d,f){if(1&f&&(d=l(d)),8&f||4&f&&typeof d=="object"&&d&&d.__esModule)return d;var p=Object.create(null);if(l.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:d}),2&f&&typeof d!="string")for(var m in d)l.d(p,m,(function(g){return d[g]}).bind(null,m));return p},l.n=function(d){var f=d&&d.__esModule?function(){return d.default}:function(){return d};return l.d(f,"a",f),f},l.o=function(d,f){return Object.prototype.hasOwnProperty.call(d,f)},l.p="",l(l.s=0)}([function(r,i,l){function d(m,g){for(var v=0;v<g.length;v++){var y=g[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}function f(m,g,v){return g&&d(m.prototype,g),v&&d(m,v),m}l.r(i);var p=function(){function m(g){var v=this;(function(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")})(this,m),this.commands={},this.keys={},this.name=g.name,this.parseShortcutName(g.name),this.element=g.on,this.callback=g.callback,this.executeShortcut=function(y){v.execute(y)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return f(m,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),f(m,[{key:"parseShortcutName",value:function(g){g=g.split("+");for(var v=0;v<g.length;v++){g[v]=g[v].toUpperCase();var y=!1;for(var w in m.supportedCommands)if(m.supportedCommands[w].includes(g[v])){y=this.commands[w]=!0;break}y||(this.keys[g[v]]=!0)}for(var B in m.supportedCommands)this.commands[B]||(this.commands[B]=!1)}},{key:"execute",value:function(g){var v,y={CMD:g.ctrlKey||g.metaKey,SHIFT:g.shiftKey,ALT:g.altKey},w=!0;for(v in this.commands)this.commands[v]!==y[v]&&(w=!1);var B,S=!0;for(B in this.keys)S=S&&g.keyCode===m.keyCodes[B];w&&S&&this.callback(g)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),m}();i.default=p}]).default})})(Mb);var N4=Mb.exports;const B4=Gs(N4);class O4{constructor(){this.registeredShortcuts=new Map}add(t){if(this.findShortcut(t.on,t.name))throw Error(`Shortcut ${t.name} is already registered for ${t.on}. Please remove it before add a new handler.`);const r=new B4({name:t.name,on:t.on,callback:t.handler}),i=this.registeredShortcuts.get(t.on)||[];this.registeredShortcuts.set(t.on,[...i,r])}remove(t,r){const i=this.findShortcut(t,r);if(!i)return;i.remove();const l=this.registeredShortcuts.get(t);this.registeredShortcuts.set(t,l.filter(d=>d!==i))}findShortcut(t,r){return(this.registeredShortcuts.get(t)||[]).find(({name:i})=>i===r)}}const Ao=new O4;var M4=Object.defineProperty,_4=Object.getOwnPropertyDescriptor,_b=(a,t,r,i)=>{for(var l=_4(t,r),d=a.length-1,f;d>=0;d--)(f=a[d])&&(l=f(t,r,l)||l);return l&&M4(t,r,l),l},ws=(a=>(a.Opened="toolbox-opened",a.Closed="toolbox-closed",a.BlockAdded="toolbox-block-added",a))(ws||{});const ku=class Ab extends ti{constructor({api:t,tools:r,i18nLabels:i}){super(),this.opened=!1,this.listeners=new ni,this.popover=null,this.handleMobileLayoutToggle=()=>{this.destroyPopover(),this.initPopover()},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=t,this.tools=r,this.i18nLabels=i,this.enableShortcuts(),this.nodes={toolbox:F.make("div",Ab.CSS.toolbox)},this.initPopover(),this.nodes.toolbox.setAttribute("data-cy","toolbox"),this.api.events.on(Za,this.handleMobileLayoutToggle)}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}getElement(){return this.nodes.toolbox}hasFocus(){if(this.popover!==null)return"hasFocus"in this.popover?this.popover.hasFocus():void 0}destroy(){var t;super.destroy(),this.nodes&&this.nodes.toolbox&&this.nodes.toolbox.remove(),this.removeAllShortcuts(),(t=this.popover)==null||t.off(ln.Closed,this.onPopoverClose),this.listeners.destroy(),this.api.events.off(Za,this.handleMobileLayoutToggle)}toolButtonActivated(t,r){this.insertNewBlock(t,r)}open(){var t;this.isEmpty||((t=this.popover)==null||t.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var t;(t=this.popover)==null||t.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}initPopover(){var t;const r=zo()?Ob:yu;this.popover=new r({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(ln.Closed,this.onPopoverClose),(t=this.nodes.toolbox)==null||t.append(this.popover.getElement())}destroyPopover(){this.popover!==null&&(this.popover.hide(),this.popover.off(ln.Closed,this.onPopoverClose),this.popover.destroy(),this.popover=null),this.nodes.toolbox!==null&&(this.nodes.toolbox.innerHTML="")}get toolsToBeDisplayed(){const t=[];return this.tools.forEach(r=>{r.toolbox&&t.push(r)}),t}get toolboxItemsToBeDisplayed(){const t=(r,i,l=!0)=>({icon:r.icon,title:gt.t(At.toolNames,r.title||zs(i.name)),name:i.name,onActivate:()=>{this.toolButtonActivated(i.name,r.data)},secondaryLabel:i.shortcut&&l?gu(i.shortcut):""});return this.toolsToBeDisplayed.reduce((r,i)=>(Array.isArray(i.toolbox)?i.toolbox.forEach((l,d)=>{r.push(t(l,i,d===0))}):i.toolbox!==void 0&&r.push(t(i.toolbox,i)),r),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const r=t.shortcut;r&&this.enableShortcutForTool(t.name,r)})}enableShortcutForTool(t,r){Ao.add({name:r,on:this.api.ui.nodes.redactor,handler:async i=>{i.preventDefault();const l=this.api.blocks.getCurrentBlockIndex(),d=this.api.blocks.getBlockByIndex(l);if(d)try{const f=await this.api.blocks.convert(d.id,t);this.api.caret.setToBlock(f,"end");return}catch{}this.insertNewBlock(t)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const r=t.shortcut;r&&Ao.remove(this.api.ui.nodes.redactor,r)})}async insertNewBlock(t,r){const i=this.api.blocks.getCurrentBlockIndex(),l=this.api.blocks.getBlockByIndex(i);if(!l)return;const d=l.isEmpty?i:i+1;let f;if(r){const m=await this.api.blocks.composeBlockData(t);f=Object.assign(m,r)}const p=this.api.blocks.insert(t,f,void 0,d,void 0,l.isEmpty);p.call(Tn.APPEND_CALLBACK),this.api.caret.setToBlock(d),this.emit("toolbox-block-added",{block:p}),this.api.toolbar.close()}};_b([Do],ku.prototype,"toolsToBeDisplayed");_b([Do],ku.prototype,"toolboxItemsToBeDisplayed");let A4=ku;const Lb="block hovered";async function L4(a,t){const r=navigator.keyboard;if(!r)return t;try{return(await r.getLayoutMap()).get(a)||t}catch(i){return console.error(i),t}}class R4 extends we{constructor({config:t,eventsDispatcher:r}){super({config:t,eventsDispatcher:r}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var t;return{opened:(t=this.toolboxInstance)==null?void 0:t.opened,close:()=>{var r;(r=this.toolboxInstance)==null||r.close()},open:()=>{if(this.toolboxInstance===null){Te("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){Te("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var r;return(r=this.toolboxInstance)==null?void 0:r.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(t){t?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(t=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){Te("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!t)return;this.hoveredBlock=t;const r=t.holder,{isMobile:i}=this.Editor.UI;let l;const d=20,f=t.firstInput,p=r.getBoundingClientRect(),m=f!==void 0?f.getBoundingClientRect():null,g=m!==null?m.top-p.top:null,v=g!==null?g>d:void 0;if(i)l=r.offsetTop+r.offsetHeight;else if(f===void 0||v){const y=parseInt(window.getComputedStyle(t.pluginsContent).paddingTop);l=r.offsetTop+y}else{const y=vk(f),w=parseInt(window.getComputedStyle(this.nodes.plusButton).height,10);l=r.offsetTop+y-w+8+g}this.nodes.wrapper.style.top=`${Math.floor(l)}px`,this.Editor.BlockManager.blocks.length===1&&t.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var t,r;this.Editor.ReadOnly.isEnabled||((t=this.nodes.wrapper)==null||t.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(r=this.toolboxInstance)==null||r.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(t=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),t?this.blockActions.show():this.blockActions.hide()}async make(){this.nodes.wrapper=F.make("div",this.CSS.toolbar),["content","actions"].forEach(d=>{this.nodes[d]=F.make("div",this.CSS[d])}),F.append(this.nodes.wrapper,this.nodes.content),F.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=F.make("div",this.CSS.plusButton,{innerHTML:h4}),F.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{Is(!0),this.plusButtonClicked()},!1);const t=F.make("div");t.appendChild(document.createTextNode(gt.ui(At.ui.toolbar.toolbox,"Add"))),t.appendChild(F.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),Us(this.nodes.plusButton,t,{hidingDelay:400}),this.nodes.settingsToggler=F.make("span",this.CSS.settingsToggler,{innerHTML:u4}),F.append(this.nodes.actions,this.nodes.settingsToggler);const r=F.make("div"),i=F.text(gt.ui(At.ui.blockTunes.toggler,"Click to tune")),l=await L4("Slash","/");r.appendChild(i),r.appendChild(F.make("div",this.CSS.plusButtonShortcut,{textContent:gu(`CMD + ${l}`)})),Us(this.nodes.settingsToggler,r,{hidingDelay:400}),F.append(this.nodes.actions,this.makeToolbox()),F.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),F.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new A4({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:gt.ui(At.ui.popover,"Filter"),nothingFound:gt.ui(At.ui.popover,"Nothing found")}}),this.toolboxInstance.on(ws.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(ws.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(ws.BlockAdded,({block:t})=>{const{BlockManager:r,Caret:i}=this.Editor,l=r.getBlockById(t.id);l.inputs.length===0&&(l===r.lastBlock?(r.insertAtEnd(),i.setToBlock(r.lastBlock)):i.setToBlock(r.nextBlock))}),this.toolboxInstance.getElement()}plusButtonClicked(){var t;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(t=this.toolboxInstance)==null||t.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",t=>{var r;t.stopPropagation(),this.settingsTogglerClicked(),(r=this.toolboxInstance)!=null&&r.opened&&this.toolboxInstance.close(),Is(!0)},!0),zo()||this.eventsDispatcher.on(Lb,t=>{var r;this.Editor.BlockSettings.opened||(r=this.toolboxInstance)!=null&&r.opened||this.moveAndOpen(t.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}}var Mr=(a=>(a[a.Block=0]="Block",a[a.Inline=1]="Inline",a[a.Tune=2]="Tune",a))(Mr||{}),Ss=(a=>(a.Shortcut="shortcut",a.Toolbox="toolbox",a.EnabledInlineTools="inlineToolbar",a.EnabledBlockTunes="tunes",a.Config="config",a))(Ss||{}),Rb=(a=>(a.Shortcut="shortcut",a.SanitizeConfig="sanitize",a))(Rb||{}),Bo=(a=>(a.IsEnabledLineBreaks="enableLineBreaks",a.Toolbox="toolbox",a.ConversionConfig="conversionConfig",a.IsReadOnlySupported="isReadOnlySupported",a.PasteConfig="pasteConfig",a))(Bo||{}),Ys=(a=>(a.IsInline="isInline",a.Title="title",a.IsReadOnlySupported="isReadOnlySupported",a))(Ys||{}),ou=(a=>(a.IsTune="isTune",a))(ou||{});let wu=class{constructor({name:t,constructable:r,config:i,api:l,isDefault:d,isInternal:f=!1,defaultPlaceholder:p}){this.api=l,this.name=t,this.constructable=r,this.config=i,this.isDefault=d,this.isInternal=f,this.defaultPlaceholder=p}get settings(){const t=this.config.config||{};return this.isDefault&&!("placeholder"in t)&&this.defaultPlaceholder&&(t.placeholder=this.defaultPlaceholder),t}reset(){if(Ue(this.constructable.reset))return this.constructable.reset()}prepare(){if(Ue(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const t=this.constructable.shortcut;return this.config.shortcut||t}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===Mr.Inline}isBlock(){return this.type===Mr.Block}isTune(){return this.type===Mr.Tune}};class D4 extends we{constructor({config:t,eventsDispatcher:r}){super({config:t,eventsDispatcher:r}),this.CSS={inlineToolbar:"ce-inline-toolbar"},this.opened=!1,this.popover=null,this.toolbarVerticalMargin=zo()?20:6,this.tools=new Map,window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}async tryToShow(t=!1){t&&this.close(),this.allowedToShow()&&(await this.open(),this.Editor.Toolbar.close())}close(){var t,r;if(this.opened){for(const[i,l]of this.tools){const d=this.getToolShortcut(i.name);d!==void 0&&Ao.remove(this.Editor.UI.nodes.redactor,d),Ue(l.clear)&&l.clear()}this.tools=new Map,this.reset(),this.opened=!1,(t=this.popover)==null||t.hide(),(r=this.popover)==null||r.destroy(),this.popover=null}}containsNode(t){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(t)}destroy(){var t;this.removeAllNodes(),(t=this.popover)==null||t.destroy(),this.popover=null}make(){this.nodes.wrapper=F.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.wrapper.setAttribute("data-cy","inline-toolbar"),F.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}async open(){var t;if(this.opened)return;this.opened=!0,this.popover!==null&&this.popover.destroy(),this.createToolsInstances();const r=await this.getPopoverItems();this.popover=new S4({items:r,scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:gt.ui(At.ui.popover,"Nothing found"),search:gt.ui(At.ui.popover,"Filter")}}),this.move(this.popover.size.width),(t=this.nodes.wrapper)==null||t.append(this.popover.getElement()),this.popover.show()}move(t){const r=fe.rect,i=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),l={x:r.x-i.x,y:r.y+r.height-i.top+this.toolbarVerticalMargin};l.x+t+i.x>this.Editor.UI.contentRect.right&&(l.x=this.Editor.UI.contentRect.right-t-i.x),this.nodes.wrapper.style.left=Math.floor(l.x)+"px",this.nodes.wrapper.style.top=Math.floor(l.y)+"px"}reset(){this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){const t=["IMG","INPUT"],r=fe.get(),i=fe.text;if(!r||!r.anchorNode||r.isCollapsed||i.length<1)return!1;const l=F.isElement(r.anchorNode)?r.anchorNode:r.anchorNode.parentElement;if(l===null||r!==null&&t.includes(l.tagName))return!1;const d=this.Editor.BlockManager.getBlock(r.anchorNode);return!d||this.getTools().some(f=>d.tool.inlineTools.has(f.name))===!1?!1:l.closest("[contenteditable]")!==null}getTools(){const t=this.Editor.BlockManager.currentBlock;return t?Array.from(t.tool.inlineTools.values()).filter(r=>!(this.Editor.ReadOnly.isEnabled&&r.isReadOnlySupported!==!0)):[]}createToolsInstances(){this.tools=new Map,this.getTools().forEach(t=>{const r=t.create();this.tools.set(t,r)})}async getPopoverItems(){const t=[];let r=0;for(const[i,l]of this.tools){const d=await l.render(),f=this.getToolShortcut(i.name);if(f!==void 0)try{this.enableShortcuts(i.name,f)}catch{}const p=f!==void 0?gu(f):void 0,m=gt.t(At.toolNames,i.title||zs(i.name));[d].flat().forEach(g=>{var v,y;const w={name:i.name,onActivate:()=>{this.toolClicked(l)},hint:{title:m,description:p}};if(F.isElement(g)){const B={...w,element:g,type:He.Html};if(Ue(l.renderActions)){const S=l.renderActions();B.children={isOpen:(v=l.checkState)==null?void 0:v.call(l,fe.get()),isFlippable:!1,items:[{type:He.Html,element:S}]}}else(y=l.checkState)==null||y.call(l,fe.get());t.push(B)}else if(g.type===He.Html)t.push({...w,...g,type:He.Html});else if(g.type===He.Separator)t.push({type:He.Separator});else{const B={...w,...g,type:He.Default};"children"in B&&r!==0&&t.push({type:He.Separator}),t.push(B),"children"in B&&r<this.tools.size-1&&t.push({type:He.Separator})}}),r++}return t}getToolShortcut(t){const{Tools:r}=this.Editor,i=r.inlineTools.get(t),l=r.internal.inlineTools;return Array.from(l.keys()).includes(t)?this.inlineTools[t][Rb.Shortcut]:i?.shortcut}enableShortcuts(t,r){Ao.add({name:r,handler:i=>{var l;const{currentBlock:d}=this.Editor.BlockManager;d&&d.tool.enabledInlineTools&&(i.preventDefault(),(l=this.popover)==null||l.activateItemByName(t))},on:document})}toolClicked(t){var r;const i=fe.range;(r=t.surround)==null||r.call(t,i),this.checkToolsState()}checkToolsState(){var t;(t=this.tools)==null||t.forEach(r=>{var i;(i=r.checkState)==null||i.call(r,fe.get())})}get inlineTools(){const t={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([r,i])=>{t[r]=i.create()}),t}}function Db(){const a=window.getSelection();if(a===null)return[null,0];let t=a.focusNode,r=a.focusOffset;return t===null?[null,0]:(t.nodeType!==Node.TEXT_NODE&&t.childNodes.length>0&&(t.childNodes[r]?(t=t.childNodes[r],r=0):(t=t.childNodes[r-1],r=t.textContent.length)),[t,r])}function zb(a,t,r,i){const l=document.createRange();i==="left"?(l.setStart(a,0),l.setEnd(t,r)):(l.setStart(t,r),l.setEnd(a,a.childNodes.length));const d=l.cloneContents(),f=document.createElement("div");f.appendChild(d);const p=f.textContent||"";return bk(p)}function Es(a){const t=F.getDeepestNode(a);if(t===null||F.isEmpty(a))return!0;if(F.isNativeInput(t))return t.selectionEnd===0;if(F.isEmpty(a))return!0;const[r,i]=Db();return r===null?!1:zb(a,r,i,"left")}function Cs(a){const t=F.getDeepestNode(a,!0);if(t===null)return!0;if(F.isNativeInput(t))return t.selectionEnd===t.value.length;const[r,i]=Db();return r===null?!1:zb(a,r,i,"right")}var Hb={},Su={},Zs={},Rr={},Eu={},Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.allInputsSelector=z4;function z4(){var a=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+a.map(function(t){return'input[type="'.concat(t,'"]')}).join(", ")}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.allInputsSelector=void 0;var t=Cu;Object.defineProperty(a,"allInputsSelector",{enumerable:!0,get:function(){return t.allInputsSelector}})})(Eu);var Dr={},Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});Tu.isNativeInput=H4;function H4(a){var t=["INPUT","TEXTAREA"];return a&&a.tagName?t.includes(a.tagName):!1}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isNativeInput=void 0;var t=Tu;Object.defineProperty(a,"isNativeInput",{enumerable:!0,get:function(){return t.isNativeInput}})})(Dr);var Ib={},ju={};Object.defineProperty(ju,"__esModule",{value:!0});ju.append=I4;function I4(a,t){Array.isArray(t)?t.forEach(function(r){a.appendChild(r)}):a.appendChild(t)}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.append=void 0;var t=ju;Object.defineProperty(a,"append",{enumerable:!0,get:function(){return t.append}})})(Ib);var Nu={},Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.blockElements=U4;function U4(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.blockElements=void 0;var t=Bu;Object.defineProperty(a,"blockElements",{enumerable:!0,get:function(){return t.blockElements}})})(Nu);var Ub={},Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.calculateBaseline=P4;function P4(a){var t=window.getComputedStyle(a),r=parseFloat(t.fontSize),i=parseFloat(t.lineHeight)||r*1.2,l=parseFloat(t.paddingTop),d=parseFloat(t.borderTopWidth),f=parseFloat(t.marginTop),p=r*.8,m=(i-r)/2,g=f+d+l+m+p;return g}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.calculateBaseline=void 0;var t=Ou;Object.defineProperty(a,"calculateBaseline",{enumerable:!0,get:function(){return t.calculateBaseline}})})(Ub);var Pb={},Mu={},_u={},Au={};Object.defineProperty(Au,"__esModule",{value:!0});Au.isContentEditable=q4;function q4(a){return a.contentEditable==="true"}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isContentEditable=void 0;var t=Au;Object.defineProperty(a,"isContentEditable",{enumerable:!0,get:function(){return t.isContentEditable}})})(_u);Object.defineProperty(Mu,"__esModule",{value:!0});Mu.canSetCaret=$4;var Y4=Dr,F4=_u;function $4(a){var t=!0;if((0,Y4.isNativeInput)(a))switch(a.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1;break}else t=(0,F4.isContentEditable)(a);return t}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.canSetCaret=void 0;var t=Mu;Object.defineProperty(a,"canSetCaret",{enumerable:!0,get:function(){return t.canSetCaret}})})(Pb);var Qs={},Lu={};function V4(a,t,r){const i=r.value!==void 0?"value":"get",l=r[i],d=`#${t}Cache`;if(r[i]=function(...f){return this[d]===void 0&&(this[d]=l.apply(this,f)),this[d]},i==="get"&&r.set){const f=r.set;r.set=function(p){delete a[d],f.apply(this,p)}}return r}function qb(){const a={win:!1,mac:!1,x11:!1,linux:!1},t=Object.keys(a).find(r=>window.navigator.appVersion.toLowerCase().indexOf(r)!==-1);return t!==void 0&&(a[t]=!0),a}function Ru(a){return a!=null&&a!==""&&(typeof a!="object"||Object.keys(a).length>0)}function X4(a){return!Ru(a)}const G4=()=>typeof window<"u"&&window.navigator!==null&&Ru(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function Z4(a){const t=qb();return a=a.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi,"+"),t.mac?a=a.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):a=a.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),a}function Q4(a){return a[0].toUpperCase()+a.slice(1)}function K4(a){const t=document.createElement("div");t.style.position="absolute",t.style.left="-999px",t.style.bottom="-999px",t.innerHTML=a,document.body.appendChild(t);const r=window.getSelection(),i=document.createRange();if(i.selectNode(t),r===null)throw new Error("Cannot copy text to clipboard");r.removeAllRanges(),r.addRange(i),document.execCommand("copy"),document.body.removeChild(t)}function J4(a,t,r){let i;return(...l)=>{const d=this,f=()=>{i=void 0,r!==!0&&a.apply(d,l)},p=r===!0&&i!==void 0;window.clearTimeout(i),i=window.setTimeout(f,t),p&&a.apply(d,l)}}function ir(a){return Object.prototype.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function W4(a){return ir(a)==="boolean"}function Yb(a){return ir(a)==="function"||ir(a)==="asyncfunction"}function ew(a){return Yb(a)&&/^\s*class\s+/.test(a.toString())}function tw(a){return ir(a)==="number"}function Ts(a){return ir(a)==="object"}function nw(a){return Promise.resolve(a)===a}function rw(a){return ir(a)==="string"}function ow(a){return ir(a)==="undefined"}function au(a,...t){if(!t.length)return a;const r=t.shift();if(Ts(a)&&Ts(r))for(const i in r)Ts(r[i])?(a[i]===void 0&&Object.assign(a,{[i]:{}}),au(a[i],r[i])):Object.assign(a,{[i]:r[i]});return au(a,...t)}function aw(a,t,r){const i=`${t} is deprecated and will be removed in the next major release. Please use the ${r} instead.`;a&&console.warn(i)}function iw(a){try{return new URL(a).href}catch{}return a.substring(0,2)==="//"?window.location.protocol+a:window.location.origin+a}function sw(a){return a>47&&a<58||a===32||a===13||a===229||a>64&&a<91||a>95&&a<112||a>185&&a<193||a>218&&a<223}const lw={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},cw={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};let dw=class{constructor(){this.completed=Promise.resolve()}add(a){return new Promise((t,r)=>{this.completed=this.completed.then(a).then(t).catch(r)})}};function uw(a,t,r=void 0){let i,l,d,f=null,p=0;r||(r={});const m=function(){p=r.leading===!1?0:Date.now(),f=null,d=a.apply(i,l),f===null&&(i=l=null)};return function(){const g=Date.now();!p&&r.leading===!1&&(p=g);const v=t-(g-p);return i=this,l=arguments,v<=0||v>t?(f&&(clearTimeout(f),f=null),p=g,d=a.apply(i,l),f===null&&(i=l=null)):!f&&r.trailing!==!1&&(f=setTimeout(m,v)),d}}const hw=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:dw,beautifyShortcut:Z4,cacheable:V4,capitalize:Q4,copyTextToClipboard:K4,debounce:J4,deepMerge:au,deprecationAssert:aw,getUserOS:qb,getValidUrl:iw,isBoolean:W4,isClass:ew,isEmpty:X4,isFunction:Yb,isIosDevice:G4,isNumber:tw,isObject:Ts,isPrintableKey:sw,isPromise:nw,isString:rw,isUndefined:ow,keyCodes:lw,mouseButtons:cw,notEmpty:Ru,throttle:uw,typeOf:ir},Symbol.toStringTag,{value:"Module"})),Du=rk(hw);Object.defineProperty(Lu,"__esModule",{value:!0});Lu.containsOnlyInlineElements=gw;var fw=Du,pw=Nu;function gw(a){var t;(0,fw.isString)(a)?(t=document.createElement("div"),t.innerHTML=a):t=a;var r=function(i){return!(0,pw.blockElements)().includes(i.tagName.toLowerCase())&&Array.from(i.children).every(r)};return Array.from(t.children).every(r)}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.containsOnlyInlineElements=void 0;var t=Lu;Object.defineProperty(a,"containsOnlyInlineElements",{enumerable:!0,get:function(){return t.containsOnlyInlineElements}})})(Qs);var Fb={},zu={},Ks={},Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});Hu.make=mw;function mw(a,t,r){var i;t===void 0&&(t=null),r===void 0&&(r={});var l=document.createElement(a);if(Array.isArray(t)){var d=t.filter(function(p){return p!==void 0});(i=l.classList).add.apply(i,d)}else t!==null&&l.classList.add(t);for(var f in r)Object.prototype.hasOwnProperty.call(r,f)&&(l[f]=r[f]);return l}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.make=void 0;var t=Hu;Object.defineProperty(a,"make",{enumerable:!0,get:function(){return t.make}})})(Ks);Object.defineProperty(zu,"__esModule",{value:!0});zu.fragmentToString=vw;var bw=Ks;function vw(a){var t=(0,bw.make)("div");return t.appendChild(a),t.innerHTML}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.fragmentToString=void 0;var t=zu;Object.defineProperty(a,"fragmentToString",{enumerable:!0,get:function(){return t.fragmentToString}})})(Fb);var $b={},Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.getContentLength=yw;var xw=Dr;function yw(a){var t,r;return(0,xw.isNativeInput)(a)?a.value.length:a.nodeType===Node.TEXT_NODE?a.length:(r=(t=a.textContent)===null||t===void 0?void 0:t.length)!==null&&r!==void 0?r:0}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.getContentLength=void 0;var t=Iu;Object.defineProperty(a,"getContentLength",{enumerable:!0,get:function(){return t.getContentLength}})})($b);var Uu={},Pu={},k0=Ga&&Ga.__spreadArray||function(a,t,r){if(r||arguments.length===2)for(var i=0,l=t.length,d;i<l;i++)(d||!(i in t))&&(d||(d=Array.prototype.slice.call(t,0,i)),d[i]=t[i]);return a.concat(d||Array.prototype.slice.call(t))};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.getDeepestBlockElements=Vb;var kw=Qs;function Vb(a){return(0,kw.containsOnlyInlineElements)(a)?[a]:Array.from(a.children).reduce(function(t,r){return k0(k0([],t,!0),Vb(r),!0)},[])}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.getDeepestBlockElements=void 0;var t=Pu;Object.defineProperty(a,"getDeepestBlockElements",{enumerable:!0,get:function(){return t.getDeepestBlockElements}})})(Uu);var Xb={},qu={},Js={},Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.isLineBreakTag=ww;function ww(a){return["BR","WBR"].includes(a.tagName)}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isLineBreakTag=void 0;var t=Yu;Object.defineProperty(a,"isLineBreakTag",{enumerable:!0,get:function(){return t.isLineBreakTag}})})(Js);var Ws={},Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});Fu.isSingleTag=Sw;function Sw(a){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(a.tagName)}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isSingleTag=void 0;var t=Fu;Object.defineProperty(a,"isSingleTag",{enumerable:!0,get:function(){return t.isSingleTag}})})(Ws);Object.defineProperty(qu,"__esModule",{value:!0});qu.getDeepestNode=Gb;var Ew=Dr,Cw=Js,Tw=Ws;function Gb(a,t){t===void 0&&(t=!1);var r=t?"lastChild":"firstChild",i=t?"previousSibling":"nextSibling";if(a.nodeType===Node.ELEMENT_NODE&&a[r]){var l=a[r];if((0,Tw.isSingleTag)(l)&&!(0,Ew.isNativeInput)(l)&&!(0,Cw.isLineBreakTag)(l))if(l[i])l=l[i];else if(l.parentNode!==null&&l.parentNode[i])l=l.parentNode[i];else return l.parentNode;return Gb(l,t)}return a}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.getDeepestNode=void 0;var t=qu;Object.defineProperty(a,"getDeepestNode",{enumerable:!0,get:function(){return t.getDeepestNode}})})(Xb);var Zb={},$u={},vs=Ga&&Ga.__spreadArray||function(a,t,r){if(r||arguments.length===2)for(var i=0,l=t.length,d;i<l;i++)(d||!(i in t))&&(d||(d=Array.prototype.slice.call(t,0,i)),d[i]=t[i]);return a.concat(d||Array.prototype.slice.call(t))};Object.defineProperty($u,"__esModule",{value:!0});$u.findAllInputs=Mw;var jw=Qs,Nw=Uu,Bw=Eu,Ow=Dr;function Mw(a){return Array.from(a.querySelectorAll((0,Bw.allInputsSelector)())).reduce(function(t,r){return(0,Ow.isNativeInput)(r)||(0,jw.containsOnlyInlineElements)(r)?vs(vs([],t,!0),[r],!1):vs(vs([],t,!0),(0,Nw.getDeepestBlockElements)(r),!0)},[])}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.findAllInputs=void 0;var t=$u;Object.defineProperty(a,"findAllInputs",{enumerable:!0,get:function(){return t.findAllInputs}})})(Zb);var Qb={},Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});Vu.isCollapsedWhitespaces=_w;function _w(a){return!/[^\t\n\r ]/.test(a)}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isCollapsedWhitespaces=void 0;var t=Vu;Object.defineProperty(a,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return t.isCollapsedWhitespaces}})})(Qb);var Xu={},Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});Gu.isElement=Lw;var Aw=Du;function Lw(a){return(0,Aw.isNumber)(a)?!1:!!a&&!!a.nodeType&&a.nodeType===Node.ELEMENT_NODE}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isElement=void 0;var t=Gu;Object.defineProperty(a,"isElement",{enumerable:!0,get:function(){return t.isElement}})})(Xu);var Kb={},Zu={},Qu={},Ku={};Object.defineProperty(Ku,"__esModule",{value:!0});Ku.isLeaf=Rw;function Rw(a){return a===null?!1:a.childNodes.length===0}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isLeaf=void 0;var t=Ku;Object.defineProperty(a,"isLeaf",{enumerable:!0,get:function(){return t.isLeaf}})})(Qu);var Ju={},Wu={};Object.defineProperty(Wu,"__esModule",{value:!0});Wu.isNodeEmpty=Uw;var Dw=Js,zw=Xu,Hw=Dr,Iw=Ws;function Uw(a,t){var r="";return(0,Iw.isSingleTag)(a)&&!(0,Dw.isLineBreakTag)(a)?!1:((0,zw.isElement)(a)&&(0,Hw.isNativeInput)(a)?r=a.value:a.textContent!==null&&(r=a.textContent.replace("","")),t!==void 0&&(r=r.replace(new RegExp(t,"g"),"")),r.trim().length===0)}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isNodeEmpty=void 0;var t=Wu;Object.defineProperty(a,"isNodeEmpty",{enumerable:!0,get:function(){return t.isNodeEmpty}})})(Ju);Object.defineProperty(Zu,"__esModule",{value:!0});Zu.isEmpty=Yw;var Pw=Qu,qw=Ju;function Yw(a,t){a.normalize();for(var r=[a];r.length>0;){var i=r.shift();if(i){if(a=i,(0,Pw.isLeaf)(a)&&!(0,qw.isNodeEmpty)(a,t))return!1;r.push.apply(r,Array.from(a.childNodes))}}return!0}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isEmpty=void 0;var t=Zu;Object.defineProperty(a,"isEmpty",{enumerable:!0,get:function(){return t.isEmpty}})})(Kb);var Jb={},eh={};Object.defineProperty(eh,"__esModule",{value:!0});eh.isFragment=$w;var Fw=Du;function $w(a){return(0,Fw.isNumber)(a)?!1:!!a&&!!a.nodeType&&a.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isFragment=void 0;var t=eh;Object.defineProperty(a,"isFragment",{enumerable:!0,get:function(){return t.isFragment}})})(Jb);var Wb={},th={};Object.defineProperty(th,"__esModule",{value:!0});th.isHTMLString=Xw;var Vw=Ks;function Xw(a){var t=(0,Vw.make)("div");return t.innerHTML=a,t.childElementCount>0}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isHTMLString=void 0;var t=th;Object.defineProperty(a,"isHTMLString",{enumerable:!0,get:function(){return t.isHTMLString}})})(Wb);var ev={},nh={};Object.defineProperty(nh,"__esModule",{value:!0});nh.offset=Gw;function Gw(a){var t=a.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop,l=t.top+i,d=t.left+r;return{top:l,left:d,bottom:l+t.height,right:d+t.width}}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.offset=void 0;var t=nh;Object.defineProperty(a,"offset",{enumerable:!0,get:function(){return t.offset}})})(ev);var tv={},rh={};Object.defineProperty(rh,"__esModule",{value:!0});rh.prepend=Zw;function Zw(a,t){Array.isArray(t)?(t=t.reverse(),t.forEach(function(r){return a.prepend(r)})):a.prepend(t)}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.prepend=void 0;var t=rh;Object.defineProperty(a,"prepend",{enumerable:!0,get:function(){return t.prepend}})})(tv);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.prepend=a.offset=a.make=a.isLineBreakTag=a.isSingleTag=a.isNodeEmpty=a.isLeaf=a.isHTMLString=a.isFragment=a.isEmpty=a.isElement=a.isContentEditable=a.isCollapsedWhitespaces=a.findAllInputs=a.isNativeInput=a.allInputsSelector=a.getDeepestNode=a.getDeepestBlockElements=a.getContentLength=a.fragmentToString=a.containsOnlyInlineElements=a.canSetCaret=a.calculateBaseline=a.blockElements=a.append=void 0;var t=Eu;Object.defineProperty(a,"allInputsSelector",{enumerable:!0,get:function(){return t.allInputsSelector}});var r=Dr;Object.defineProperty(a,"isNativeInput",{enumerable:!0,get:function(){return r.isNativeInput}});var i=Ib;Object.defineProperty(a,"append",{enumerable:!0,get:function(){return i.append}});var l=Nu;Object.defineProperty(a,"blockElements",{enumerable:!0,get:function(){return l.blockElements}});var d=Ub;Object.defineProperty(a,"calculateBaseline",{enumerable:!0,get:function(){return d.calculateBaseline}});var f=Pb;Object.defineProperty(a,"canSetCaret",{enumerable:!0,get:function(){return f.canSetCaret}});var p=Qs;Object.defineProperty(a,"containsOnlyInlineElements",{enumerable:!0,get:function(){return p.containsOnlyInlineElements}});var m=Fb;Object.defineProperty(a,"fragmentToString",{enumerable:!0,get:function(){return m.fragmentToString}});var g=$b;Object.defineProperty(a,"getContentLength",{enumerable:!0,get:function(){return g.getContentLength}});var v=Uu;Object.defineProperty(a,"getDeepestBlockElements",{enumerable:!0,get:function(){return v.getDeepestBlockElements}});var y=Xb;Object.defineProperty(a,"getDeepestNode",{enumerable:!0,get:function(){return y.getDeepestNode}});var w=Zb;Object.defineProperty(a,"findAllInputs",{enumerable:!0,get:function(){return w.findAllInputs}});var B=Qb;Object.defineProperty(a,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return B.isCollapsedWhitespaces}});var S=_u;Object.defineProperty(a,"isContentEditable",{enumerable:!0,get:function(){return S.isContentEditable}});var k=Xu;Object.defineProperty(a,"isElement",{enumerable:!0,get:function(){return k.isElement}});var T=Kb;Object.defineProperty(a,"isEmpty",{enumerable:!0,get:function(){return T.isEmpty}});var D=Jb;Object.defineProperty(a,"isFragment",{enumerable:!0,get:function(){return D.isFragment}});var I=Wb;Object.defineProperty(a,"isHTMLString",{enumerable:!0,get:function(){return I.isHTMLString}});var H=Qu;Object.defineProperty(a,"isLeaf",{enumerable:!0,get:function(){return H.isLeaf}});var M=Ju;Object.defineProperty(a,"isNodeEmpty",{enumerable:!0,get:function(){return M.isNodeEmpty}});var U=Js;Object.defineProperty(a,"isLineBreakTag",{enumerable:!0,get:function(){return U.isLineBreakTag}});var ne=Ws;Object.defineProperty(a,"isSingleTag",{enumerable:!0,get:function(){return ne.isSingleTag}});var Q=Ks;Object.defineProperty(a,"make",{enumerable:!0,get:function(){return Q.make}});var G=ev;Object.defineProperty(a,"offset",{enumerable:!0,get:function(){return G.offset}});var Z=tv;Object.defineProperty(a,"prepend",{enumerable:!0,get:function(){return Z.prepend}})})(Rr);var el={};Object.defineProperty(el,"__esModule",{value:!0});el.getContenteditableSlice=Kw;var Qw=Rr;function Kw(a,t,r,i,l){var d;l===void 0&&(l=!1);var f=document.createRange();if(i==="left"?(f.setStart(a,0),f.setEnd(t,r)):(f.setStart(t,r),f.setEnd(a,a.childNodes.length)),l===!0){var p=f.extractContents();return(0,Qw.fragmentToString)(p)}var m=f.cloneContents(),g=document.createElement("div");g.appendChild(m);var v=(d=g.textContent)!==null&&d!==void 0?d:"";return v}Object.defineProperty(Zs,"__esModule",{value:!0});Zs.checkContenteditableSliceForEmptiness=e3;var Jw=Rr,Ww=el;function e3(a,t,r,i){var l=(0,Ww.getContenteditableSlice)(a,t,r,i);return(0,Jw.isCollapsedWhitespaces)(l)}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.checkContenteditableSliceForEmptiness=void 0;var t=Zs;Object.defineProperty(a,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return t.checkContenteditableSliceForEmptiness}})})(Su);var nv={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.getContenteditableSlice=void 0;var t=el;Object.defineProperty(a,"getContenteditableSlice",{enumerable:!0,get:function(){return t.getContenteditableSlice}})})(nv);var rv={},oh={};Object.defineProperty(oh,"__esModule",{value:!0});oh.focus=n3;var t3=Rr;function n3(a,t){var r,i;if(t===void 0&&(t=!0),(0,t3.isNativeInput)(a)){a.focus();var l=t?0:a.value.length;a.setSelectionRange(l,l)}else{var d=document.createRange(),f=window.getSelection();if(!f)return;var p=function(w){var B=document.createTextNode("");w.appendChild(B),d.setStart(B,0),d.setEnd(B,0)},m=function(w){return w!=null},g=a.childNodes,v=t?g[0]:g[g.length-1];if(m(v)){for(;m(v)&&v.nodeType!==Node.TEXT_NODE;)v=t?v.firstChild:v.lastChild;if(m(v)&&v.nodeType===Node.TEXT_NODE){var y=(i=(r=v.textContent)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,l=t?0:y;d.setStart(v,l),d.setEnd(v,l)}else p(a)}else p(a);f.removeAllRanges(),f.addRange(d)}}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.focus=void 0;var t=oh;Object.defineProperty(a,"focus",{enumerable:!0,get:function(){return t.focus}})})(rv);var ah={},tl={};Object.defineProperty(tl,"__esModule",{value:!0});tl.getCaretNodeAndOffset=r3;function r3(){var a=window.getSelection();if(a===null)return[null,0];var t=a.focusNode,r=a.focusOffset;return t===null?[null,0]:(t.nodeType!==Node.TEXT_NODE&&t.childNodes.length>0&&(t.childNodes[r]!==void 0?(t=t.childNodes[r],r=0):(t=t.childNodes[r-1],t.textContent!==null&&(r=t.textContent.length))),[t,r])}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.getCaretNodeAndOffset=void 0;var t=tl;Object.defineProperty(a,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return t.getCaretNodeAndOffset}})})(ah);var ov={},nl={};Object.defineProperty(nl,"__esModule",{value:!0});nl.getRange=o3;function o3(){var a=window.getSelection();return a&&a.rangeCount?a.getRangeAt(0):null}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.getRange=void 0;var t=nl;Object.defineProperty(a,"getRange",{enumerable:!0,get:function(){return t.getRange}})})(ov);var av={},ih={};Object.defineProperty(ih,"__esModule",{value:!0});ih.isCaretAtEndOfInput=s3;var w0=Rr,a3=ah,i3=Su;function s3(a){var t=(0,w0.getDeepestNode)(a,!0);if(t===null)return!0;if((0,w0.isNativeInput)(t))return t.selectionEnd===t.value.length;var r=(0,a3.getCaretNodeAndOffset)(),i=r[0],l=r[1];return i===null?!1:(0,i3.checkContenteditableSliceForEmptiness)(a,i,l,"right")}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isCaretAtEndOfInput=void 0;var t=ih;Object.defineProperty(a,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return t.isCaretAtEndOfInput}})})(av);var iv={},sh={};Object.defineProperty(sh,"__esModule",{value:!0});sh.isCaretAtStartOfInput=d3;var xs=Rr,l3=tl,c3=Zs;function d3(a){var t=(0,xs.getDeepestNode)(a);if(t===null||(0,xs.isEmpty)(a))return!0;if((0,xs.isNativeInput)(t))return t.selectionEnd===0;if((0,xs.isEmpty)(a))return!0;var r=(0,l3.getCaretNodeAndOffset)(),i=r[0],l=r[1];return i===null?!1:(0,c3.checkContenteditableSliceForEmptiness)(a,i,l,"left")}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isCaretAtStartOfInput=void 0;var t=sh;Object.defineProperty(a,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return t.isCaretAtStartOfInput}})})(iv);var sv={},lh={};Object.defineProperty(lh,"__esModule",{value:!0});lh.save=f3;var u3=Rr,h3=nl;function f3(){var a=(0,h3.getRange)(),t=(0,u3.make)("span");if(t.id="cursor",t.hidden=!0,!!a)return a.insertNode(t),function(){var r=window.getSelection();r&&(a.setStartAfter(t),a.setEndAfter(t),r.removeAllRanges(),r.addRange(a),setTimeout(function(){t.remove()},150))}}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.save=void 0;var t=lh;Object.defineProperty(a,"save",{enumerable:!0,get:function(){return t.save}})})(sv);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.save=a.isCaretAtStartOfInput=a.isCaretAtEndOfInput=a.getRange=a.getCaretNodeAndOffset=a.focus=a.getContenteditableSlice=a.checkContenteditableSliceForEmptiness=void 0;var t=Su;Object.defineProperty(a,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return t.checkContenteditableSliceForEmptiness}});var r=nv;Object.defineProperty(a,"getContenteditableSlice",{enumerable:!0,get:function(){return r.getContenteditableSlice}});var i=rv;Object.defineProperty(a,"focus",{enumerable:!0,get:function(){return i.focus}});var l=ah;Object.defineProperty(a,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return l.getCaretNodeAndOffset}});var d=ov;Object.defineProperty(a,"getRange",{enumerable:!0,get:function(){return d.getRange}});var f=av;Object.defineProperty(a,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return f.isCaretAtEndOfInput}});var p=iv;Object.defineProperty(a,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return p.isCaretAtStartOfInput}});var m=sv;Object.defineProperty(a,"save",{enumerable:!0,get:function(){return m.save}})})(Hb);class p3 extends we{keydown(t){switch(this.beforeKeydownProcessing(t),t.keyCode){case ge.BACKSPACE:this.backspace(t);break;case ge.DELETE:this.delete(t);break;case ge.ENTER:this.enter(t);break;case ge.DOWN:case ge.RIGHT:this.arrowRightAndDown(t);break;case ge.UP:case ge.LEFT:this.arrowLeftAndUp(t);break;case ge.TAB:this.tabPressed(t);break}t.key==="/"&&!t.ctrlKey&&!t.metaKey&&this.slashPressed(t),t.code==="Slash"&&(t.ctrlKey||t.metaKey)&&(t.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(t){this.needToolbarClosing(t)&&ab(t.keyCode)&&(this.Editor.Toolbar.close(),t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||this.Editor.BlockSelection.clearSelection(t))}keyup(t){t.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(t){const r=this.Editor.BlockManager.getBlockByChildNode(t.target);r.dropTarget=!0}dragLeave(t){const r=this.Editor.BlockManager.getBlockByChildNode(t.target);r.dropTarget=!1}handleCommandC(t){const{BlockSelection:r}=this.Editor;r.anyBlockSelected&&r.copySelectedBlocks(t)}handleCommandX(t){const{BlockSelection:r,BlockManager:i,Caret:l}=this.Editor;r.anyBlockSelected&&r.copySelectedBlocks(t).then(()=>{const d=i.removeSelectedBlocks(),f=i.insertDefaultBlockAtIndex(d,!0);l.setToBlock(f,l.positions.START),r.clearSelection(t)})}tabPressed(t){const{InlineToolbar:r,Caret:i}=this.Editor;r.opened||(t.shiftKey?i.navigatePrevious(!0):i.navigateNext(!0))&&t.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(t){this.Editor.BlockManager.currentBlock.isEmpty&&(t.preventDefault(),this.Editor.Caret.insertContentAtCaretPosition("/"),this.activateToolbox())}enter(t){const{BlockManager:r,UI:i}=this.Editor,l=r.currentBlock;if(l===void 0||l.tool.isLineBreaksEnabled||i.someToolbarOpened&&i.someFlipperButtonFocused||t.shiftKey&&!eu)return;let d=l;l.currentInput!==void 0&&Es(l.currentInput)&&!l.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):l.currentInput&&Cs(l.currentInput)?d=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):d=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(d),this.Editor.Toolbar.moveAndOpen(d),t.preventDefault()}backspace(t){const{BlockManager:r,Caret:i}=this.Editor,{currentBlock:l,previousBlock:d}=r;if(!(l===void 0||!fe.isCollapsed||!l.currentInput||!Es(l.currentInput))){if(t.preventDefault(),this.Editor.Toolbar.close(),l.currentInput!==l.firstInput){i.navigatePrevious();return}if(d!==null){if(d.isEmpty){r.removeBlock(d);return}if(l.isEmpty){r.removeBlock(l);const f=r.currentBlock;i.setToBlock(f,i.positions.END);return}m0(d,l)?this.mergeBlocks(d,l):i.setToBlock(d,i.positions.END)}}}delete(t){const{BlockManager:r,Caret:i}=this.Editor,{currentBlock:l,nextBlock:d}=r;if(!(!fe.isCollapsed||!Cs(l.currentInput))){if(t.preventDefault(),this.Editor.Toolbar.close(),l.currentInput!==l.lastInput){i.navigateNext();return}if(d!==null){if(d.isEmpty){r.removeBlock(d);return}if(l.isEmpty){r.removeBlock(l),i.setToBlock(d,i.positions.START);return}m0(l,d)?this.mergeBlocks(l,d):i.setToBlock(d,i.positions.START)}}}mergeBlocks(t,r){const{BlockManager:i,Toolbar:l}=this.Editor;t.lastInput!==void 0&&(Hb.focus(t.lastInput,!1),i.mergeBlocks(t,r).then(()=>{l.close()}))}arrowRightAndDown(t){const r=Ps.usedKeys.includes(t.keyCode)&&(!t.shiftKey||t.keyCode===ge.TAB);if(this.Editor.UI.someToolbarOpened&&r)return;this.Editor.Toolbar.close();const{currentBlock:i}=this.Editor.BlockManager,l=(i?.currentInput!==void 0?Cs(i.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(t.shiftKey&&t.keyCode===ge.DOWN&&l){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(t.keyCode===ge.DOWN||t.keyCode===ge.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){t.preventDefault();return}Ds(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(t)}arrowLeftAndUp(t){if(this.Editor.UI.someToolbarOpened){if(Ps.usedKeys.includes(t.keyCode)&&(!t.shiftKey||t.keyCode===ge.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();const{currentBlock:r}=this.Editor.BlockManager,i=(r?.currentInput!==void 0?Es(r.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(t.shiftKey&&t.keyCode===ge.UP&&i){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(t.keyCode===ge.UP||t.keyCode===ge.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){t.preventDefault();return}Ds(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(t)}needToolbarClosing(t){const r=t.keyCode===ge.ENTER&&this.Editor.Toolbar.toolbox.opened,i=t.keyCode===ge.ENTER&&this.Editor.BlockSettings.opened,l=t.keyCode===ge.ENTER&&this.Editor.InlineToolbar.opened,d=t.keyCode===ge.TAB;return!(t.shiftKey||d||r||i||l)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class Ud{constructor(t){this.blocks=[],this.workingArea=t}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return ib(this.workingArea.children)}static set(t,r,i){return isNaN(Number(r))?(Reflect.set(t,r,i),!0):(t.insert(+r,i),!0)}static get(t,r){return isNaN(Number(r))?Reflect.get(t,r):t.get(+r)}push(t){this.blocks.push(t),this.insertToDOM(t)}swap(t,r){const i=this.blocks[r];F.swap(this.blocks[t].holder,i.holder),this.blocks[r]=this.blocks[t],this.blocks[t]=i}move(t,r){const i=this.blocks.splice(r,1)[0],l=t-1,d=Math.max(0,l),f=this.blocks[d];t>0?this.insertToDOM(i,"afterend",f):this.insertToDOM(i,"beforebegin",f),this.blocks.splice(t,0,i);const p=this.composeBlockEvent("move",{fromIndex:r,toIndex:t});i.call(Tn.MOVED,p)}insert(t,r,i=!1){if(!this.length){this.push(r);return}t>this.length&&(t=this.length),i&&(this.blocks[t].holder.remove(),this.blocks[t].call(Tn.REMOVED));const l=i?1:0;if(this.blocks.splice(t,l,r),t>0){const d=this.blocks[t-1];this.insertToDOM(r,"afterend",d)}else{const d=this.blocks[t+1];d?this.insertToDOM(r,"beforebegin",d):this.insertToDOM(r)}}replace(t,r){if(this.blocks[t]===void 0)throw Error("Incorrect index");this.blocks[t].holder.replaceWith(r.holder),this.blocks[t]=r}insertMany(t,r){const i=new DocumentFragment;for(const l of t)i.appendChild(l.holder);if(this.length>0){if(r>0){const l=Math.min(r-1,this.length-1);this.blocks[l].holder.after(i)}else r===0&&this.workingArea.prepend(i);this.blocks.splice(r,0,...t)}else this.blocks.push(...t),this.workingArea.appendChild(i);t.forEach(l=>l.call(Tn.RENDERED))}remove(t){isNaN(t)&&(t=this.length-1),this.blocks[t].holder.remove(),this.blocks[t].call(Tn.REMOVED),this.blocks.splice(t,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(t=>t.call(Tn.REMOVED)),this.blocks.length=0}insertAfter(t,r){const i=this.blocks.indexOf(t);this.insert(i+1,r)}get(t){return this.blocks[t]}indexOf(t){return this.blocks.indexOf(t)}insertToDOM(t,r,i){r?i.holder.insertAdjacentElement(r,t.holder):this.workingArea.appendChild(t.holder),t.call(Tn.RENDERED)}composeBlockEvent(t,r){return new CustomEvent(t,{detail:r})}}const S0="block-removed",E0="block-added",g3="block-moved",C0="block-changed";class m3{constructor(){this.completed=Promise.resolve()}add(t){return new Promise((r,i)=>{this.completed=this.completed.then(t).then(r).catch(i)})}}class b3 extends we{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(t){this._currentBlockIndex=t}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(t){this.currentBlockIndex=this.getBlockIndex(t)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(t=>!!t.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(t=>!!t.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(t=>t.isEmpty)}prepare(){const t=new Ud(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(t,{set:Ud.set,get:Ud.get}),this.listeners.on(document,"copy",r=>this.Editor.BlockEvents.handleCommandC(r))}toggleReadOnly(t){t?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:t,data:r={},id:i=void 0,tunes:l={}}){const d=this.Editor.ReadOnly.isEnabled,f=this.Editor.Tools.blockTools.get(t),p=new jn({id:i,data:r,tool:f,api:this.Editor.API,readOnly:d,tunesData:l},this.eventsDispatcher);return d||window.requestIdleCallback(()=>{this.bindBlockEvents(p)},{timeout:2e3}),p}insert({id:t=void 0,tool:r=this.config.defaultBlock,data:i={},index:l,needToFocus:d=!0,replace:f=!1,tunes:p={}}={}){let m=l;m===void 0&&(m=this.currentBlockIndex+(f?0:1));const g=this.composeBlock({id:t,tool:r,data:i,tunes:p});return f&&this.blockDidMutated(S0,this.getBlockByIndex(m),{index:m}),this._blocks.insert(m,g,f),this.blockDidMutated(E0,g,{index:m}),d?this.currentBlockIndex=m:m<=this.currentBlockIndex&&this.currentBlockIndex++,g}insertMany(t,r=0){this._blocks.insertMany(t,r)}async update(t,r,i){if(!r&&!i)return t;const l=await t.data,d=this.composeBlock({id:t.id,tool:t.name,data:Object.assign({},l,r??{}),tunes:i??t.tunes}),f=this.getBlockIndex(t);return this._blocks.replace(f,d),this.blockDidMutated(C0,d,{index:f}),d}replace(t,r,i){const l=this.getBlockIndex(t);return this.insert({tool:r,data:i,index:l,replace:!0})}paste(t,r,i=!1){const l=this.insert({tool:t,replace:i});try{window.requestIdleCallback(()=>{l.call(Tn.ON_PASTE,r)})}catch(d){Te(`${t}: onPaste callback call is failed`,"error",d)}return l}insertDefaultBlockAtIndex(t,r=!1){const i=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[t]=i,this.blockDidMutated(E0,i,{index:t}),r?this.currentBlockIndex=t:t<=this.currentBlockIndex&&this.currentBlockIndex++,i}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(t,r){let i;if(t.name===r.name&&t.mergeable){const l=await r.data;if($t(l)){console.error("Could not merge Block. Failed to extract original Block data.");return}const[d]=mu([l],t.tool.sanitizeConfig);i=d}else if(t.mergeable&&Hs(r,"export")&&Hs(t,"import")){const l=await r.exportDataAsString(),d=an(l,t.tool.sanitizeConfig);i=b0(d,t.tool.conversionConfig)}i!==void 0&&(await t.mergeWith(i),this.removeBlock(r),this.currentBlockIndex=this._blocks.indexOf(t))}removeBlock(t,r=!0){return new Promise(i=>{const l=this._blocks.indexOf(t);if(!this.validateIndex(l))throw new Error("Can't find a Block to remove");t.destroy(),this._blocks.remove(l),this.blockDidMutated(S0,t,{index:l}),this.currentBlockIndex>=l&&this.currentBlockIndex--,this.blocks.length?l===0&&(this.currentBlockIndex=0):(this.unsetCurrentBlock(),r&&this.insert()),i()})}removeSelectedBlocks(){let t;for(let r=this.blocks.length-1;r>=0;r--)this.blocks[r].selected&&(this.removeBlock(this.blocks[r]),t=r);return t}removeAllBlocks(){for(let t=this.blocks.length-1;t>=0;t--)this._blocks.remove(t);this.unsetCurrentBlock(),this.insert(),this.currentBlock.firstInput.focus()}split(){const t=this.Editor.Caret.extractFragmentFromCaretPosition(),r=F.make("div");r.appendChild(t);const i={text:F.isEmpty(r)?"":r.innerHTML};return this.insert({data:i})}getBlockByIndex(t){return t===-1&&(t=this._blocks.length-1),this._blocks[t]}getBlockIndex(t){return this._blocks.indexOf(t)}getBlockById(t){return this._blocks.array.find(r=>r.id===t)}getBlock(t){F.isElement(t)||(t=t.parentNode);const r=this._blocks.nodes,i=t.closest(`.${jn.CSS.wrapper}`),l=r.indexOf(i);if(l>=0)return this._blocks[l]}setCurrentBlockByChildNode(t){F.isElement(t)||(t=t.parentNode);const r=t.closest(`.${jn.CSS.wrapper}`);if(!r)return;const i=r.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(i!=null&&i.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(r),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(t){if(!t||!(t instanceof Node))return;F.isElement(t)||(t=t.parentNode);const r=t.closest(`.${jn.CSS.wrapper}`);return this.blocks.find(i=>i.holder===r)}swap(t,r){this._blocks.swap(t,r),this.currentBlockIndex=r}move(t,r=this.currentBlockIndex){if(isNaN(t)||isNaN(r)){Te("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(t)||!this.validateIndex(r)){Te("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(t,r),this.currentBlockIndex=t,this.blockDidMutated(g3,this.currentBlock,{fromIndex:r,toIndex:t})}async convert(t,r,i){if(!await t.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const l=this.Editor.Tools.blockTools.get(r);if(!l)throw new Error(`Could not convert Block. Tool ${r} not found.`);const d=await t.exportDataAsString(),f=an(d,l.sanitizeConfig);let p=b0(f,l.conversionConfig,l.settings);return i&&(p=Object.assign(p,i)),this.replace(t,l.name,p)}unsetCurrentBlock(){this.currentBlockIndex=-1}async clear(t=!1){const r=new m3;this.blocks.forEach(i=>{r.add(async()=>{await this.removeBlock(i,!1)})}),await r.completed,this.unsetCurrentBlock(),t&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(t=>t.destroy()))}bindBlockEvents(t){const{BlockEvents:r}=this.Editor;this.readOnlyMutableListeners.on(t.holder,"keydown",i=>{r.keydown(i)}),this.readOnlyMutableListeners.on(t.holder,"keyup",i=>{r.keyup(i)}),this.readOnlyMutableListeners.on(t.holder,"dragover",i=>{r.dragOver(i)}),this.readOnlyMutableListeners.on(t.holder,"dragleave",i=>{r.dragLeave(i)}),t.on("didMutated",i=>this.blockDidMutated(C0,i,{index:this.getBlockIndex(i)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",t=>this.Editor.BlockEvents.handleCommandX(t)),this.blocks.forEach(t=>{this.bindBlockEvents(t)})}validateIndex(t){return!(t<0||t>=this._blocks.length)}blockDidMutated(t,r,i){const l=new CustomEvent(t,{detail:{target:new Cn(r),...i}});return this.eventsDispatcher.emit(fb,{event:l}),r}}class v3 extends we{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:t}=this.Editor;return t.blocks.every(r=>r.selected===!0)}set allBlocksSelected(t){const{BlockManager:r}=this.Editor;r.blocks.forEach(i=>{i.selected=t}),this.clearCache()}get anyBlockSelected(){const{BlockManager:t}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=t.blocks.some(r=>r.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(t=>t.selected)}prepare(){this.selection=new fe,Ao.add({name:"CMD+A",handler:t=>{const{BlockManager:r,ReadOnly:i}=this.Editor;if(i.isEnabled){t.preventDefault(),this.selectAllBlocks();return}r.currentBlock&&this.handleCommandA(t)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){fe.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(t){const{BlockManager:r}=this.Editor;let i;isNaN(t)?i=r.currentBlock:i=r.getBlockByIndex(t),i.selected=!1,this.clearCache()}clearSelection(t,r=!1){const{BlockManager:i,Caret:l,RectangleSelection:d}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const f=t&&t instanceof KeyboardEvent,p=f&&ab(t.keyCode);if(this.anyBlockSelected&&f&&p&&!fe.isSelectionExists){const m=i.removeSelectedBlocks();i.insertDefaultBlockAtIndex(m,!0),l.setToBlock(i.currentBlock),Ds(()=>{const g=t.key;l.insertContentAtCaretPosition(g.length>1?"":g)},20)()}if(this.Editor.CrossBlockSelection.clear(t),!this.anyBlockSelected||d.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}r&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(t){t.preventDefault();const r=F.make("div");this.selectedBlocks.forEach(d=>{const f=an(d.holder.innerHTML,this.sanitizerConfig),p=F.make("p");p.innerHTML=f,r.appendChild(p)});const i=Array.from(r.childNodes).map(d=>d.textContent).join(`

`),l=r.innerHTML;return t.clipboardData.setData("text/plain",i),t.clipboardData.setData("text/html",l),Promise.all(this.selectedBlocks.map(d=>d.save())).then(d=>{try{t.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(d))}catch{}})}selectBlockByIndex(t){const{BlockManager:r}=this.Editor,i=r.getBlockByIndex(t);i!==void 0&&this.selectBlock(i)}selectBlock(t){this.selection.save(),fe.get().removeAllRanges(),t.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(t){t.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Ao.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(t){if(this.Editor.RectangleSelection.clearSelection(),F.isNativeInput(t.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const r=this.Editor.BlockManager.getBlock(t.target),i=r.inputs;if(i.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(i.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(t.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1):this.readyToBlockSelection&&(t.preventDefault(),this.selectBlock(r),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),fe.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}let x3=class iu extends we{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}setToBlock(t,r=this.positions.DEFAULT,i=0){var l;const{BlockManager:d,BlockSelection:f}=this.Editor;if(f.clearSelection(),!t.focusable){(l=window.getSelection())==null||l.removeAllRanges(),f.selectBlock(t),d.currentBlock=t;return}let p;switch(r){case this.positions.START:p=t.firstInput;break;case this.positions.END:p=t.lastInput;break;default:p=t.currentInput}if(!p)return;const m=F.getDeepestNode(p,r===this.positions.END),g=F.getContentLength(m);switch(!0){case r===this.positions.START:i=0;break;case r===this.positions.END:case i>g:i=g;break}this.set(m,i),d.setCurrentBlockByChildNode(t.holder),d.currentBlock.currentInput=p}setToInput(t,r=this.positions.DEFAULT,i=0){const{currentBlock:l}=this.Editor.BlockManager,d=F.getDeepestNode(t);switch(r){case this.positions.START:this.set(d,0);break;case this.positions.END:this.set(d,F.getContentLength(d));break;default:i&&this.set(d,i)}l.currentInput=t}set(t,r=0){const{top:i,bottom:l}=fe.setCursor(t,r),{innerHeight:d}=window;i<0?window.scrollBy(0,i-30):l>d&&window.scrollBy(0,l-d+30)}setToTheLastBlock(){const t=this.Editor.BlockManager.lastBlock;if(t)if(t.tool.isDefault&&t.isEmpty)this.setToBlock(t);else{const r=this.Editor.BlockManager.insertAtEnd();this.setToBlock(r)}}extractFragmentFromCaretPosition(){const t=fe.get();if(t.rangeCount){const r=t.getRangeAt(0),i=this.Editor.BlockManager.currentBlock.currentInput;if(r.deleteContents(),i)if(F.isNativeInput(i)){const l=i,d=document.createDocumentFragment(),f=l.value.substring(0,l.selectionStart),p=l.value.substring(l.selectionStart);return d.textContent=p,l.value=f,d}else{const l=r.cloneRange();return l.selectNodeContents(i),l.setStart(r.endContainer,r.endOffset),l.extractContents()}}}navigateNext(t=!1){const{BlockManager:r}=this.Editor,{currentBlock:i,nextBlock:l}=r;if(i===void 0)return!1;const{nextInput:d,currentInput:f}=i,p=f!==void 0?Cs(f):void 0;let m=l;const g=t||p||!i.focusable;if(d&&g)return this.setToInput(d,this.positions.START),!0;if(m===null){if(i.tool.isDefault||!g)return!1;m=r.insertAtEnd()}return g?(this.setToBlock(m,this.positions.START),!0):!1}navigatePrevious(t=!1){const{currentBlock:r,previousBlock:i}=this.Editor.BlockManager;if(!r)return!1;const{previousInput:l,currentInput:d}=r,f=d!==void 0?Es(d):void 0,p=t||f||!r.focusable;return l&&p?(this.setToInput(l,this.positions.END),!0):i!==null&&p?(this.setToBlock(i,this.positions.END),!0):!1}createShadow(t){const r=document.createElement("span");r.classList.add(iu.CSS.shadowCaret),t.insertAdjacentElement("beforeend",r)}restoreCaret(t){const r=t.querySelector(`.${iu.CSS.shadowCaret}`);if(!r)return;new fe().expandToTag(r);const i=document.createRange();i.selectNode(r),i.extractContents()}insertContentAtCaretPosition(t){const r=document.createDocumentFragment(),i=document.createElement("div"),l=fe.get(),d=fe.range;i.innerHTML=t,Array.from(i.childNodes).forEach(g=>r.appendChild(g)),r.childNodes.length===0&&r.appendChild(new Text);const f=r.lastChild;d.deleteContents(),d.insertNode(r);const p=document.createRange(),m=f.nodeType===Node.TEXT_NODE?f:f.firstChild;m!==null&&m.textContent!==null&&p.setStart(m,m.textContent.length),l.removeAllRanges(),l.addRange(p)}};class y3 extends we{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=t=>{const{BlockManager:r,BlockSelection:i}=this.Editor;if(t.relatedTarget===null&&t.target===null)return;const l=r.getBlockByChildNode(t.relatedTarget)||this.lastSelectedBlock,d=r.getBlockByChildNode(t.target);if(!(!l||!d)&&d!==l){if(l===this.firstSelectedBlock){fe.get().removeAllRanges(),l.selected=!0,d.selected=!0,i.clearCache();return}if(d===this.firstSelectedBlock){l.selected=!1,d.selected=!1,i.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(l,d),this.lastSelectedBlock=d}}}async prepare(){this.listeners.on(document,"mousedown",t=>{this.enableCrossBlockSelection(t)})}watchSelection(t){if(t.button!==ak.LEFT)return;const{BlockManager:r}=this.Editor;this.firstSelectedBlock=r.getBlock(t.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock&&this.firstSelectedBlock!==this.lastSelectedBlock}toggleBlockSelectedState(t=!0){const{BlockManager:r,BlockSelection:i}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=r.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,i.clearCache(),fe.get().removeAllRanges());const l=r.blocks.indexOf(this.lastSelectedBlock)+(t?1:-1),d=r.blocks[l];d&&(this.lastSelectedBlock.selected!==d.selected?(d.selected=!0,i.clearCache()):(this.lastSelectedBlock.selected=!1,i.clearCache()),this.lastSelectedBlock=d,this.Editor.InlineToolbar.close(),d.holder.scrollIntoView({block:"nearest"}))}clear(t){const{BlockManager:r,BlockSelection:i,Caret:l}=this.Editor,d=r.blocks.indexOf(this.firstSelectedBlock),f=r.blocks.indexOf(this.lastSelectedBlock);if(i.anyBlockSelected&&d>-1&&f>-1&&t&&t instanceof KeyboardEvent)switch(t.keyCode){case ge.DOWN:case ge.RIGHT:l.setToBlock(r.blocks[Math.max(d,f)],l.positions.END);break;case ge.UP:case ge.LEFT:l.setToBlock(r.blocks[Math.min(d,f)],l.positions.START);break;default:l.setToBlock(r.blocks[Math.max(d,f)],l.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(t){const{UI:r}=this.Editor;fe.isCollapsed||this.Editor.BlockSelection.clearSelection(t),r.nodes.redactor.contains(t.target)?this.watchSelection(t):this.Editor.BlockSelection.clearSelection(t)}toggleBlocksSelectedState(t,r){const{BlockManager:i,BlockSelection:l}=this.Editor,d=i.blocks.indexOf(t),f=i.blocks.indexOf(r),p=t.selected!==r.selected;for(let m=Math.min(d,f);m<=Math.max(d,f);m++){const g=i.blocks[m];g!==this.firstSelectedBlock&&g!==(p?t:r)&&(i.blocks[m].selected=!i.blocks[m].selected,l.clearCache())}}}class k3 extends we{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(t){t?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:t}=this.Editor;this.readOnlyMutableListeners.on(t.nodes.holder,"drop",async r=>{await this.processDrop(r)},!0),this.readOnlyMutableListeners.on(t.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(t.nodes.holder,"dragover",r=>{this.processDragOver(r)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(t){const{BlockManager:r,Paste:i,Caret:l}=this.Editor;t.preventDefault(),r.blocks.forEach(f=>{f.dropTarget=!1}),fe.isAtEditor&&!fe.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const d=r.setCurrentBlockByChildNode(t.target);if(d)this.Editor.Caret.setToBlock(d,l.positions.END);else{const f=r.setCurrentBlockByChildNode(r.lastBlock.holder);this.Editor.Caret.setToBlock(f,l.positions.END)}await i.processDataTransfer(t.dataTransfer,!0)}processDragStart(){fe.isAtEditor&&!fe.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(t){t.preventDefault()}}const w3=180,S3=400;class E3 extends we{constructor({config:t,eventsDispatcher:r}){super({config:t,eventsDispatcher:r}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=S3,this.mutationObserver=new MutationObserver(i=>{this.redactorChanged(i)}),this.eventsDispatcher.on(fb,i=>{this.particularBlockChanged(i.event)}),this.eventsDispatcher.on(pb,()=>{this.disable()}),this.eventsDispatcher.on(gb,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(t){this.disabled||!Ue(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${t.detail.target.id}:event:${t.type}`,t),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let r;this.batchingOnChangeQueue.size===1?r=this.batchingOnChangeQueue.values().next().value:r=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,r),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(t){this.eventsDispatcher.emit(tu,{mutations:t})}}const lv=class cv extends we{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=t=>{try{const r=t.create({},{},!1);if(t.pasteConfig===!1){this.exceptionList.push(t.name);return}if(!Ue(r.onPaste))return;this.getTagsConfig(t),this.getFilesConfig(t),this.getPatternsConfig(t)}catch(r){Te(`Paste handling for ${t.name} Tool hasn't been set up because of the error`,"warn",r)}},this.handlePasteEvent=async t=>{const{BlockManager:r,Toolbar:i}=this.Editor,l=r.setCurrentBlockByChildNode(t.target);!l||this.isNativeBehaviour(t.target)&&!t.clipboardData.types.includes("Files")||l&&this.exceptionList.includes(l.name)||(t.preventDefault(),this.processDataTransfer(t.clipboardData),i.close())}}async prepare(){this.processTools()}toggleReadOnly(t){t?this.unsetCallback():this.setCallback()}async processDataTransfer(t,r=!1){const{Tools:i}=this.Editor,l=t.types;if((l.includes?l.includes("Files"):l.contains("Files"))&&!$t(this.toolsFiles)){await this.processFiles(t.files);return}const d=t.getData(this.MIME_TYPE),f=t.getData("text/plain");let p=t.getData("text/html");if(d)try{this.insertEditorJSData(JSON.parse(d));return}catch{}r&&f.trim()&&p.trim()&&(p="<p>"+(p.trim()?p:f)+"</p>");const m=Object.keys(this.toolsTags).reduce((y,w)=>(y[w.toLowerCase()]=this.toolsTags[w].sanitizationConfig??{},y),{}),g=Object.assign({},m,i.getAllInlineToolsSanitizeConfig(),{br:{}}),v=an(p,g);!v.trim()||v.trim()===f||!F.isHTMLString(v)?await this.processText(f):await this.processText(v,!0)}async processText(t,r=!1){const{Caret:i,BlockManager:l}=this.Editor,d=r?this.processHTML(t):this.processPlain(t);if(!d.length)return;if(d.length===1){d[0].isBlock?this.processSingleBlock(d.pop()):this.processInlinePaste(d.pop());return}const f=l.currentBlock&&l.currentBlock.tool.isDefault&&l.currentBlock.isEmpty;d.map(async(p,m)=>this.insertBlock(p,m===0&&f)),l.currentBlock&&i.setToBlock(l.currentBlock,i.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const t=this.Editor.Tools.blockTools;Array.from(t.values()).forEach(this.processTool)}collectTagNames(t){return Nn(t)?[t]:st(t)?Object.keys(t):[]}getTagsConfig(t){if(t.pasteConfig===!1)return;const r=t.pasteConfig.tags||[],i=[];r.forEach(l=>{const d=this.collectTagNames(l);i.push(...d),d.forEach(f=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,f)){Te(`Paste handler for ${t.name} Tool on ${f} tag is skipped because it is already used by ${this.toolsTags[f].tool.name} Tool.`,"warn");return}const p=st(l)?l[f]:null;this.toolsTags[f.toUpperCase()]={tool:t,sanitizationConfig:p}})}),this.tagsByTool[t.name]=i.map(l=>l.toUpperCase())}getFilesConfig(t){if(t.pasteConfig===!1)return;const{files:r={}}=t.pasteConfig;let{extensions:i,mimeTypes:l}=r;!i&&!l||(i&&!Array.isArray(i)&&(Te(`extensions property of the onDrop config for ${t.name} Tool should be an array`),i=[]),l&&!Array.isArray(l)&&(Te(`mimeTypes property of the onDrop config for ${t.name} Tool should be an array`),l=[]),l&&(l=l.filter(d=>dk(d)?!0:(Te(`MIME type value ${d} for the ${t.name} Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[t.name]={extensions:i||[],mimeTypes:l||[]})}getPatternsConfig(t){t.pasteConfig===!1||!t.pasteConfig.patterns||$t(t.pasteConfig.patterns)||Object.entries(t.pasteConfig.patterns).forEach(([r,i])=>{i instanceof RegExp||Te(`Pattern ${i} for ${t.name} Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:r,pattern:i,tool:t})})}isNativeBehaviour(t){return F.isNativeInput(t)}async processFiles(t){const{BlockManager:r}=this.Editor;let i;i=await Promise.all(Array.from(t).map(d=>this.processFile(d))),i=i.filter(d=>!!d);const l=r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty;i.forEach((d,f)=>{r.paste(d.type,d.event,f===0&&l)})}async processFile(t){const r=ck(t),i=Object.entries(this.toolsFiles).find(([d,{mimeTypes:f,extensions:p}])=>{const[m,g]=t.type.split("/"),v=p.find(w=>w.toLowerCase()===r.toLowerCase()),y=f.find(w=>{const[B,S]=w.split("/");return B===m&&(S===g||S==="*")});return!!v||!!y});if(!i)return;const[l]=i;return{event:this.composePasteEvent("file",{file:t}),type:l}}processHTML(t){const{Tools:r}=this.Editor,i=F.make("DIV");return i.innerHTML=t,this.getNodes(i).map(l=>{let d,f=r.defaultTool,p=!1;switch(l.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:d=F.make("div"),d.appendChild(l);break;case Node.ELEMENT_NODE:d=l,p=!0,this.toolsTags[d.tagName]&&(f=this.toolsTags[d.tagName].tool);break}const{tags:m}=f.pasteConfig||{tags:[]},g=m.reduce((w,B)=>(this.collectTagNames(B).forEach(S=>{const k=st(B)?B[S]:null;w[S.toLowerCase()]=k||{}}),w),{}),v=Object.assign({},g,f.baseSanitizeConfig);if(d.tagName.toLowerCase()==="table"){const w=an(d.outerHTML,v);d=F.make("div",void 0,{innerHTML:w}).firstChild}else d.innerHTML=an(d.innerHTML,v);const y=this.composePasteEvent("tag",{data:d});return{content:d,isBlock:p,tool:f.name,event:y}}).filter(l=>{const d=F.isEmpty(l.content),f=F.isSingleTag(l.content);return!d||f})}processPlain(t){const{defaultBlock:r}=this.config;if(!t)return[];const i=r;return t.split(/\r?\n/).filter(l=>l.trim()).map(l=>{const d=F.make("div");d.textContent=l;const f=this.composePasteEvent("tag",{data:d});return{content:d,tool:i,isBlock:!1,event:f}})}async processSingleBlock(t){const{Caret:r,BlockManager:i}=this.Editor,{currentBlock:l}=i;if(!l||t.tool!==l.name||!F.containsOnlyInlineElements(t.content.innerHTML)){this.insertBlock(t,l?.tool.isDefault&&l.isEmpty);return}r.insertContentAtCaretPosition(t.content.innerHTML)}async processInlinePaste(t){const{BlockManager:r,Caret:i}=this.Editor,{content:l}=t;if(r.currentBlock&&r.currentBlock.tool.isDefault&&l.textContent.length<cv.PATTERN_PROCESSING_MAX_LENGTH){const d=await this.processPattern(l.textContent);if(d){const f=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty,p=r.paste(d.tool,d.event,f);i.setToBlock(p,i.positions.END);return}}if(r.currentBlock&&r.currentBlock.currentInput){const d=r.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,an(l.innerHTML,d))}else this.insertBlock(t)}async processPattern(t){const r=this.toolsPatterns.find(i=>{const l=i.pattern.exec(t);return l?t===l.shift():!1});return r?{event:this.composePasteEvent("pattern",{key:r.key,data:t}),tool:r.tool.name}:void 0}insertBlock(t,r=!1){const{BlockManager:i,Caret:l}=this.Editor,{currentBlock:d}=i;let f;if(r&&d&&d.isEmpty){f=i.paste(t.tool,t.event,!0),l.setToBlock(f,l.positions.END);return}f=i.paste(t.tool,t.event),l.setToBlock(f,l.positions.END)}insertEditorJSData(t){const{BlockManager:r,Caret:i,Tools:l}=this.Editor;mu(t,d=>l.blockTools.get(d).sanitizeConfig).forEach(({tool:d,data:f},p)=>{let m=!1;p===0&&(m=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty);const g=r.insert({tool:d,data:f,replace:m});i.setToBlock(g,i.positions.END)})}processElementNode(t,r,i){const l=Object.keys(this.toolsTags),d=t,{tool:f}=this.toolsTags[d.tagName]||{},p=this.tagsByTool[f?.name]||[],m=l.includes(d.tagName),g=F.blockElements.includes(d.tagName.toLowerCase()),v=Array.from(d.children).some(({tagName:w})=>l.includes(w)&&!p.includes(w)),y=Array.from(d.children).some(({tagName:w})=>F.blockElements.includes(w.toLowerCase()));if(!g&&!m&&!v)return i.appendChild(d),[...r,i];if(m&&!v||g&&!y&&!v)return[...r,i,d]}getNodes(t){const r=Array.from(t.childNodes);let i;const l=(d,f)=>{if(F.isEmpty(f)&&!F.isSingleTag(f))return d;const p=d[d.length-1];let m=new DocumentFragment;switch(p&&F.isFragment(p)&&(m=d.pop()),f.nodeType){case Node.ELEMENT_NODE:if(i=this.processElementNode(f,d,m),i)return i;break;case Node.TEXT_NODE:return m.appendChild(f),[...d,m];default:return[...d,m]}return[...d,...Array.from(f.childNodes).reduce(l,[])]};return r.reduce(l,[])}composePasteEvent(t,r){return new CustomEvent(t,{detail:r})}};lv.PATTERN_PROCESSING_MAX_LENGTH=450;let C3=lv;class T3 extends we{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:t}=this.Editor,{blockTools:r}=t,i=[];Array.from(r.entries()).forEach(([l,d])=>{d.isReadOnlySupported||i.push(l)}),this.toolsDontSupportReadOnly=i,this.config.readOnly&&i.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly,!0)}async toggle(t=!this.readOnlyEnabled,r=!1){t&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const i=this.readOnlyEnabled;this.readOnlyEnabled=t;for(const d in this.Editor)this.Editor[d].toggleReadOnly&&this.Editor[d].toggleReadOnly(t);if(i===t)return this.readOnlyEnabled;if(r)return this.readOnlyEnabled;this.Editor.ModificationsObserver.disable();const l=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(l.blocks),this.Editor.ModificationsObserver.enable(),this.readOnlyEnabled}throwCriticalError(){throw new ub(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}let j3=class js extends we{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(t,r){const i=document.elementFromPoint(t-window.pageXOffset,r-window.pageYOffset);i.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const l=[`.${jn.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],d=i.closest("."+this.Editor.UI.CSS.editorWrapper),f=l.some(p=>!!i.closest(p));!d||f||(this.mousedown=!0,this.startX=t,this.startY=r)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:t}=this.genHTML();this.listeners.on(t,"mousedown",r=>{this.processMouseDown(r)},!1),this.listeners.on(document.body,"mousemove",Kd(r=>{this.processMouseMove(r)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",Kd(r=>{this.processScroll(r)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(t){t.button===this.MAIN_MOUSE_BUTTON&&(t.target.closest(F.allInputsSelector)!==null||this.startSelection(t.pageX,t.pageY))}processMouseMove(t){this.changingRectangle(t),this.scrollByZones(t.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(t){this.changingRectangle(t)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(t){if(this.inScrollZone=null,t<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-t<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:t}=this.Editor,r=t.nodes.holder.querySelector("."+t.CSS.editorWrapper),i=F.make("div",js.CSS.overlay,{}),l=F.make("div",js.CSS.overlayContainer,{}),d=F.make("div",js.CSS.rect,{});return l.appendChild(d),i.appendChild(l),r.appendChild(i),this.overlayRectangle=d,{container:r,overlay:i}}scrollVertical(t){if(!(this.inScrollZone&&this.mousedown))return;const r=window.pageYOffset;window.scrollBy(0,t),this.mouseY+=window.pageYOffset-r,setTimeout(()=>{this.scrollVertical(t)},0)}changingRectangle(t){if(!this.mousedown)return;t.pageY!==void 0&&(this.mouseX=t.pageX,this.mouseY=t.pageY);const{rightPos:r,leftPos:i,index:l}=this.genInfoForMouseSelection(),d=this.startX>r&&this.mouseX>r,f=this.startX<i&&this.mouseX<i;this.rectCrossesBlocks=!(d||f),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),l!==void 0&&(this.trySelectNextBlock(l),this.inverseSelection(),fe.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const t=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!t)for(const r of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(r);if(!this.rectCrossesBlocks&&t)for(const r of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(r)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const t=document.body.offsetWidth/2,r=this.mouseY-window.pageYOffset,i=document.elementFromPoint(t,r),l=this.Editor.BlockManager.getBlockByChildNode(i);let d;l!==void 0&&(d=this.Editor.BlockManager.blocks.findIndex(v=>v.holder===l.holder));const f=this.Editor.BlockManager.lastBlock.holder.querySelector("."+jn.CSS.content),p=Number.parseInt(window.getComputedStyle(f).width,10)/2,m=t-p,g=t+p;return{index:d,leftPos:m,rightPos:g}}addBlockInSelection(t){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(t),this.stackOfSelected.push(t)}trySelectNextBlock(t){const r=this.stackOfSelected[this.stackOfSelected.length-1]===t,i=this.stackOfSelected.length,l=1,d=-1,f=0;if(r)return;const p=this.stackOfSelected[i-1]-this.stackOfSelected[i-2]>0;let m=f;i>1&&(m=p?l:d);const g=t>this.stackOfSelected[i-1]&&m===l,v=t<this.stackOfSelected[i-1]&&m===d,y=!(g||v||m===f);if(!y&&(t>this.stackOfSelected[i-1]||this.stackOfSelected[i-1]===void 0)){let S=this.stackOfSelected[i-1]+1||t;for(S;S<=t;S++)this.addBlockInSelection(S);return}if(!y&&t<this.stackOfSelected[i-1]){for(let S=this.stackOfSelected[i-1]-1;S>=t;S--)this.addBlockInSelection(S);return}if(!y)return;let w=i-1,B;for(t>this.stackOfSelected[i-1]?B=()=>t>this.stackOfSelected[w]:B=()=>t<this.stackOfSelected[w];B();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[w]),this.stackOfSelected.pop(),w--}};class N3 extends we{async render(t){return new Promise(r=>{const{Tools:i,BlockManager:l}=this.Editor;if(t.length===0)l.insert();else{const d=t.map(({type:f,data:p,tunes:m,id:g})=>{i.available.has(f)===!1&&(Ft(`Tool ${f} is not found. Check 'tools' property at the Editor.js config.`,"warn"),p=this.composeStubDataForTool(f,p,g),f=i.stubTool);let v;try{v=l.composeBlock({id:g,tool:f,data:p,tunes:m})}catch(y){Te(`Block ${f} skipped because of plugins error`,"error",{data:p,error:y}),p=this.composeStubDataForTool(f,p,g),f=i.stubTool,v=l.composeBlock({id:g,tool:f,data:p,tunes:m})}return v});l.insertMany(d)}window.requestIdleCallback(()=>{r()},{timeout:2e3})})}composeStubDataForTool(t,r,i){const{Tools:l}=this.Editor;let d=t;if(l.unavailable.has(t)){const f=l.unavailable.get(t).toolbox;f!==void 0&&f[0].title!==void 0&&(d=f[0].title)}return{savedData:{id:i,type:t,data:r},title:d}}}class B3 extends we{async save(){const{BlockManager:t,Tools:r}=this.Editor,i=t.blocks,l=[];try{i.forEach(p=>{l.push(this.getSavedData(p))});const d=await Promise.all(l),f=await mu(d,p=>r.blockTools.get(p).sanitizeConfig);return this.makeOutput(f)}catch(d){Ft("Saving failed due to the Error %o","error",d)}}async getSavedData(t){const r=await t.save(),i=r&&await t.validate(r.data);return{...r,isValid:i}}makeOutput(t){const r=[];return t.forEach(({id:i,tool:l,data:d,tunes:f,isValid:p})=>{if(!p){Te(`Block ${l} skipped because saved data is invalid`);return}if(l===this.Editor.Tools.stubTool){r.push(d);return}const m={id:i,type:l,data:d,...!$t(f)&&{tunes:f}};r.push(m)}),{time:+new Date,blocks:r,version:"2.31.0-rc.7"}}}(function(){try{if(typeof document<"u"){var a=document.createElement("style");a.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(a)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const O3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function M3(a){const t=document.createElement("div");t.innerHTML=a.trim();const r=document.createDocumentFragment();return r.append(...Array.from(t.childNodes)),r}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */class ch{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:t,config:r,api:i,readOnly:l}){this.api=i,this.readOnly=l,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=r.placeholder?r.placeholder:ch.DEFAULT_PLACEHOLDER,this._data=t??{},this._element=null,this._preserveBlank=r.preserveBlank??!1}onKeyUp(t){if(t.code!=="Backspace"&&t.code!=="Delete"||!this._element)return;const{textContent:r}=this._element;r===""&&(this._element.innerHTML="")}drawView(){const t=document.createElement("DIV");return t.classList.add(this._CSS.wrapper,this._CSS.block),t.contentEditable="false",t.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(t.innerHTML=this._data.text),this.readOnly||(t.contentEditable="true",t.addEventListener("keyup",this.onKeyUp)),t}render(){return this._element=this.drawView(),this._element}merge(t){if(!this._element)return;this._data.text+=t.text;const r=M3(t.text);this._element.appendChild(r),this._element.normalize()}validate(t){return!(t.text.trim()===""&&!this._preserveBlank)}save(t){return{text:t.innerHTML}}onPaste(t){const r={text:t.detail.data.innerHTML};this._data=r,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:O3,title:"Text"}}}class dh{constructor(){this.commandName="bold"}static get sanitize(){return{b:{}}}render(){return{icon:r4,name:"bold",onActivate:()=>{document.execCommand(this.commandName)},isActive:()=>document.queryCommandState(this.commandName)}}get shortcut(){return"CMD+B"}}dh.isInline=!0;dh.title="Bold";class uh{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=d4,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const t=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,t),t}get shortcut(){return"CMD+I"}}uh.isInline=!0;uh.title="Italic";class hh{constructor({api:t}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=t.toolbar,this.inlineToolbar=t.inlineToolbar,this.notifier=t.notifier,this.i18n=t.i18n,this.selection=new fe}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=v0,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.enterKeyHint="done",this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",t=>{t.keyCode===this.ENTER_KEY&&this.enterPressed(t)}),this.nodes.input}surround(t){if(t){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const r=this.selection.findParentTag("A");if(r){this.selection.expandToTag(r),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const t=this.selection.findParentTag("A");if(t){this.nodes.button.innerHTML=p4,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const r=t.getAttribute("href");this.nodes.input.value=r!=="null"?r:"",this.selection.save()}else this.nodes.button.innerHTML=v0,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!t}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(t=!1){this.nodes.input.classList.add(this.CSS.inputShowed),t&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(t=!0){if(this.selection.isFakeBackgroundEnabled){const r=new fe;r.save(),this.selection.restore(),this.selection.removeFakeBackground(),r.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",t&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(t){let r=this.nodes.input.value||"";if(!r.trim()){this.selection.restore(),this.unlink(),t.preventDefault(),this.closeActions();return}if(!this.validateURL(r)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),Te("Incorrect Link pasted","warn",r);return}r=this.prepareLink(r),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(r),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(t){return!/\s/.test(t)}prepareLink(t){return t=t.trim(),t=this.addProtocol(t),t}addProtocol(t){if(/^(\w+):(\/\/)?/.test(t))return t;const r=/^\/[^/\s]/.test(t),i=t.substring(0,1)==="#",l=/^\/\/[^/\s]/.test(t);return!r&&!i&&!l&&(t="http://"+t),t}insertLink(t){const r=this.selection.findParentTag("A");r&&this.selection.expandToTag(r),document.execCommand(this.commandLink,!1,t)}unlink(){document.execCommand(this.commandUnlink)}}hh.isInline=!0;hh.title="Link";let dv=class{constructor({api:t}){this.i18nAPI=t.i18n,this.blocksAPI=t.blocks,this.selectionAPI=t.selection,this.toolsAPI=t.tools,this.caretAPI=t.caret}async render(){const t=fe.get(),r=this.blocksAPI.getBlockByElement(t.anchorNode);if(r===void 0)return[];const i=this.toolsAPI.getBlockTools(),l=await bb(r,i);if(l.length===0)return[];const d=l.reduce((g,v)=>{var y;return(y=v.toolbox)==null||y.forEach(w=>{g.push({icon:w.icon,title:gt.t(At.toolNames,w.title),name:v.name,closeOnActivate:!0,onActivate:async()=>{const B=await this.blocksAPI.convert(r.id,v.name,w.data);this.caretAPI.setToBlock(B,"end")}})}),g},[]),f=await r.getActiveToolboxEntry(),p=f!==void 0?f.icon:Eb,m=!zo();return{icon:p,name:"convert-to",hint:{title:this.i18nAPI.t("Convert to")},children:{searchable:m,items:d,onOpen:()=>{m&&(this.selectionAPI.setFakeBackground(),this.selectionAPI.save())},onClose:()=>{m&&(this.selectionAPI.restore(),this.selectionAPI.removeFakeBackground())}}}}};dv.isInline=!0;let uv=class{constructor({data:t,api:r}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=r,this.title=t.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=t.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const t=F.make("div",this.CSS.wrapper),r=g4,i=F.make("div",this.CSS.info),l=F.make("div",this.CSS.title,{textContent:this.title}),d=F.make("div",this.CSS.subtitle,{textContent:this.subtitle});return t.innerHTML=r,i.appendChild(l),i.appendChild(d),t.appendChild(i),t}};uv.isReadOnlySupported=!0;class _3 extends wu{constructor(){super(...arguments),this.type=Mr.Inline}get title(){return this.constructable[Ys.Title]}create(){return new this.constructable({api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[Ys.IsReadOnlySupported]??!1}}class A3 extends wu{constructor(){super(...arguments),this.type=Mr.Tune}create(t,r){return new this.constructable({api:this.api,config:this.settings,block:r,data:t})}}let nn=class Oo extends Map{get blockTools(){const t=Array.from(this.entries()).filter(([,r])=>r.isBlock());return new Oo(t)}get inlineTools(){const t=Array.from(this.entries()).filter(([,r])=>r.isInline());return new Oo(t)}get blockTunes(){const t=Array.from(this.entries()).filter(([,r])=>r.isTune());return new Oo(t)}get internalTools(){const t=Array.from(this.entries()).filter(([,r])=>r.isInternal);return new Oo(t)}get externalTools(){const t=Array.from(this.entries()).filter(([,r])=>!r.isInternal);return new Oo(t)}};var L3=Object.defineProperty,R3=Object.getOwnPropertyDescriptor,hv=(a,t,r,i)=>{for(var l=R3(t,r),d=a.length-1,f;d>=0;d--)(f=a[d])&&(l=f(t,r,l)||l);return l&&L3(t,r,l),l};class fh extends wu{constructor(){super(...arguments),this.type=Mr.Block,this.inlineTools=new nn,this.tunes=new nn}create(t,r,i){return new this.constructable({data:t,block:r,readOnly:i,api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[Bo.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[Bo.IsEnabledLineBreaks]}get toolbox(){const t=this.constructable[Bo.Toolbox],r=this.config[Ss.Toolbox];if(!$t(t)&&r!==!1)return r?Array.isArray(t)?Array.isArray(r)?r.map((i,l)=>{const d=t[l];return d?{...d,...i}:i}):[r]:Array.isArray(r)?r:[{...t,...r}]:Array.isArray(t)?t:[t]}get conversionConfig(){return this.constructable[Bo.ConversionConfig]}get enabledInlineTools(){return this.config[Ss.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Ss.EnabledBlockTunes]}get pasteConfig(){return this.constructable[Bo.PasteConfig]??{}}get sanitizeConfig(){const t=super.sanitizeConfig,r=this.baseSanitizeConfig;if($t(t))return r;const i={};for(const l in t)if(Object.prototype.hasOwnProperty.call(t,l)){const d=t[l];st(d)?i[l]=Object.assign({},r,d):i[l]=d}return i}get baseSanitizeConfig(){const t={};return Array.from(this.inlineTools.values()).forEach(r=>Object.assign(t,r.sanitizeConfig)),Array.from(this.tunes.values()).forEach(r=>Object.assign(t,r.sanitizeConfig)),t}}hv([Do],fh.prototype,"sanitizeConfig");hv([Do],fh.prototype,"baseSanitizeConfig");class D3{constructor(t,r,i){this.api=i,this.config=t,this.editorConfig=r}get(t){const{class:r,isInternal:i=!1,...l}=this.config[t],d=this.getConstructor(r),f=r[ou.IsTune];return new d({name:t,constructable:r,config:l,api:this.api.getMethodsForTool(t,f),isDefault:t===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:i})}getConstructor(t){switch(!0){case t[Ys.IsInline]:return _3;case t[ou.IsTune]:return A3;default:return fh}}}let fv=class{constructor({api:t}){this.CSS={animation:"wobble"},this.api=t}render(){return{icon:o4,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const t=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(t+1);if(!r)throw new Error("Unable to move Block down since it is already the last");const i=r.holder,l=i.getBoundingClientRect();let d=Math.abs(window.innerHeight-i.offsetHeight);l.top<window.innerHeight&&(d=window.scrollY+i.offsetHeight),window.scrollTo(0,d),this.api.blocks.move(t+1),this.api.toolbar.toggleBlockSettings(!0)}};fv.isTune=!0;let pv=class{constructor({api:t}){this.api=t}render(){return{icon:l4,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}};pv.isTune=!0;let gv=class{constructor({api:t}){this.CSS={animation:"wobble"},this.api=t}render(){return{icon:s4,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const t=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(t),i=this.api.blocks.getBlockByIndex(t-1);if(t===0||!r||!i)throw new Error("Unable to move Block up since it is already the first");const l=r.holder,d=i.holder,f=l.getBoundingClientRect(),p=d.getBoundingClientRect();let m;p.top>0?m=Math.abs(f.top)-Math.abs(p.top):m=Math.abs(f.top)+p.height,window.scrollBy(0,-1*m),this.api.blocks.move(t-1),this.api.toolbar.toggleBlockSettings(!0)}};gv.isTune=!0;var z3=Object.defineProperty,H3=Object.getOwnPropertyDescriptor,I3=(a,t,r,i)=>{for(var l=H3(t,r),d=a.length-1,f;d>=0;d--)(f=a[d])&&(l=f(t,r,l)||l);return l&&z3(t,r,l),l};let mv=class extends we{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new nn,this.toolsUnavailable=new nn}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Jd({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const t=this.prepareConfig();this.factory=new D3(t,this.config,this.Editor.API);const r=this.getListOfPrepareFunctions(t);if(r.length===0)return Promise.resolve();await lk(r,i=>{this.toolPrepareMethodSuccess(i)},i=>{this.toolPrepareMethodFallback(i)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const t={};return Array.from(this.inlineTools.values()).forEach(r=>{Object.assign(t,r.sanitizeConfig)}),t}destroy(){Object.values(this.available).forEach(async t=>{Ue(t.reset)&&await t.reset()})}get internalTools(){return{convertTo:{class:dv,isInternal:!0},link:{class:hh,isInternal:!0},bold:{class:dh,isInternal:!0},italic:{class:uh,isInternal:!0},paragraph:{class:ch,inlineToolbar:!0,isInternal:!0},stub:{class:uv,isInternal:!0},moveUp:{class:gv,isInternal:!0},delete:{class:pv,isInternal:!0},moveDown:{class:fv,isInternal:!0}}}toolPrepareMethodSuccess(t){const r=this.factory.get(t.toolName);if(r.isInline()){const i=["render"].filter(l=>!r.create()[l]);if(i.length){Te(`Incorrect Inline Tool: ${r.name}. Some of required methods is not implemented %o`,"warn",i),this.toolsUnavailable.set(r.name,r);return}}this.toolsAvailable.set(r.name,r)}toolPrepareMethodFallback(t){this.toolsUnavailable.set(t.toolName,this.factory.get(t.toolName))}getListOfPrepareFunctions(t){const r=[];return Object.entries(t).forEach(([i,l])=>{r.push({function:Ue(l.class.prepare)?l.class.prepare:()=>{},data:{toolName:i,config:l.config}})}),r}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(t=>{this.assignInlineToolsToBlockTool(t),this.assignBlockTunesToBlockTool(t)})}assignInlineToolsToBlockTool(t){if(this.config.inlineToolbar!==!1){if(t.enabledInlineTools===!0){t.inlineTools=new nn(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(r=>[r,this.inlineTools.get(r)]):Array.from(this.inlineTools.entries()));return}Array.isArray(t.enabledInlineTools)&&(t.inlineTools=new nn(["convertTo",...t.enabledInlineTools].map(r=>[r,this.inlineTools.get(r)])))}}assignBlockTunesToBlockTool(t){if(t.enabledBlockTunes!==!1){if(Array.isArray(t.enabledBlockTunes)){const r=new nn(t.enabledBlockTunes.map(i=>[i,this.blockTunes.get(i)]));t.tunes=new nn([...r,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const r=new nn(this.config.tunes.map(i=>[i,this.blockTunes.get(i)]));t.tunes=new nn([...r,...this.blockTunes.internalTools]);return}t.tunes=this.blockTunes.internalTools}}validateTools(){for(const t in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,t)){if(t in this.internalTools)return;const r=this.config.tools[t];if(!Ue(r)&&!Ue(r.class))throw Error(`Tool ${t} must be a constructor function or an object with function in the class property`)}}prepareConfig(){const t={};for(const r in this.config.tools)st(this.config.tools[r])?t[r]=this.config.tools[r]:t[r]={class:this.config.tools[r]};return t}};I3([Do],mv.prototype,"getAllInlineToolsSanitizeConfig");const U3=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}
`;class P3 extends we{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=null,this.resizeDebouncer=g0(()=>{this.windowResize()},200),this.selectionChangeDebounced=g0(()=>{this.selectionChanged()},w3),this.documentTouchedListener=t=>{this.documentTouched(t)}}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache!==null)return this.contentRectCache;const t=this.nodes.wrapper.querySelector(`.${jn.CSS.content}`);return t?(this.contentRectCache=t.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.setIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(t){t?this.unbindReadOnlySensitiveListeners():window.requestIdleCallback(()=>{this.bindReadOnlySensitiveListeners()},{timeout:2e3})}checkEmptiness(){const{BlockManager:t}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,t.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:t,BlockSettings:r,InlineToolbar:i}=this.Editor;return!!(r.opened||i.opened||t.toolbox.opened)}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([t,r])=>r.flipper instanceof Ps).some(([t,r])=>r.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML="",this.unbindReadOnlyInsensitiveListeners()}closeAllToolbars(){const{Toolbar:t,BlockSettings:r,InlineToolbar:i}=this.Editor;r.close(),i.close(),t.toolbox.close()}setIsMobile(){const t=window.innerWidth<sb;t!==this.isMobile&&this.eventsDispatcher.emit(Za,{isEnabled:this.isMobile}),this.isMobile=t}make(){this.nodes.holder=F.getHolder(this.config.holder),this.nodes.wrapper=F.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=F.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper),this.bindReadOnlyInsensitiveListeners()}loadStyles(){const t="editor-js-styles";if(F.get(t))return;const r=F.make("style",null,{id:t,textContent:U3.toString()});this.config.style&&!$t(this.config.style)&&this.config.style.nonce&&r.setAttribute("nonce",this.config.style.nonce),F.prepend(document.head,r)}bindReadOnlyInsensitiveListeners(){this.listeners.on(document,"selectionchange",this.selectionChangeDebounced),this.listeners.on(window,"resize",this.resizeDebouncer,{passive:!0}),this.listeners.on(this.nodes.redactor,"mousedown",this.documentTouchedListener,{capture:!0,passive:!0}),this.listeners.on(this.nodes.redactor,"touchstart",this.documentTouchedListener,{capture:!0,passive:!0})}unbindReadOnlyInsensitiveListeners(){this.listeners.off(document,"selectionchange",this.selectionChangeDebounced),this.listeners.off(window,"resize",this.resizeDebouncer),this.listeners.off(this.nodes.redactor,"mousedown",this.documentTouchedListener),this.listeners.off(this.nodes.redactor,"touchstart",this.documentTouchedListener)}bindReadOnlySensitiveListeners(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",t=>{this.redactorClicked(t)},!1),this.readOnlyMutableListeners.on(document,"keydown",t=>{this.documentKeydown(t)},!0),this.readOnlyMutableListeners.on(document,"mousedown",t=>{this.documentClicked(t)},!0),this.watchBlockHoveredEvents(),this.enableInputsEmptyMark()}watchBlockHoveredEvents(){let t;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",Kd(r=>{const i=r.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||i&&t!==i&&(t=i,this.eventsDispatcher.emit(Lb,{block:this.Editor.BlockManager.getBlockByChildNode(i)}))},20),{passive:!0})}unbindReadOnlySensitiveListeners(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.setIsMobile()}documentKeydown(t){switch(t.keyCode){case ge.ENTER:this.enterPressed(t);break;case ge.BACKSPACE:case ge.DELETE:this.backspacePressed(t);break;case ge.ESC:this.escapePressed(t);break;default:this.defaultBehaviour(t);break}}defaultBehaviour(t){const{currentBlock:r}=this.Editor.BlockManager,i=t.target.closest(`.${this.CSS.editorWrapper}`),l=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;if(r!==void 0&&i===null){this.Editor.BlockEvents.keydown(t);return}i||r&&l||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close())}backspacePressed(t){const{BlockManager:r,BlockSelection:i,Caret:l}=this.Editor;if(i.anyBlockSelected&&!fe.isSelectionExists){const d=r.removeSelectedBlocks(),f=r.insertDefaultBlockAtIndex(d,!0);l.setToBlock(f,l.positions.START),i.clearSelection(t),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}}escapePressed(t){this.Editor.BlockSelection.clearSelection(t),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(t){const{BlockManager:r,BlockSelection:i}=this.Editor;if(this.someToolbarOpened)return;const l=r.currentBlockIndex>=0;if(i.anyBlockSelected&&!fe.isSelectionExists){i.clearSelection(t),t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation();return}if(!this.someToolbarOpened&&l&&t.target.tagName==="BODY"){const d=this.Editor.BlockManager.insert();t.preventDefault(),this.Editor.Caret.setToBlock(d),this.Editor.Toolbar.moveAndOpen(d)}this.Editor.BlockSelection.clearSelection(t)}documentClicked(t){var r,i;if(!t.isTrusted)return;const l=t.target;this.nodes.holder.contains(l)||fe.isAtEditor||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close());const d=(r=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:r.contains(l),f=(i=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:i.contains(l),p=d||f;if(this.Editor.BlockSettings.opened&&!p){this.Editor.BlockSettings.close();const m=this.Editor.BlockManager.getBlockByChildNode(l);this.Editor.Toolbar.moveAndOpen(m)}this.Editor.BlockSelection.clearSelection(t)}documentTouched(t){let r=t.target;if(r===this.nodes.redactor){const i=t instanceof MouseEvent?t.clientX:t.touches[0].clientX,l=t instanceof MouseEvent?t.clientY:t.touches[0].clientY;r=document.elementFromPoint(i,l)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(r)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.ReadOnly.isEnabled||this.Editor.Toolbar.moveAndOpen()}redactorClicked(t){if(!fe.isCollapsed)return;const r=t.target,i=t.metaKey||t.ctrlKey;if(F.isAnchor(r)&&i){t.stopImmediatePropagation(),t.stopPropagation();const l=r.getAttribute("href"),d=hk(l);pk(d);return}this.processBottomZoneClick(t)}processBottomZoneClick(t){const r=this.Editor.BlockManager.getBlockByIndex(-1),i=F.offset(r.holder).bottom,l=t.pageY,{BlockSelection:d}=this.Editor;if(t.target instanceof Element&&t.target.isEqualNode(this.nodes.redactor)&&!d.anyBlockSelected&&i<l){t.stopImmediatePropagation(),t.stopPropagation();const{BlockManager:f,Caret:p,Toolbar:m}=this.Editor;(!f.lastBlock.tool.isDefault||!f.lastBlock.isEmpty)&&f.insertAtEnd(),p.setToTheLastBlock(),m.moveAndOpen(f.lastBlock)}}selectionChanged(){const{CrossBlockSelection:t,BlockSelection:r}=this.Editor,i=fe.anchorElement;if(t.isCrossBlockSelectionStarted&&r.anyBlockSelected&&fe.get().removeAllRanges(),!i){fe.range||this.Editor.InlineToolbar.close();return}const l=i.closest(`.${jn.CSS.content}`);(l===null||l.closest(`.${fe.CSS.editorWrapper}`)!==this.nodes.wrapper)&&(this.Editor.InlineToolbar.containsNode(i)||this.Editor.InlineToolbar.close(),i.dataset.inlineToolbar!=="true")||(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(i),this.Editor.InlineToolbar.tryToShow(!0))}enableInputsEmptyMark(){function t(r){const i=r.target;lb(i)}this.readOnlyMutableListeners.on(this.nodes.wrapper,"input",t),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusin",t),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusout",t)}}const q3={BlocksAPI:Ck,CaretAPI:jk,EventsAPI:Nk,I18nAPI:Bk,API:Ok,InlineToolbarAPI:Mk,ListenersAPI:_k,NotifierAPI:Dk,ReadOnlyAPI:zk,SanitizerAPI:Fk,SaverAPI:$k,SelectionAPI:Vk,ToolsAPI:Xk,StylesAPI:Gk,ToolbarAPI:Zk,TooltipAPI:e4,UiAPI:t4,BlockSettings:j4,Toolbar:R4,InlineToolbar:D4,BlockEvents:p3,BlockManager:b3,BlockSelection:v3,Caret:x3,CrossBlockSelection:y3,DragNDrop:k3,ModificationsObserver:E3,Paste:C3,ReadOnly:T3,RectangleSelection:j3,Renderer:N3,Saver:B3,Tools:mv,UI:P3};class Y3{constructor(t){this.moduleInstances={},this.eventsDispatcher=new ti;let r,i;this.isReady=new Promise((l,d)=>{r=l,i=d}),Promise.resolve().then(async()=>{this.configuration=t,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:l,Caret:d,UI:f,ModificationsObserver:p}=this.moduleInstances;f.checkEmptiness(),p.enable(),this.configuration.autofocus===!0&&this.configuration.readOnly!==!0&&d.setToBlock(l.blocks[0],d.positions.START),r()}).catch(l=>{Te(`Editor.js is not ready because of ${l}`,"error"),i(l)})}set configuration(t){var r,i;st(t)?this.config={...t}:this.config={holder:t},Wd(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=ob.VERBOSE),ik(this.config.logLevel),Wd(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const l={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,($t(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[l]}),this.config.readOnly=this.config.readOnly||!1,(r=this.config.i18n)!=null&&r.messages&&gt.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((i=this.config.i18n)==null?void 0:i.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:t,holder:r}=this.config;if(t&&r)throw Error("holderId and holder param can't assign at the same time.");if(Nn(r)&&!F.get(r))throw Error(`element with ID ${r} is missing. Pass correct holder's ID.`);if(r&&st(r)&&!F.isElement(r))throw Error("holder value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((t,r)=>t.then(async()=>{try{await this.moduleInstances[r].prepare()}catch(i){if(i instanceof ub)throw new Error(i.message);Te(`Module ${r} was skipped because of %o`,"warn",i)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(q3).forEach(([t,r])=>{try{this.moduleInstances[t]=new r({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(i){Te("[constructModules]",`Module ${t} skipped because`,"error",i)}})}configureModules(){for(const t in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,t)&&(this.moduleInstances[t].state=this.getModulesDiff(t))}getModulesDiff(t){const r={};for(const i in this.moduleInstances)i!==t&&(r[i]=this.moduleInstances[i]);return r}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class bv{static get version(){return"2.31.0-rc.7"}constructor(t){let r=()=>{};st(t)&&Ue(t.onReady)&&(r=t.onReady);const i=new Y3(t);this.isReady=i.isReady.then(()=>{this.exportAPI(i),r()})}exportAPI(t){const r=["configuration"],i=()=>{Object.values(t.moduleInstances).forEach(l=>{Ue(l.destroy)&&l.destroy(),l.listeners.removeAll()}),Wk(),t=null;for(const l in this)Object.prototype.hasOwnProperty.call(this,l)&&delete this[l];Object.setPrototypeOf(this,null)};r.forEach(l=>{this[l]=t[l]}),this.destroy=i,Object.setPrototypeOf(this,t.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([l,d])=>{Object.entries(d).forEach(([f,p])=>{this[p]=t.moduleInstances.API.methods[l][f]})})}}(function(){try{if(typeof document<"u"){var a=document.createElement("style");a.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}")),document.head.appendChild(a)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const F3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',$3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',V3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',X3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',G3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',Z3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',Q3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */let vv=class{constructor({data:t,config:r,api:i,readOnly:l}){this.api=i,this.readOnly=l,this._settings=r,this._data=this.normalizeData(t),this._element=this.getTag()}get _CSS(){return{block:this.api.styles.block,wrapper:"ce-header"}}isHeaderData(t){return t.text!==void 0}normalizeData(t){const r={text:"",level:this.defaultLevel.number};return this.isHeaderData(t)&&(r.text=t.text||"",t.level!==void 0&&!isNaN(parseInt(t.level.toString()))&&(r.level=parseInt(t.level.toString()))),r}render(){return this._element}renderSettings(){return this.levels.map(t=>({icon:t.svg,label:this.api.i18n.t(`Heading ${t.number}`),onActivate:()=>this.setLevel(t.number),closeOnActivate:!0,isActive:this.currentLevel.number===t.number,render:()=>document.createElement("div")}))}setLevel(t){this.data={level:t,text:this.data.text}}merge(t){this._element.insertAdjacentHTML("beforeend",t.text)}validate(t){return t.text.trim()!==""}save(t){return{text:t.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(t){if(this._data=this.normalizeData(t),t.level!==void 0&&this._element.parentNode){const r=this.getTag();r.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(r,this._element),this._element=r}t.text!==void 0&&(this._element.innerHTML=this._data.text||"")}getTag(){const t=document.createElement(this.currentLevel.tag);return t.innerHTML=this._data.text||"",t.classList.add(this._CSS.wrapper),t.contentEditable=this.readOnly?"false":"true",t.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),t}get currentLevel(){let t=this.levels.find(r=>r.number===this._data.level);return t||(t=this.defaultLevel),t}get defaultLevel(){if(this._settings.defaultLevel){const t=this.levels.find(r=>r.number===this._settings.defaultLevel);if(t)return t;console.warn("('-') Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){const t=[{number:1,tag:"H1",svg:F3},{number:2,tag:"H2",svg:$3},{number:3,tag:"H3",svg:V3},{number:4,tag:"H4",svg:X3},{number:5,tag:"H5",svg:G3},{number:6,tag:"H6",svg:Z3}];return this._settings.levels?t.filter(r=>this._settings.levels.includes(r.number)):t}onPaste(t){const r=t.detail;if("data"in r){const i=r.data;let l=this.defaultLevel.number;switch(i.tagName){case"H1":l=1;break;case"H2":l=2;break;case"H3":l=3;break;case"H4":l=4;break;case"H5":l=5;break;case"H6":l=6;break}this._settings.levels&&(l=this._settings.levels.reduce((d,f)=>Math.abs(f-l)<Math.abs(d-l)?f:d)),this.data={level:l,text:i.innerHTML}}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:Q3,title:"Heading"}}};(function(){try{if(typeof document<"u"){var a=document.createElement("style");a.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px;padding-bottom:0}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption{visibility:hidden;position:absolute;bottom:0;left:0;margin-bottom:10px}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__image-preloader{display:none}.image-tool--empty .image-tool__caption,.image-tool--uploading .image-tool__caption{visibility:hidden!important}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--uploading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--uploading .image-tool__image-picture,.image-tool--uploading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}.image-tool--caption .image-tool__caption{visibility:visible}.image-tool--caption{padding-bottom:50px}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(a)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const K3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',J3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',xv='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>',W3='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>',e6='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function Eo(a,t=null,r={}){const i=document.createElement(a);Array.isArray(t)?i.classList.add(...t):t!==null&&i.classList.add(t);for(const l in r)r.hasOwnProperty(l)&&(i[l]=r[l]);return i}var Ns=(a=>(a.Empty="empty",a.Uploading="uploading",a.Filled="filled",a))(Ns||{});let t6=class{constructor({api:t,config:r,onSelectFile:i,readOnly:l}){this.api=t,this.config=r,this.onSelectFile=i,this.readOnly=l,this.nodes={wrapper:Eo("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:Eo("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:Eo("div",this.CSS.imagePreloader),caption:Eo("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}applyTune(t,r){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${t}`,r)}render(){return this.toggleStatus("empty"),this.nodes.wrapper}showPreloader(t){this.nodes.imagePreloader.style.backgroundImage=`url(${t})`,this.toggleStatus("uploading")}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus("empty")}fillImage(t){const r=/\.mp4$/.test(t)?"VIDEO":"IMG",i={src:t};let l="load";r==="VIDEO"&&(i.autoplay=!0,i.loop=!0,i.muted=!0,i.playsinline=!0,l="loadeddata"),this.nodes.imageEl=Eo(r,this.CSS.imageEl,i),this.nodes.imageEl.addEventListener(l,()=>{this.toggleStatus("filled"),this.nodes.imagePreloader!==void 0&&(this.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(t){this.nodes.caption!==void 0&&(this.nodes.caption.innerHTML=t)}toggleStatus(t){for(const r in Ns)if(Object.prototype.hasOwnProperty.call(Ns,r)){const i=Ns[r];this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${i}`,i===t)}}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}createFileButton(){const t=Eo("div",[this.CSS.button]);return t.innerHTML=this.config.buttonContent??`${xv} ${this.api.i18n.t("Select an Image")}`,t.addEventListener("click",()=>{this.onSelectFile()}),t}};function n6(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var yv={exports:{}};(function(a,t){(function(r,i){a.exports=i()})(window,function(){return function(r){var i={};function l(d){if(i[d])return i[d].exports;var f=i[d]={i:d,l:!1,exports:{}};return r[d].call(f.exports,f,f.exports,l),f.l=!0,f.exports}return l.m=r,l.c=i,l.d=function(d,f,p){l.o(d,f)||Object.defineProperty(d,f,{enumerable:!0,get:p})},l.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},l.t=function(d,f){if(1&f&&(d=l(d)),8&f||4&f&&typeof d=="object"&&d&&d.__esModule)return d;var p=Object.create(null);if(l.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:d}),2&f&&typeof d!="string")for(var m in d)l.d(p,m,(function(g){return d[g]}).bind(null,m));return p},l.n=function(d){var f=d&&d.__esModule?function(){return d.default}:function(){return d};return l.d(f,"a",f),f},l.o=function(d,f){return Object.prototype.hasOwnProperty.call(d,f)},l.p="",l(l.s=3)}([function(r,i){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch{typeof window=="object"&&(l=window)}r.exports=l},function(r,i,l){(function(d){var f=l(2),p=setTimeout;function m(){}function g(T){if(!(this instanceof g))throw new TypeError("Promises must be constructed via new");if(typeof T!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],k(T,this)}function v(T,D){for(;T._state===3;)T=T._value;T._state!==0?(T._handled=!0,g._immediateFn(function(){var I=T._state===1?D.onFulfilled:D.onRejected;if(I!==null){var H;try{H=I(T._value)}catch(M){return void w(D.promise,M)}y(D.promise,H)}else(T._state===1?y:w)(D.promise,T._value)})):T._deferreds.push(D)}function y(T,D){try{if(D===T)throw new TypeError("A promise cannot be resolved with itself.");if(D&&(typeof D=="object"||typeof D=="function")){var I=D.then;if(D instanceof g)return T._state=3,T._value=D,void B(T);if(typeof I=="function")return void k((H=I,M=D,function(){H.apply(M,arguments)}),T)}T._state=1,T._value=D,B(T)}catch(U){w(T,U)}var H,M}function w(T,D){T._state=2,T._value=D,B(T)}function B(T){T._state===2&&T._deferreds.length===0&&g._immediateFn(function(){T._handled||g._unhandledRejectionFn(T._value)});for(var D=0,I=T._deferreds.length;D<I;D++)v(T,T._deferreds[D]);T._deferreds=null}function S(T,D,I){this.onFulfilled=typeof T=="function"?T:null,this.onRejected=typeof D=="function"?D:null,this.promise=I}function k(T,D){var I=!1;try{T(function(H){I||(I=!0,y(D,H))},function(H){I||(I=!0,w(D,H))})}catch(H){if(I)return;I=!0,w(D,H)}}g.prototype.catch=function(T){return this.then(null,T)},g.prototype.then=function(T,D){var I=new this.constructor(m);return v(this,new S(T,D,I)),I},g.prototype.finally=f.a,g.all=function(T){return new g(function(D,I){if(!T||T.length===void 0)throw new TypeError("Promise.all accepts an array");var H=Array.prototype.slice.call(T);if(H.length===0)return D([]);var M=H.length;function U(Q,G){try{if(G&&(typeof G=="object"||typeof G=="function")){var Z=G.then;if(typeof Z=="function")return void Z.call(G,function(ie){U(Q,ie)},I)}H[Q]=G,--M==0&&D(H)}catch(ie){I(ie)}}for(var ne=0;ne<H.length;ne++)U(ne,H[ne])})},g.resolve=function(T){return T&&typeof T=="object"&&T.constructor===g?T:new g(function(D){D(T)})},g.reject=function(T){return new g(function(D,I){I(T)})},g.race=function(T){return new g(function(D,I){for(var H=0,M=T.length;H<M;H++)T[H].then(D,I)})},g._immediateFn=typeof d=="function"&&function(T){d(T)}||function(T){p(T,0)},g._unhandledRejectionFn=function(T){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",T)},i.a=g}).call(this,l(5).setImmediate)},function(r,i,l){i.a=function(d){var f=this.constructor;return this.then(function(p){return f.resolve(d()).then(function(){return p})},function(p){return f.resolve(d()).then(function(){return f.reject(p)})})}},function(r,i,l){function d(k){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(k)}l(4);var f,p,m,g,v,y,w,B=l(8),S=(p=function(k){return new Promise(function(T,D){k=g(k),(k=v(k)).beforeSend&&k.beforeSend();var I=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");I.open(k.method,k.url),I.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(k.headers).forEach(function(M){var U=k.headers[M];I.setRequestHeader(M,U)});var H=k.ratio;I.upload.addEventListener("progress",function(M){var U=Math.round(M.loaded/M.total*100),ne=Math.ceil(U*H/100);k.progress(Math.min(ne,100))},!1),I.addEventListener("progress",function(M){var U=Math.round(M.loaded/M.total*100),ne=Math.ceil(U*(100-H)/100)+H;k.progress(Math.min(ne,100))},!1),I.onreadystatechange=function(){if(I.readyState===4){var M=I.response;try{M=JSON.parse(M)}catch{}var U=B.parseHeaders(I.getAllResponseHeaders()),ne={body:M,code:I.status,headers:U};w(I.status)?T(ne):D(ne)}},I.send(k.data)})},m=function(k){return k.method="POST",p(k)},g=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(k.url&&typeof k.url!="string")throw new Error("Url must be a string");if(k.url=k.url||"",k.method&&typeof k.method!="string")throw new Error("`method` must be a string or null");if(k.method=k.method?k.method.toUpperCase():"GET",k.headers&&d(k.headers)!=="object")throw new Error("`headers` must be an object or null");if(k.headers=k.headers||{},k.type&&(typeof k.type!="string"||!Object.values(f).includes(k.type)))throw new Error("`type` must be taken from module's contentType library");if(k.progress&&typeof k.progress!="function")throw new Error("`progress` must be a function or null");if(k.progress=k.progress||function(T){},k.beforeSend=k.beforeSend||function(T){},k.ratio&&typeof k.ratio!="number")throw new Error("`ratio` must be a number");if(k.ratio<0||k.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(k.ratio=k.ratio||90,k.accept&&typeof k.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(k.accept=k.accept||"*/*",k.multiple&&typeof k.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(k.multiple=k.multiple||!1,k.fieldName&&typeof k.fieldName!="string")throw new Error("`fieldName` must be a string");return k.fieldName=k.fieldName||"files",k},v=function(k){switch(k.method){case"GET":var T=y(k.data,f.URLENCODED);delete k.data,k.url=/\?/.test(k.url)?k.url+"&"+T:k.url+"?"+T;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var D=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||f.JSON}(k);(B.isFormData(k.data)||B.isFormElement(k.data))&&(D=f.FORM),k.data=y(k.data,D),D!==S.contentType.FORM&&(k.headers["content-type"]=D)}return k},y=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case f.URLENCODED:return B.urlEncode(k);case f.JSON:return B.jsonEncode(k);case f.FORM:return B.formEncode(k);default:return k}},w=function(k){return k>=200&&k<300},{contentType:f={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:p,get:function(k){return k.method="GET",p(k)},post:m,transport:function(k){return k=g(k),B.selectFiles(k).then(function(T){for(var D=new FormData,I=0;I<T.length;I++)D.append(k.fieldName,T[I],T[I].name);B.isObject(k.data)&&Object.keys(k.data).forEach(function(M){var U=k.data[M];D.append(M,U)});var H=k.beforeSend;return k.beforeSend=function(){return H(T)},k.data=D,m(k)})},selectFiles:function(k){return delete(k=g(k)).beforeSend,B.selectFiles(k)}});r.exports=S},function(r,i,l){l.r(i);var d=l(1);window.Promise=window.Promise||d.a},function(r,i,l){(function(d){var f=d!==void 0&&d||typeof self<"u"&&self||window,p=Function.prototype.apply;function m(g,v){this._id=g,this._clearFn=v}i.setTimeout=function(){return new m(p.call(setTimeout,f,arguments),clearTimeout)},i.setInterval=function(){return new m(p.call(setInterval,f,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(g){g&&g.close()},m.prototype.unref=m.prototype.ref=function(){},m.prototype.close=function(){this._clearFn.call(f,this._id)},i.enroll=function(g,v){clearTimeout(g._idleTimeoutId),g._idleTimeout=v},i.unenroll=function(g){clearTimeout(g._idleTimeoutId),g._idleTimeout=-1},i._unrefActive=i.active=function(g){clearTimeout(g._idleTimeoutId);var v=g._idleTimeout;v>=0&&(g._idleTimeoutId=setTimeout(function(){g._onTimeout&&g._onTimeout()},v))},l(6),i.setImmediate=typeof self<"u"&&self.setImmediate||d!==void 0&&d.setImmediate||this&&this.setImmediate,i.clearImmediate=typeof self<"u"&&self.clearImmediate||d!==void 0&&d.clearImmediate||this&&this.clearImmediate}).call(this,l(0))},function(r,i,l){(function(d,f){(function(p,m){if(!p.setImmediate){var g,v,y,w,B,S=1,k={},T=!1,D=p.document,I=Object.getPrototypeOf&&Object.getPrototypeOf(p);I=I&&I.setTimeout?I:p,{}.toString.call(p.process)==="[object process]"?g=function(U){f.nextTick(function(){M(U)})}:function(){if(p.postMessage&&!p.importScripts){var U=!0,ne=p.onmessage;return p.onmessage=function(){U=!1},p.postMessage("","*"),p.onmessage=ne,U}}()?(w="setImmediate$"+Math.random()+"$",B=function(U){U.source===p&&typeof U.data=="string"&&U.data.indexOf(w)===0&&M(+U.data.slice(w.length))},p.addEventListener?p.addEventListener("message",B,!1):p.attachEvent("onmessage",B),g=function(U){p.postMessage(w+U,"*")}):p.MessageChannel?((y=new MessageChannel).port1.onmessage=function(U){M(U.data)},g=function(U){y.port2.postMessage(U)}):D&&"onreadystatechange"in D.createElement("script")?(v=D.documentElement,g=function(U){var ne=D.createElement("script");ne.onreadystatechange=function(){M(U),ne.onreadystatechange=null,v.removeChild(ne),ne=null},v.appendChild(ne)}):g=function(U){setTimeout(M,0,U)},I.setImmediate=function(U){typeof U!="function"&&(U=new Function(""+U));for(var ne=new Array(arguments.length-1),Q=0;Q<ne.length;Q++)ne[Q]=arguments[Q+1];var G={callback:U,args:ne};return k[S]=G,g(S),S++},I.clearImmediate=H}function H(U){delete k[U]}function M(U){if(T)setTimeout(M,0,U);else{var ne=k[U];if(ne){T=!0;try{(function(Q){var G=Q.callback,Z=Q.args;switch(Z.length){case 0:G();break;case 1:G(Z[0]);break;case 2:G(Z[0],Z[1]);break;case 3:G(Z[0],Z[1],Z[2]);break;default:G.apply(m,Z)}})(ne)}finally{H(U),T=!1}}}}})(typeof self>"u"?d===void 0?this:d:self)}).call(this,l(0),l(7))},function(r,i){var l,d,f=r.exports={};function p(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}function g(I){if(l===setTimeout)return setTimeout(I,0);if((l===p||!l)&&setTimeout)return l=setTimeout,setTimeout(I,0);try{return l(I,0)}catch{try{return l.call(null,I,0)}catch{return l.call(this,I,0)}}}(function(){try{l=typeof setTimeout=="function"?setTimeout:p}catch{l=p}try{d=typeof clearTimeout=="function"?clearTimeout:m}catch{d=m}})();var v,y=[],w=!1,B=-1;function S(){w&&v&&(w=!1,v.length?y=v.concat(y):B=-1,y.length&&k())}function k(){if(!w){var I=g(S);w=!0;for(var H=y.length;H;){for(v=y,y=[];++B<H;)v&&v[B].run();B=-1,H=y.length}v=null,w=!1,function(M){if(d===clearTimeout)return clearTimeout(M);if((d===m||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(M);try{d(M)}catch{try{return d.call(null,M)}catch{return d.call(this,M)}}}(I)}}function T(I,H){this.fun=I,this.array=H}function D(){}f.nextTick=function(I){var H=new Array(arguments.length-1);if(arguments.length>1)for(var M=1;M<arguments.length;M++)H[M-1]=arguments[M];y.push(new T(I,H)),y.length!==1||w||g(k)},T.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=D,f.addListener=D,f.once=D,f.off=D,f.removeListener=D,f.removeAllListeners=D,f.emit=D,f.prependListener=D,f.prependOnceListener=D,f.listeners=function(I){return[]},f.binding=function(I){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(I){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(r,i,l){function d(p,m){for(var g=0;g<m.length;g++){var v=m[g];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}var f=l(9);r.exports=function(){function p(){(function(y,w){if(!(y instanceof w))throw new TypeError("Cannot call a class as a function")})(this,p)}var m,g,v;return m=p,v=[{key:"urlEncode",value:function(y){return f(y)}},{key:"jsonEncode",value:function(y){return JSON.stringify(y)}},{key:"formEncode",value:function(y){if(this.isFormData(y))return y;if(this.isFormElement(y))return new FormData(y);if(this.isObject(y)){var w=new FormData;return Object.keys(y).forEach(function(B){var S=y[B];w.append(B,S)}),w}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(y){return Object.prototype.toString.call(y)==="[object Object]"}},{key:"isFormData",value:function(y){return y instanceof FormData}},{key:"isFormElement",value:function(y){return y instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(w,B){var S=document.createElement("INPUT");S.type="file",y.multiple&&S.setAttribute("multiple","multiple"),y.accept&&S.setAttribute("accept",y.accept),S.style.display="none",document.body.appendChild(S),S.addEventListener("change",function(k){var T=k.target.files;w(T),document.body.removeChild(S)},!1),S.click()})}},{key:"parseHeaders",value:function(y){var w=y.trim().split(/[\r\n]+/),B={};return w.forEach(function(S){var k=S.split(": "),T=k.shift(),D=k.join(": ");T&&(B[T]=D)}),B}}],(g=null)&&d(m.prototype,g),v&&d(m,v),p}()},function(r,i){var l=function(f){return encodeURIComponent(f).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},d=function(f,p,m,g){return p=p||null,m=m||"&",g=g||null,f?function(v){for(var y=new Array,w=0;w<v.length;w++)v[w]&&y.push(v[w]);return y}(Object.keys(f).map(function(v){var y,w,B=v;if(g&&(B=g+"["+B+"]"),typeof f[v]=="object"&&f[v]!==null)y=d(f[v],null,m,B);else{p&&(w=B,B=!isNaN(parseFloat(w))&&isFinite(w)?p+Number(B):B);var S=f[v];S=(S=(S=(S=S===!0?"1":S)===!1?"0":S)===0?"0":S)||"",y=l(B)+"="+l(S)}return y})).join(m).replace(/[!'()*]/g,""):""};r.exports=d}])})})(yv);var r6=yv.exports;const Co=n6(r6);function Pd(a){return a!==void 0&&typeof a.then=="function"}let o6=class{constructor({config:t,onUpload:r,onError:i}){this.config=t,this.onUpload=r,this.onError=i}uploadSelectedFile({onPreview:t}){const r=function(l){const d=new FileReader;d.readAsDataURL(l),d.onload=f=>{t(f.target.result)}};let i;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"){const l=this.config.uploader.uploadByFile;i=Co.selectFiles({accept:this.config.types??"image/*"}).then(d=>{r(d[0]);const f=l(d[0]);return Pd(f)||console.warn("Custom uploader method uploadByFile should return a Promise"),f})}else i=Co.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types??"image/*",headers:this.config.additionalRequestHeaders,beforeSend:l=>{r(l[0])},fieldName:this.config.field??"image"}).then(l=>l.body);i.then(l=>{this.onUpload(l)}).catch(l=>{this.onError(l)})}uploadByUrl(t){let r;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?(r=this.config.uploader.uploadByUrl(t),Pd(r)||console.warn("Custom uploader method uploadByUrl should return a Promise")):r=Co.post({url:this.config.endpoints.byUrl,data:Object.assign({url:t},this.config.additionalRequestData),type:Co.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(i=>i.body),r.then(i=>{this.onUpload(i)}).catch(i=>{this.onError(i)})}uploadByFile(t,{onPreview:r}){const i=new FileReader;i.readAsDataURL(t),i.onload=d=>{r(d.target.result)};let l;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")l=this.config.uploader.uploadByFile(t),Pd(l)||console.warn("Custom uploader method uploadByFile should return a Promise");else{const d=new FormData;d.append(this.config.field??"image",t),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([f,p])=>{d.append(f,p)}),l=Co.post({url:this.config.endpoints.byFile,data:d,type:Co.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(f=>f.body)}l.then(d=>{this.onUpload(d)}).catch(d=>{this.onError(d)})}};/**
 * Image Tool for the Editor.js
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.ts  main Tool's interface, public API and methods for working with data
 *  2) uploader.ts  module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.ts  module for UI manipulations: render, showing preloader, etc
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */let kv=class su{constructor({data:t,config:r,api:i,readOnly:l,block:d}){this.isCaptionEnabled=null,this.api=i,this.block=d,this.config={endpoints:r.endpoints,additionalRequestData:r.additionalRequestData,additionalRequestHeaders:r.additionalRequestHeaders,field:r.field,types:r.types,captionPlaceholder:this.api.i18n.t(r.captionPlaceholder??"Caption"),buttonContent:r.buttonContent,uploader:r.uploader,actions:r.actions,features:r.features||{}},this.uploader=new o6({config:this.config,onUpload:f=>this.onUpload(f),onError:f=>this.uploadingFailed(f)}),this.ui=new t6({api:i,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:f=>{this.ui.showPreloader(f)}})},readOnly:l}),this._data={caption:"",withBorder:!1,withBackground:!1,stretched:!1,file:{url:""}},this.data=t}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:xv,title:"Image"}}static get tunes(){return[{name:"withBorder",icon:J3,title:"With border",toggle:!0},{name:"stretched",icon:W3,title:"Stretch image",toggle:!0},{name:"withBackground",icon:K3,title:"With background",toggle:!0}]}render(){var t,r,i;return(((t=this.config.features)==null?void 0:t.caption)===!0||((r=this.config.features)==null?void 0:r.caption)===void 0||((i=this.config.features)==null?void 0:i.caption)==="optional"&&this.data.caption)&&(this.isCaptionEnabled=!0,this.ui.applyTune("caption",!0)),this.ui.render()}validate(t){return!!t.file.url}save(){const t=this.ui.nodes.caption;return this._data.caption=t.innerHTML,this.data}renderSettings(){var t;const r=su.tunes.concat(this.config.actions||[]),i={border:"withBorder",background:"withBackground",stretch:"stretched",caption:"caption"};((t=this.config.features)==null?void 0:t.caption)==="optional"&&r.push({name:"caption",icon:e6,title:"With caption",toggle:!0});const l=r.filter(f=>{var p,m;const g=Object.keys(i).find(v=>i[v]===f.name);return g==="caption"?((p=this.config.features)==null?void 0:p.caption)!==!1:g==null||((m=this.config.features)==null?void 0:m[g])!==!1}),d=f=>{let p=this.data[f.name];return f.name==="caption"&&(p=this.isCaptionEnabled??p),p};return l.map(f=>({icon:f.icon,label:this.api.i18n.t(f.title),name:f.name,toggle:f.toggle,isActive:d(f),onActivate:()=>{if(typeof f.action=="function"){f.action(f.name);return}let p=!d(f);f.name==="caption"&&(this.isCaptionEnabled=!(this.isCaptionEnabled??!1),p=this.isCaptionEnabled),this.tuneToggled(f.name,p)}}))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(t){switch(t.type){case"tag":{const r=t.detail.data;if(/^blob:/.test(r.src)){const i=await(await fetch(r.src)).blob();this.uploadFile(i);break}this.uploadUrl(r.src);break}case"pattern":{const r=t.detail.data;this.uploadUrl(r);break}case"file":{const r=t.detail.file;this.uploadFile(r);break}}}set data(t){var r;this.image=t.file,this._data.caption=t.caption||"",this.ui.fillCaption(this._data.caption),su.tunes.forEach(({name:i})=>{const l=typeof t[i]<"u"?t[i]===!0||t[i]==="true":!1;this.setTune(i,l)}),t.caption?this.setTune("caption",!0):((r=this.config.features)==null?void 0:r.caption)===!0&&this.setTune("caption",!0)}get data(){return this._data}set image(t){this._data.file=t||{url:""},t&&t.url&&this.ui.fillImage(t.url)}onUpload(t){t.success&&t.file?this.image=t.file:this.uploadingFailed("incorrect response: "+JSON.stringify(t))}uploadingFailed(t){console.log("Image Tool: uploading failed because of",t),this.api.notifier.show({message:this.api.i18n.t("Couldnt upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(t,r){t==="caption"?(this.ui.applyTune(t,r),r==!1&&(this._data.caption="",this.ui.fillCaption(""))):this.setTune(t,r)}setTune(t,r){this._data[t]=r,this.ui.applyTune(t,r),t==="stretched"&&Promise.resolve().then(()=>{this.block.stretched=r}).catch(i=>{console.error(i)})}uploadFile(t){this.uploader.uploadByFile(t,{onPreview:r=>{this.ui.showPreloader(r)}})}uploadUrl(t){this.ui.showPreloader(t),this.uploader.uploadByUrl(t)}};(function(){try{if(typeof document<"u"){var a=document.createElement("style");a.appendChild(document.createTextNode('.cdx-list{margin:0;padding:0;outline:none;display:grid;counter-reset:item;gap:var(--spacing-s);padding:var(--spacing-xs);--spacing-s: 8px;--spacing-xs: 6px;--list-counter-type: numeric;--radius-border: 5px;--checkbox-background: #fff;--color-border: #C9C9C9;--color-bg-checked: #369FFF;--line-height: 1.45em;--color-bg-checked-hover: #0059AB;--color-tick: #fff;--size-checkbox: 1.2em}.cdx-list__item{line-height:var(--line-height);display:grid;grid-template-columns:auto 1fr;grid-template-rows:auto auto;grid-template-areas:"checkbox content" ". child"}.cdx-list__item-children{display:grid;grid-area:child;gap:var(--spacing-s);padding-top:var(--spacing-s)}.cdx-list__item [contenteditable]{outline:none}.cdx-list__item-content{word-break:break-word;white-space:pre-wrap;grid-area:content;padding-left:var(--spacing-s)}.cdx-list__item:before{counter-increment:item;white-space:nowrap}.cdx-list-ordered .cdx-list__item:before{content:counters(item,".",var(--list-counter-type)) "."}.cdx-list-ordered{counter-reset:item}.cdx-list-unordered .cdx-list__item:before{content:""}.cdx-list-checklist .cdx-list__item:before{content:""}.cdx-list__settings .cdx-settings-button{width:50%}.cdx-list__checkbox{padding-top:calc((var(--line-height) - var(--size-checkbox)) / 2);grid-area:checkbox;width:var(--size-checkbox);height:var(--size-checkbox);display:flex;cursor:pointer}.cdx-list__checkbox svg{opacity:0;height:var(--size-checkbox);width:var(--size-checkbox);left:-1px;top:-1px;position:absolute}@media (hover: hover){.cdx-list__checkbox:not(.cdx-list__checkbox--no-hover):hover .cdx-list__checkbox-check svg{opacity:1}}.cdx-list__checkbox--checked{line-height:var(--line-height)}@media (hover: hover){.cdx-list__checkbox--checked:not(.cdx-list__checkbox--checked--no-hover):hover .cdx-checklist__checkbox-check{background:var(--color-bg-checked-hover);border-color:var(--color-bg-checked-hover)}}.cdx-list__checkbox--checked .cdx-list__checkbox-check{background:var(--color-bg-checked);border-color:var(--color-bg-checked)}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg{opacity:1}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg path{stroke:var(--color-tick)}.cdx-list__checkbox--checked .cdx-list__checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}.cdx-list__checkbox-check{cursor:pointer;display:inline-block;position:relative;margin:0 auto;width:var(--size-checkbox);height:var(--size-checkbox);box-sizing:border-box;border-radius:var(--radius-border);border:1px solid var(--color-border);background:var(--checkbox-background)}.cdx-list__checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:var(--color-bg-checked);visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}.cdx-list-start-with-field{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-list-start-with-field--invalid{background:#FFECED;border:1px solid #E13F3F}.cdx-list-start-with-field--invalid .cdx-list-start-with-field__input{color:#e13f3f}.cdx-list-start-with-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - var(--toolbox-buttons-size) - var(--icon-margin-right))}.cdx-list-start-with-field__input::placeholder{color:var(--grayText);font-weight:500}')),document.head.appendChild(a)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();const a6='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',T0='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',j0='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',N0='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',i6='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 14.2L10 7.4135C10 7.32872 9.90111 7.28241 9.83598 7.33668L7 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',s6='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 9.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 7.01L10 7" stroke="black" stroke-width="1.8" stroke-linecap="round"/></svg>',l6='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 7.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',c6='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.0087 14.2H16" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M7 14.2L7.78865 12M13 14.2L12.1377 12M7.78865 12C7.78865 12 9.68362 7 10 7C10.3065 7 12.1377 12 12.1377 12M7.78865 12L12.1377 12" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',d6='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.2087 14.2H14.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M11.5 14.5C11.5 14.5 11 13.281 11 12.5M7 9.5C7 9.5 7.5 8.5 9 8.5C10.5 8.5 11 9.5 11 10.5L11 11.5M11 11.5L11 12.5M11 11.5C11 11.5 7 11 7 13C7 15.3031 11 15 11 12.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',u6='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 14.2L8 7.4135C8 7.32872 7.90111 7.28241 7.83598 7.33668L5 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M14 13L16.4167 10.7778M16.4167 10.7778L14 8.5M16.4167 10.7778H11.6562" stroke="black" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>';var Fs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h6(a){if(a.__esModule)return a;var t=a.default;if(typeof t=="function"){var r=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(a).forEach(function(i){var l=Object.getOwnPropertyDescriptor(a,i);Object.defineProperty(r,i,l.get?l:{enumerable:!0,get:function(){return a[i]}})}),r}var Le={},ph={},gh={};Object.defineProperty(gh,"__esModule",{value:!0});gh.allInputsSelector=f6;function f6(){var a=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+a.map(function(t){return'input[type="'.concat(t,'"]')}).join(", ")}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.allInputsSelector=void 0;var t=gh;Object.defineProperty(a,"allInputsSelector",{enumerable:!0,get:function(){return t.allInputsSelector}})})(ph);var zr={},mh={};Object.defineProperty(mh,"__esModule",{value:!0});mh.isNativeInput=p6;function p6(a){var t=["INPUT","TEXTAREA"];return a&&a.tagName?t.includes(a.tagName):!1}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isNativeInput=void 0;var t=mh;Object.defineProperty(a,"isNativeInput",{enumerable:!0,get:function(){return t.isNativeInput}})})(zr);var wv={},bh={};Object.defineProperty(bh,"__esModule",{value:!0});bh.append=g6;function g6(a,t){Array.isArray(t)?t.forEach(function(r){a.appendChild(r)}):a.appendChild(t)}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.append=void 0;var t=bh;Object.defineProperty(a,"append",{enumerable:!0,get:function(){return t.append}})})(wv);var vh={},xh={};Object.defineProperty(xh,"__esModule",{value:!0});xh.blockElements=m6;function m6(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.blockElements=void 0;var t=xh;Object.defineProperty(a,"blockElements",{enumerable:!0,get:function(){return t.blockElements}})})(vh);var Sv={},yh={};Object.defineProperty(yh,"__esModule",{value:!0});yh.calculateBaseline=b6;function b6(a){var t=window.getComputedStyle(a),r=parseFloat(t.fontSize),i=parseFloat(t.lineHeight)||r*1.2,l=parseFloat(t.paddingTop),d=parseFloat(t.borderTopWidth),f=parseFloat(t.marginTop),p=r*.8,m=(i-r)/2,g=f+d+l+m+p;return g}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.calculateBaseline=void 0;var t=yh;Object.defineProperty(a,"calculateBaseline",{enumerable:!0,get:function(){return t.calculateBaseline}})})(Sv);var Ev={},kh={},wh={},Sh={};Object.defineProperty(Sh,"__esModule",{value:!0});Sh.isContentEditable=v6;function v6(a){return a.contentEditable==="true"}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isContentEditable=void 0;var t=Sh;Object.defineProperty(a,"isContentEditable",{enumerable:!0,get:function(){return t.isContentEditable}})})(wh);Object.defineProperty(kh,"__esModule",{value:!0});kh.canSetCaret=k6;var x6=zr,y6=wh;function k6(a){var t=!0;if((0,x6.isNativeInput)(a))switch(a.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1;break}else t=(0,y6.isContentEditable)(a);return t}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.canSetCaret=void 0;var t=kh;Object.defineProperty(a,"canSetCaret",{enumerable:!0,get:function(){return t.canSetCaret}})})(Ev);var rl={},Eh={};function w6(a,t,r){const i=r.value!==void 0?"value":"get",l=r[i],d=`#${t}Cache`;if(r[i]=function(...f){return this[d]===void 0&&(this[d]=l.apply(this,f)),this[d]},i==="get"&&r.set){const f=r.set;r.set=function(p){delete a[d],f.apply(this,p)}}return r}function Cv(){const a={win:!1,mac:!1,x11:!1,linux:!1},t=Object.keys(a).find(r=>window.navigator.appVersion.toLowerCase().indexOf(r)!==-1);return t!==void 0&&(a[t]=!0),a}function Ch(a){return a!=null&&a!==""&&(typeof a!="object"||Object.keys(a).length>0)}function S6(a){return!Ch(a)}const E6=()=>typeof window<"u"&&window.navigator!==null&&Ch(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function C6(a){const t=Cv();return a=a.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi,"+"),t.mac?a=a.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):a=a.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),a}function T6(a){return a[0].toUpperCase()+a.slice(1)}function j6(a){const t=document.createElement("div");t.style.position="absolute",t.style.left="-999px",t.style.bottom="-999px",t.innerHTML=a,document.body.appendChild(t);const r=window.getSelection(),i=document.createRange();if(i.selectNode(t),r===null)throw new Error("Cannot copy text to clipboard");r.removeAllRanges(),r.addRange(i),document.execCommand("copy"),document.body.removeChild(t)}function N6(a,t,r){let i;return(...l)=>{const d=this,f=()=>{i=void 0,r!==!0&&a.apply(d,l)},p=r===!0&&i!==void 0;window.clearTimeout(i),i=window.setTimeout(f,t),p&&a.apply(d,l)}}function sr(a){return Object.prototype.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function B6(a){return sr(a)==="boolean"}function Tv(a){return sr(a)==="function"||sr(a)==="asyncfunction"}function O6(a){return Tv(a)&&/^\s*class\s+/.test(a.toString())}function M6(a){return sr(a)==="number"}function Bs(a){return sr(a)==="object"}function _6(a){return Promise.resolve(a)===a}function A6(a){return sr(a)==="string"}function L6(a){return sr(a)==="undefined"}function lu(a,...t){if(!t.length)return a;const r=t.shift();if(Bs(a)&&Bs(r))for(const i in r)Bs(r[i])?(a[i]===void 0&&Object.assign(a,{[i]:{}}),lu(a[i],r[i])):Object.assign(a,{[i]:r[i]});return lu(a,...t)}function R6(a,t,r){const i=`${t} is deprecated and will be removed in the next major release. Please use the ${r} instead.`;a&&console.warn(i)}function D6(a){try{return new URL(a).href}catch{}return a.substring(0,2)==="//"?window.location.protocol+a:window.location.origin+a}function z6(a){return a>47&&a<58||a===32||a===13||a===229||a>64&&a<91||a>95&&a<112||a>185&&a<193||a>218&&a<223}const H6={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},I6={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};class U6{constructor(){this.completed=Promise.resolve()}add(t){return new Promise((r,i)=>{this.completed=this.completed.then(t).then(r).catch(i)})}}function P6(a,t,r=void 0){let i,l,d,f=null,p=0;r||(r={});const m=function(){p=r.leading===!1?0:Date.now(),f=null,d=a.apply(i,l),f===null&&(i=l=null)};return function(){const g=Date.now();!p&&r.leading===!1&&(p=g);const v=t-(g-p);return i=this,l=arguments,v<=0||v>t?(f&&(clearTimeout(f),f=null),p=g,d=a.apply(i,l),f===null&&(i=l=null)):!f&&r.trailing!==!1&&(f=setTimeout(m,v)),d}}const q6=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:U6,beautifyShortcut:C6,cacheable:w6,capitalize:T6,copyTextToClipboard:j6,debounce:N6,deepMerge:lu,deprecationAssert:R6,getUserOS:Cv,getValidUrl:D6,isBoolean:B6,isClass:O6,isEmpty:S6,isFunction:Tv,isIosDevice:E6,isNumber:M6,isObject:Bs,isPrintableKey:z6,isPromise:_6,isString:A6,isUndefined:L6,keyCodes:H6,mouseButtons:I6,notEmpty:Ch,throttle:P6,typeOf:sr},Symbol.toStringTag,{value:"Module"})),Th=h6(q6);Object.defineProperty(Eh,"__esModule",{value:!0});Eh.containsOnlyInlineElements=$6;var Y6=Th,F6=vh;function $6(a){var t;(0,Y6.isString)(a)?(t=document.createElement("div"),t.innerHTML=a):t=a;var r=function(i){return!(0,F6.blockElements)().includes(i.tagName.toLowerCase())&&Array.from(i.children).every(r)};return Array.from(t.children).every(r)}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.containsOnlyInlineElements=void 0;var t=Eh;Object.defineProperty(a,"containsOnlyInlineElements",{enumerable:!0,get:function(){return t.containsOnlyInlineElements}})})(rl);var jv={},jh={},ol={},Nh={};Object.defineProperty(Nh,"__esModule",{value:!0});Nh.make=V6;function V6(a,t,r){var i;t===void 0&&(t=null),r===void 0&&(r={});var l=document.createElement(a);if(Array.isArray(t)){var d=t.filter(function(p){return p!==void 0});(i=l.classList).add.apply(i,d)}else t!==null&&l.classList.add(t);for(var f in r)Object.prototype.hasOwnProperty.call(r,f)&&(l[f]=r[f]);return l}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.make=void 0;var t=Nh;Object.defineProperty(a,"make",{enumerable:!0,get:function(){return t.make}})})(ol);Object.defineProperty(jh,"__esModule",{value:!0});jh.fragmentToString=G6;var X6=ol;function G6(a){var t=(0,X6.make)("div");return t.appendChild(a),t.innerHTML}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.fragmentToString=void 0;var t=jh;Object.defineProperty(a,"fragmentToString",{enumerable:!0,get:function(){return t.fragmentToString}})})(jv);var Nv={},Bh={};Object.defineProperty(Bh,"__esModule",{value:!0});Bh.getContentLength=Q6;var Z6=zr;function Q6(a){var t,r;return(0,Z6.isNativeInput)(a)?a.value.length:a.nodeType===Node.TEXT_NODE?a.length:(r=(t=a.textContent)===null||t===void 0?void 0:t.length)!==null&&r!==void 0?r:0}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.getContentLength=void 0;var t=Bh;Object.defineProperty(a,"getContentLength",{enumerable:!0,get:function(){return t.getContentLength}})})(Nv);var Oh={},Mh={},B0=Fs&&Fs.__spreadArray||function(a,t,r){if(r||arguments.length===2)for(var i=0,l=t.length,d;i<l;i++)(d||!(i in t))&&(d||(d=Array.prototype.slice.call(t,0,i)),d[i]=t[i]);return a.concat(d||Array.prototype.slice.call(t))};Object.defineProperty(Mh,"__esModule",{value:!0});Mh.getDeepestBlockElements=Bv;var K6=rl;function Bv(a){return(0,K6.containsOnlyInlineElements)(a)?[a]:Array.from(a.children).reduce(function(t,r){return B0(B0([],t,!0),Bv(r),!0)},[])}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.getDeepestBlockElements=void 0;var t=Mh;Object.defineProperty(a,"getDeepestBlockElements",{enumerable:!0,get:function(){return t.getDeepestBlockElements}})})(Oh);var Ov={},_h={},al={},Ah={};Object.defineProperty(Ah,"__esModule",{value:!0});Ah.isLineBreakTag=J6;function J6(a){return["BR","WBR"].includes(a.tagName)}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isLineBreakTag=void 0;var t=Ah;Object.defineProperty(a,"isLineBreakTag",{enumerable:!0,get:function(){return t.isLineBreakTag}})})(al);var il={},Lh={};Object.defineProperty(Lh,"__esModule",{value:!0});Lh.isSingleTag=W6;function W6(a){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(a.tagName)}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isSingleTag=void 0;var t=Lh;Object.defineProperty(a,"isSingleTag",{enumerable:!0,get:function(){return t.isSingleTag}})})(il);Object.defineProperty(_h,"__esModule",{value:!0});_h.getDeepestNode=Mv;var eS=zr,tS=al,nS=il;function Mv(a,t){t===void 0&&(t=!1);var r=t?"lastChild":"firstChild",i=t?"previousSibling":"nextSibling";if(a.nodeType===Node.ELEMENT_NODE&&a[r]){var l=a[r];if((0,nS.isSingleTag)(l)&&!(0,eS.isNativeInput)(l)&&!(0,tS.isLineBreakTag)(l))if(l[i])l=l[i];else if(l.parentNode!==null&&l.parentNode[i])l=l.parentNode[i];else return l.parentNode;return Mv(l,t)}return a}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.getDeepestNode=void 0;var t=_h;Object.defineProperty(a,"getDeepestNode",{enumerable:!0,get:function(){return t.getDeepestNode}})})(Ov);var _v={},Rh={},ys=Fs&&Fs.__spreadArray||function(a,t,r){if(r||arguments.length===2)for(var i=0,l=t.length,d;i<l;i++)(d||!(i in t))&&(d||(d=Array.prototype.slice.call(t,0,i)),d[i]=t[i]);return a.concat(d||Array.prototype.slice.call(t))};Object.defineProperty(Rh,"__esModule",{value:!0});Rh.findAllInputs=sS;var rS=rl,oS=Oh,aS=ph,iS=zr;function sS(a){return Array.from(a.querySelectorAll((0,aS.allInputsSelector)())).reduce(function(t,r){return(0,iS.isNativeInput)(r)||(0,rS.containsOnlyInlineElements)(r)?ys(ys([],t,!0),[r],!1):ys(ys([],t,!0),(0,oS.getDeepestBlockElements)(r),!0)},[])}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.findAllInputs=void 0;var t=Rh;Object.defineProperty(a,"findAllInputs",{enumerable:!0,get:function(){return t.findAllInputs}})})(_v);var Av={},Dh={};Object.defineProperty(Dh,"__esModule",{value:!0});Dh.isCollapsedWhitespaces=lS;function lS(a){return!/[^\t\n\r ]/.test(a)}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isCollapsedWhitespaces=void 0;var t=Dh;Object.defineProperty(a,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return t.isCollapsedWhitespaces}})})(Av);var zh={},Hh={};Object.defineProperty(Hh,"__esModule",{value:!0});Hh.isElement=dS;var cS=Th;function dS(a){return(0,cS.isNumber)(a)?!1:!!a&&!!a.nodeType&&a.nodeType===Node.ELEMENT_NODE}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isElement=void 0;var t=Hh;Object.defineProperty(a,"isElement",{enumerable:!0,get:function(){return t.isElement}})})(zh);var Lv={},Ih={},Uh={},Ph={};Object.defineProperty(Ph,"__esModule",{value:!0});Ph.isLeaf=uS;function uS(a){return a===null?!1:a.childNodes.length===0}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isLeaf=void 0;var t=Ph;Object.defineProperty(a,"isLeaf",{enumerable:!0,get:function(){return t.isLeaf}})})(Uh);var qh={},Yh={};Object.defineProperty(Yh,"__esModule",{value:!0});Yh.isNodeEmpty=mS;var hS=al,fS=zh,pS=zr,gS=il;function mS(a,t){var r="";return(0,gS.isSingleTag)(a)&&!(0,hS.isLineBreakTag)(a)?!1:((0,fS.isElement)(a)&&(0,pS.isNativeInput)(a)?r=a.value:a.textContent!==null&&(r=a.textContent.replace("","")),t!==void 0&&(r=r.replace(new RegExp(t,"g"),"")),r.trim().length===0)}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isNodeEmpty=void 0;var t=Yh;Object.defineProperty(a,"isNodeEmpty",{enumerable:!0,get:function(){return t.isNodeEmpty}})})(qh);Object.defineProperty(Ih,"__esModule",{value:!0});Ih.isEmpty=xS;var bS=Uh,vS=qh;function xS(a,t){a.normalize();for(var r=[a];r.length>0;){var i=r.shift();if(i){if(a=i,(0,bS.isLeaf)(a)&&!(0,vS.isNodeEmpty)(a,t))return!1;r.push.apply(r,Array.from(a.childNodes))}}return!0}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isEmpty=void 0;var t=Ih;Object.defineProperty(a,"isEmpty",{enumerable:!0,get:function(){return t.isEmpty}})})(Lv);var Rv={},Fh={};Object.defineProperty(Fh,"__esModule",{value:!0});Fh.isFragment=kS;var yS=Th;function kS(a){return(0,yS.isNumber)(a)?!1:!!a&&!!a.nodeType&&a.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isFragment=void 0;var t=Fh;Object.defineProperty(a,"isFragment",{enumerable:!0,get:function(){return t.isFragment}})})(Rv);var Dv={},$h={};Object.defineProperty($h,"__esModule",{value:!0});$h.isHTMLString=SS;var wS=ol;function SS(a){var t=(0,wS.make)("div");return t.innerHTML=a,t.childElementCount>0}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isHTMLString=void 0;var t=$h;Object.defineProperty(a,"isHTMLString",{enumerable:!0,get:function(){return t.isHTMLString}})})(Dv);var zv={},Vh={};Object.defineProperty(Vh,"__esModule",{value:!0});Vh.offset=ES;function ES(a){var t=a.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop,l=t.top+i,d=t.left+r;return{top:l,left:d,bottom:l+t.height,right:d+t.width}}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.offset=void 0;var t=Vh;Object.defineProperty(a,"offset",{enumerable:!0,get:function(){return t.offset}})})(zv);var Hv={},Xh={};Object.defineProperty(Xh,"__esModule",{value:!0});Xh.prepend=CS;function CS(a,t){Array.isArray(t)?(t=t.reverse(),t.forEach(function(r){return a.prepend(r)})):a.prepend(t)}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.prepend=void 0;var t=Xh;Object.defineProperty(a,"prepend",{enumerable:!0,get:function(){return t.prepend}})})(Hv);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.prepend=a.offset=a.make=a.isLineBreakTag=a.isSingleTag=a.isNodeEmpty=a.isLeaf=a.isHTMLString=a.isFragment=a.isEmpty=a.isElement=a.isContentEditable=a.isCollapsedWhitespaces=a.findAllInputs=a.isNativeInput=a.allInputsSelector=a.getDeepestNode=a.getDeepestBlockElements=a.getContentLength=a.fragmentToString=a.containsOnlyInlineElements=a.canSetCaret=a.calculateBaseline=a.blockElements=a.append=void 0;var t=ph;Object.defineProperty(a,"allInputsSelector",{enumerable:!0,get:function(){return t.allInputsSelector}});var r=zr;Object.defineProperty(a,"isNativeInput",{enumerable:!0,get:function(){return r.isNativeInput}});var i=wv;Object.defineProperty(a,"append",{enumerable:!0,get:function(){return i.append}});var l=vh;Object.defineProperty(a,"blockElements",{enumerable:!0,get:function(){return l.blockElements}});var d=Sv;Object.defineProperty(a,"calculateBaseline",{enumerable:!0,get:function(){return d.calculateBaseline}});var f=Ev;Object.defineProperty(a,"canSetCaret",{enumerable:!0,get:function(){return f.canSetCaret}});var p=rl;Object.defineProperty(a,"containsOnlyInlineElements",{enumerable:!0,get:function(){return p.containsOnlyInlineElements}});var m=jv;Object.defineProperty(a,"fragmentToString",{enumerable:!0,get:function(){return m.fragmentToString}});var g=Nv;Object.defineProperty(a,"getContentLength",{enumerable:!0,get:function(){return g.getContentLength}});var v=Oh;Object.defineProperty(a,"getDeepestBlockElements",{enumerable:!0,get:function(){return v.getDeepestBlockElements}});var y=Ov;Object.defineProperty(a,"getDeepestNode",{enumerable:!0,get:function(){return y.getDeepestNode}});var w=_v;Object.defineProperty(a,"findAllInputs",{enumerable:!0,get:function(){return w.findAllInputs}});var B=Av;Object.defineProperty(a,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return B.isCollapsedWhitespaces}});var S=wh;Object.defineProperty(a,"isContentEditable",{enumerable:!0,get:function(){return S.isContentEditable}});var k=zh;Object.defineProperty(a,"isElement",{enumerable:!0,get:function(){return k.isElement}});var T=Lv;Object.defineProperty(a,"isEmpty",{enumerable:!0,get:function(){return T.isEmpty}});var D=Rv;Object.defineProperty(a,"isFragment",{enumerable:!0,get:function(){return D.isFragment}});var I=Dv;Object.defineProperty(a,"isHTMLString",{enumerable:!0,get:function(){return I.isHTMLString}});var H=Uh;Object.defineProperty(a,"isLeaf",{enumerable:!0,get:function(){return H.isLeaf}});var M=qh;Object.defineProperty(a,"isNodeEmpty",{enumerable:!0,get:function(){return M.isNodeEmpty}});var U=al;Object.defineProperty(a,"isLineBreakTag",{enumerable:!0,get:function(){return U.isLineBreakTag}});var ne=il;Object.defineProperty(a,"isSingleTag",{enumerable:!0,get:function(){return ne.isSingleTag}});var Q=ol;Object.defineProperty(a,"make",{enumerable:!0,get:function(){return Q.make}});var G=zv;Object.defineProperty(a,"offset",{enumerable:!0,get:function(){return G.offset}});var Z=Hv;Object.defineProperty(a,"prepend",{enumerable:!0,get:function(){return Z.prepend}})})(Le);const kt="cdx-list",ut={wrapper:kt,item:`${kt}__item`,itemContent:`${kt}__item-content`,itemChildren:`${kt}__item-children`};class rn{static get CSS(){return{...ut,orderedList:`${kt}-ordered`}}constructor(t,r){this.config=r,this.readOnly=t}renderWrapper(t){let r;return t===!0?r=Le.make("ol",[rn.CSS.wrapper,rn.CSS.orderedList]):r=Le.make("ol",[rn.CSS.orderedList,rn.CSS.itemChildren]),r}renderItem(t,r){const i=Le.make("li",rn.CSS.item),l=Le.make("div",rn.CSS.itemContent,{innerHTML:t,contentEditable:(!this.readOnly).toString()});return i.appendChild(l),i}getItemContent(t){const r=t.querySelector(`.${rn.CSS.itemContent}`);return!r||Le.isEmpty(r)?"":r.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}}class on{static get CSS(){return{...ut,unorderedList:`${kt}-unordered`}}constructor(t,r){this.config=r,this.readOnly=t}renderWrapper(t){let r;return t===!0?r=Le.make("ul",[on.CSS.wrapper,on.CSS.unorderedList]):r=Le.make("ul",[on.CSS.unorderedList,on.CSS.itemChildren]),r}renderItem(t,r){const i=Le.make("li",on.CSS.item),l=Le.make("div",on.CSS.itemContent,{innerHTML:t,contentEditable:(!this.readOnly).toString()});return i.appendChild(l),i}getItemContent(t){const r=t.querySelector(`.${on.CSS.itemContent}`);return!r||Le.isEmpty(r)?"":r.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}}function Br(a){return a.nodeType===Node.ELEMENT_NODE}var Fa={},Gh={},sl={},ll={};Object.defineProperty(ll,"__esModule",{value:!0});ll.getContenteditableSlice=jS;var TS=Le;function jS(a,t,r,i,l){var d;l===void 0&&(l=!1);var f=document.createRange();if(i==="left"?(f.setStart(a,0),f.setEnd(t,r)):(f.setStart(t,r),f.setEnd(a,a.childNodes.length)),l===!0){var p=f.extractContents();return(0,TS.fragmentToString)(p)}var m=f.cloneContents(),g=document.createElement("div");g.appendChild(m);var v=(d=g.textContent)!==null&&d!==void 0?d:"";return v}Object.defineProperty(sl,"__esModule",{value:!0});sl.checkContenteditableSliceForEmptiness=OS;var NS=Le,BS=ll;function OS(a,t,r,i){var l=(0,BS.getContenteditableSlice)(a,t,r,i);return(0,NS.isCollapsedWhitespaces)(l)}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.checkContenteditableSliceForEmptiness=void 0;var t=sl;Object.defineProperty(a,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return t.checkContenteditableSliceForEmptiness}})})(Gh);var Iv={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.getContenteditableSlice=void 0;var t=ll;Object.defineProperty(a,"getContenteditableSlice",{enumerable:!0,get:function(){return t.getContenteditableSlice}})})(Iv);var Uv={},Zh={};Object.defineProperty(Zh,"__esModule",{value:!0});Zh.focus=_S;var MS=Le;function _S(a,t){var r,i;if(t===void 0&&(t=!0),(0,MS.isNativeInput)(a)){a.focus();var l=t?0:a.value.length;a.setSelectionRange(l,l)}else{var d=document.createRange(),f=window.getSelection();if(!f)return;var p=function(w,B){B===void 0&&(B=!1);var S=document.createTextNode("");B?w.insertBefore(S,w.firstChild):w.appendChild(S),d.setStart(S,0),d.setEnd(S,0)},m=function(w){return w!=null},g=a.childNodes,v=t?g[0]:g[g.length-1];if(m(v)){for(;m(v)&&v.nodeType!==Node.TEXT_NODE;)v=t?v.firstChild:v.lastChild;if(m(v)&&v.nodeType===Node.TEXT_NODE){var y=(i=(r=v.textContent)===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0,l=t?0:y;d.setStart(v,l),d.setEnd(v,l)}else p(a,t)}else p(a);f.removeAllRanges(),f.addRange(d)}}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.focus=void 0;var t=Zh;Object.defineProperty(a,"focus",{enumerable:!0,get:function(){return t.focus}})})(Uv);var Qh={},cl={};Object.defineProperty(cl,"__esModule",{value:!0});cl.getCaretNodeAndOffset=AS;function AS(){var a=window.getSelection();if(a===null)return[null,0];var t=a.focusNode,r=a.focusOffset;return t===null?[null,0]:(t.nodeType!==Node.TEXT_NODE&&t.childNodes.length>0&&(t.childNodes[r]!==void 0?(t=t.childNodes[r],r=0):(t=t.childNodes[r-1],t.textContent!==null&&(r=t.textContent.length))),[t,r])}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.getCaretNodeAndOffset=void 0;var t=cl;Object.defineProperty(a,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return t.getCaretNodeAndOffset}})})(Qh);var Pv={},dl={};Object.defineProperty(dl,"__esModule",{value:!0});dl.getRange=LS;function LS(){var a=window.getSelection();return a&&a.rangeCount?a.getRangeAt(0):null}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.getRange=void 0;var t=dl;Object.defineProperty(a,"getRange",{enumerable:!0,get:function(){return t.getRange}})})(Pv);var qv={},Kh={};Object.defineProperty(Kh,"__esModule",{value:!0});Kh.isCaretAtEndOfInput=zS;var O0=Le,RS=Qh,DS=Gh;function zS(a){var t=(0,O0.getDeepestNode)(a,!0);if(t===null)return!0;if((0,O0.isNativeInput)(t))return t.selectionEnd===t.value.length;var r=(0,RS.getCaretNodeAndOffset)(),i=r[0],l=r[1];return i===null?!1:(0,DS.checkContenteditableSliceForEmptiness)(a,i,l,"right")}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isCaretAtEndOfInput=void 0;var t=Kh;Object.defineProperty(a,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return t.isCaretAtEndOfInput}})})(qv);var Yv={},Jh={};Object.defineProperty(Jh,"__esModule",{value:!0});Jh.isCaretAtStartOfInput=US;var ks=Le,HS=cl,IS=sl;function US(a){var t=(0,ks.getDeepestNode)(a);if(t===null||(0,ks.isEmpty)(a))return!0;if((0,ks.isNativeInput)(t))return t.selectionEnd===0;if((0,ks.isEmpty)(a))return!0;var r=(0,HS.getCaretNodeAndOffset)(),i=r[0],l=r[1];return i===null?!1:(0,IS.checkContenteditableSliceForEmptiness)(a,i,l,"left")}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isCaretAtStartOfInput=void 0;var t=Jh;Object.defineProperty(a,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return t.isCaretAtStartOfInput}})})(Yv);var Fv={},Wh={};Object.defineProperty(Wh,"__esModule",{value:!0});Wh.save=YS;var PS=Le,qS=dl;function YS(){var a=(0,qS.getRange)(),t=(0,PS.make)("span");if(t.id="cursor",t.hidden=!0,!!a)return a.insertNode(t),function(){var r=window.getSelection();r&&(a.setStartAfter(t),a.setEndAfter(t),r.removeAllRanges(),r.addRange(a),setTimeout(function(){t.remove()},150))}}(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.save=void 0;var t=Wh;Object.defineProperty(a,"save",{enumerable:!0,get:function(){return t.save}})})(Fv);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.save=a.isCaretAtStartOfInput=a.isCaretAtEndOfInput=a.getRange=a.getCaretNodeAndOffset=a.focus=a.getContenteditableSlice=a.checkContenteditableSliceForEmptiness=void 0;var t=Gh;Object.defineProperty(a,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return t.checkContenteditableSliceForEmptiness}});var r=Iv;Object.defineProperty(a,"getContenteditableSlice",{enumerable:!0,get:function(){return r.getContenteditableSlice}});var i=Uv;Object.defineProperty(a,"focus",{enumerable:!0,get:function(){return i.focus}});var l=Qh;Object.defineProperty(a,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return l.getCaretNodeAndOffset}});var d=Pv;Object.defineProperty(a,"getRange",{enumerable:!0,get:function(){return d.getRange}});var f=qv;Object.defineProperty(a,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return f.isCaretAtEndOfInput}});var p=Yv;Object.defineProperty(a,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return p.isCaretAtStartOfInput}});var m=Fv;Object.defineProperty(a,"save",{enumerable:!0,get:function(){return m.save}})})(Fa);class Je{static get CSS(){return{...ut,checklist:`${kt}-checklist`,itemChecked:`${kt}__checkbox--checked`,noHover:`${kt}__checkbox--no-hover`,checkbox:`${kt}__checkbox-check`,checkboxContainer:`${kt}__checkbox`}}constructor(t,r){this.config=r,this.readOnly=t}renderWrapper(t){let r;return t===!0?(r=Le.make("ul",[Je.CSS.wrapper,Je.CSS.checklist]),r.addEventListener("click",i=>{const l=i.target;if(l){const d=l.closest(`.${Je.CSS.checkboxContainer}`);d&&d.contains(l)&&this.toggleCheckbox(d)}})):r=Le.make("ul",[Je.CSS.checklist,Je.CSS.itemChildren]),r}renderItem(t,r){const i=Le.make("li",[Je.CSS.item,Je.CSS.item]),l=Le.make("div",Je.CSS.itemContent,{innerHTML:t,contentEditable:(!this.readOnly).toString()}),d=Le.make("span",Je.CSS.checkbox),f=Le.make("div",Je.CSS.checkboxContainer);return r.checked===!0&&f.classList.add(Je.CSS.itemChecked),d.innerHTML=a6,f.appendChild(d),i.appendChild(f),i.appendChild(l),i}getItemContent(t){const r=t.querySelector(`.${Je.CSS.itemContent}`);return!r||Le.isEmpty(r)?"":r.innerHTML}getItemMeta(t){const r=t.querySelector(`.${Je.CSS.checkboxContainer}`);return{checked:r?r.classList.contains(Je.CSS.itemChecked):!1}}composeDefaultMeta(){return{checked:!1}}toggleCheckbox(t){t.classList.toggle(Je.CSS.itemChecked),t.classList.add(Je.CSS.noHover),t.addEventListener("mouseleave",()=>this.removeSpecialHoverBehavior(t),{once:!0})}removeSpecialHoverBehavior(t){t.classList.remove(Je.CSS.noHover)}}function qd(a,t="after"){const r=[];let i;function l(d){switch(t){case"after":return d.nextElementSibling;case"before":return d.previousElementSibling}}for(i=l(a);i!==null;)r.push(i),i=l(i);return r.length!==0?r:null}function En(a,t=!0){let r=a;return a.classList.contains(ut.item)&&(r=a.querySelector(`.${ut.itemChildren}`)),r===null?[]:t?Array.from(r.querySelectorAll(`:scope > .${ut.item}`)):Array.from(r.querySelectorAll(`.${ut.item}`))}function FS(a){return a.nextElementSibling===null}function $S(a){return a.querySelector(`.${ut.itemChildren}`)!==null}function rr(a){return a.querySelector(`.${ut.itemChildren}`)}function Yd(a){let t=a;a.classList.contains(ut.item)&&(t=rr(a)),t!==null&&En(t).length===0&&t.remove()}function Os(a){return a.querySelector(`.${ut.itemContent}`)}function To(a,t=!0){const r=Os(a);r&&Fa.focus(r,t)}class Fd{get currentItem(){const t=window.getSelection();if(!t)return null;let r=t.anchorNode;return!r||(Br(r)||(r=r.parentNode),!r)||!Br(r)?null:r.closest(`.${ut.item}`)}get currentItemLevel(){const t=this.currentItem;if(t===null)return null;let r=t.parentNode,i=0;for(;r!==null&&r!==this.listWrapper;)Br(r)&&r.classList.contains(ut.item)&&(i+=1),r=r.parentNode;return i+1}constructor({data:t,config:r,api:i,readOnly:l,block:d},f){this.config=r,this.data=t,this.readOnly=l,this.api=i,this.block=d,this.renderer=f}render(){return this.listWrapper=this.renderer.renderWrapper(!0),this.data.items.length?this.appendItems(this.data.items,this.listWrapper):this.appendItems([{content:"",meta:{},items:[]}],this.listWrapper),this.readOnly||this.listWrapper.addEventListener("keydown",t=>{switch(t.key){case"Enter":t.shiftKey||this.enterPressed(t);break;case"Backspace":this.backspace(t);break;case"Tab":t.shiftKey?this.shiftTab(t):this.addTab(t);break}},!1),"start"in this.data.meta&&this.data.meta.start!==void 0&&this.changeStartWith(this.data.meta.start),"counterType"in this.data.meta&&this.data.meta.counterType!==void 0&&this.changeCounters(this.data.meta.counterType),this.listWrapper}save(t){const r=t??this.listWrapper,i=f=>En(f).map(p=>{const m=rr(p),g=this.renderer.getItemContent(p),v=this.renderer.getItemMeta(p),y=m?i(m):[];return{content:g,meta:v,items:y}}),l=r?i(r):[];let d={style:this.data.style,meta:{},items:l};return this.data.style==="ordered"&&(d.meta={start:this.data.meta.start,counterType:this.data.meta.counterType}),d}static get pasteConfig(){return{tags:["OL","UL","LI"]}}merge(t){const r=this.block.holder.querySelectorAll(`.${ut.item}`),i=r[r.length-1],l=Os(i);if(i===null||l===null||(l.insertAdjacentHTML("beforeend",t.items[0].content),this.listWrapper===void 0))return;const d=En(this.listWrapper);if(d.length===0)return;const f=d[d.length-1];let p=rr(f);const m=t.items.shift();m!==void 0&&(m.items.length!==0&&(p===null&&(p=this.renderer.renderWrapper(!1)),this.appendItems(m.items,p)),t.items.length>0&&this.appendItems(t.items,this.listWrapper))}onPaste(t){const r=t.detail.data;this.data=this.pasteHandler(r);const i=this.listWrapper;i&&i.parentNode&&i.parentNode.replaceChild(this.render(),i)}pasteHandler(t){const{tagName:r}=t;let i="unordered",l;switch(r){case"OL":i="ordered",l="ol";break;case"UL":case"LI":i="unordered",l="ul"}const d={style:i,meta:{},items:[]};i==="ordered"&&(this.data.meta.counterType="numeric",this.data.meta.start=1);const f=p=>Array.from(p.querySelectorAll(":scope > li")).map(m=>{const g=m.querySelector(`:scope > ${l}`),v=g?f(g):[];return{content:m.innerHTML??"",meta:{},items:v}});return d.items=f(t),d}changeStartWith(t){this.listWrapper.style.setProperty("counter-reset",`item ${t-1}`),this.data.meta.start=t}changeCounters(t){this.listWrapper.style.setProperty("--list-counter-type",t),this.data.meta.counterType=t}enterPressed(t){var r;const i=this.currentItem;if(t.stopPropagation(),t.preventDefault(),t.isComposing||i===null)return;const l=((r=this.renderer)==null?void 0:r.getItemContent(i).trim().length)===0,d=i.parentNode===this.listWrapper,f=i.previousElementSibling===null,p=this.api.blocks.getCurrentBlockIndex();if(d&&l)if(FS(i)&&!$S(i)){f?this.convertItemToDefaultBlock(p,!0):this.convertItemToDefaultBlock();return}else{this.splitList(i);return}else if(l){this.unshiftItem(i);return}else this.splitItem(i)}backspace(t){var r;const i=this.currentItem;if(i!==null&&Fa.isCaretAtStartOfInput(i)&&((r=window.getSelection())==null?void 0:r.isCollapsed)!==!1){if(t.stopPropagation(),i.parentNode===this.listWrapper&&i.previousElementSibling===null){this.convertFirstItemToDefaultBlock();return}t.preventDefault(),this.mergeItemWithPrevious(i)}}shiftTab(t){t.stopPropagation(),t.preventDefault(),this.currentItem!==null&&this.unshiftItem(this.currentItem)}unshiftItem(t){if(!t.parentNode||!Br(t.parentNode))return;const r=t.parentNode.closest(`.${ut.item}`);if(!r)return;let i=rr(t);if(t.parentElement===null)return;const l=qd(t);l!==null&&(i===null&&(i=this.renderer.renderWrapper(!1)),l.forEach(d=>{i.appendChild(d)}),t.appendChild(i)),r.after(t),To(t,!1),Yd(r)}splitList(t){const r=En(t),i=this.block,l=this.api.blocks.getCurrentBlockIndex();if(r.length!==0){const m=r[0];this.unshiftItem(m),To(t,!1)}if(t.previousElementSibling===null&&t.parentNode===this.listWrapper){this.convertItemToDefaultBlock(l);return}const d=qd(t);if(d===null)return;const f=this.renderer.renderWrapper(!0);d.forEach(m=>{f.appendChild(m)});const p=this.save(f);p.meta.start=this.data.style=="ordered"?1:void 0,this.api.blocks.insert(i?.name,p,this.config,l+1),this.convertItemToDefaultBlock(l+1),f.remove()}splitItem(t){const[r,i]=Fa.getCaretNodeAndOffset();if(r===null)return;const l=Os(t);let d;l===null?d="":d=Fa.getContenteditableSlice(l,r,i,"right",!0);const f=rr(t),p=this.renderItem(d);t?.after(p),f&&p.appendChild(f),To(p)}mergeItemWithPrevious(t){const r=t.previousElementSibling,i=t.parentNode;if(i===null||!Br(i))return;const l=i.closest(`.${ut.item}`);if(!r&&!l||r&&!Br(r))return;let d;if(r){const y=En(r,!1);y.length!==0&&y.length!==0?d=y[y.length-1]:d=r}else d=l;const f=this.renderer.getItemContent(t);if(!d)return;To(d,!1);const p=Os(d);if(p===null)return;p.insertAdjacentHTML("beforeend",f);const m=En(t);if(m.length===0){t.remove(),Yd(d);return}const g=r||l,v=rr(g)??this.renderer.renderWrapper(!1);r?m.forEach(y=>{v.appendChild(y)}):m.forEach(y=>{v.prepend(y)}),rr(g)===null&&d.appendChild(v),t.remove()}addTab(t){var r;t.stopPropagation(),t.preventDefault();const i=this.currentItem;if(!i)return;if(((r=this.config)==null?void 0:r.maxLevel)!==void 0){const f=this.currentItemLevel;if(f!==null&&f===this.config.maxLevel)return}const l=i.previousSibling;if(l===null||!Br(l))return;const d=rr(l);if(d)d.appendChild(i),En(i).forEach(f=>{d.appendChild(f)});else{const f=this.renderer.renderWrapper(!1);f.appendChild(i),En(i).forEach(p=>{f.appendChild(p)}),l.appendChild(f)}Yd(i),To(i,!1)}convertItemToDefaultBlock(t,r){let i;const l=this.currentItem,d=l!==null?this.renderer.getItemContent(l):"";r===!0&&this.api.blocks.delete(),t!==void 0?i=this.api.blocks.insert(void 0,{text:d},void 0,t):i=this.api.blocks.insert(),l?.remove(),this.api.caret.setToBlock(i,"start")}convertFirstItemToDefaultBlock(){const t=this.currentItem;if(t===null)return;const r=En(t);if(r.length!==0){const f=r[0];this.unshiftItem(f),To(t)}const i=qd(t),l=this.api.blocks.getCurrentBlockIndex(),d=i===null;this.convertItemToDefaultBlock(l,d)}renderItem(t,r){const i=r??this.renderer.composeDefaultMeta();switch(!0){case this.renderer instanceof rn:return this.renderer.renderItem(t,i);case this.renderer instanceof on:return this.renderer.renderItem(t,i);default:return this.renderer.renderItem(t,i)}}appendItems(t,r){t.forEach(i=>{var l;const d=this.renderItem(i.content,i.meta);if(r.appendChild(d),i.items.length){const f=(l=this.renderer)==null?void 0:l.renderWrapper(!1);this.appendItems(i.items,f),d.appendChild(f)}})}}const jo={wrapper:`${kt}-start-with-field`,input:`${kt}-start-with-field__input`,startWithElementWrapperInvalid:`${kt}-start-with-field--invalid`};function VS(a,{value:t,placeholder:r,attributes:i,sanitize:l}){const d=Le.make("div",jo.wrapper),f=Le.make("input",jo.input,{placeholder:r,tabIndex:-1,value:t});for(const p in i)f.setAttribute(p,i[p]);return d.appendChild(f),f.addEventListener("input",()=>{l!==void 0&&(f.value=l(f.value));const p=f.checkValidity();!p&&!d.classList.contains(jo.startWithElementWrapperInvalid)&&d.classList.add(jo.startWithElementWrapperInvalid),p&&d.classList.contains(jo.startWithElementWrapperInvalid)&&d.classList.remove(jo.startWithElementWrapperInvalid),p&&a(f.value)}),d}const Pa=new Map([["Numeric","numeric"],["Lower Roman","lower-roman"],["Upper Roman","upper-roman"],["Lower Alpha","lower-alpha"],["Upper Alpha","upper-alpha"]]),M0=new Map([["numeric",i6],["lower-roman",s6],["upper-roman",l6],["lower-alpha",d6],["upper-alpha",c6]]);function XS(a){return a.replace(/\D+/g,"")}function GS(a){return typeof a.items[0]=="string"}function ZS(a){return!("meta"in a)}function QS(a){return typeof a.items[0]!="string"&&"text"in a.items[0]&&"checked"in a.items[0]&&typeof a.items[0].text=="string"&&typeof a.items[0].checked=="boolean"}function KS(a){const t=[];return GS(a)?(a.items.forEach(r=>{t.push({content:r,meta:{},items:[]})}),{style:a.style,meta:{},items:t}):QS(a)?(a.items.forEach(r=>{t.push({content:r.text,meta:{checked:r.checked},items:[]})}),{style:"checklist",meta:{},items:t}):ZS(a)?{style:a.style,meta:{},items:a.items}:structuredClone(a)}class Ka{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return[{icon:j0,title:"Unordered List",data:{style:"unordered"}},{icon:N0,title:"Ordered List",data:{style:"ordered"}},{icon:T0,title:"Checklist",data:{style:"checklist"}}]}static get pasteConfig(){return{tags:["OL","UL","LI"]}}static get conversionConfig(){return{export:t=>Ka.joinRecursive(t),import:(t,r)=>({meta:{},items:[{content:t,meta:{},items:[]}],style:r?.defaultStyle!==void 0?r.defaultStyle:"unordered"})}}get listStyle(){return this.data.style||this.defaultListStyle}set listStyle(t){var r;this.data.style=t,this.changeTabulatorByStyle();const i=this.list.render();(r=this.listElement)==null||r.replaceWith(i),this.listElement=i}constructor({data:t,config:r,api:i,readOnly:l,block:d}){var f;this.api=i,this.readOnly=l,this.config=r,this.block=d,this.defaultListStyle=((f=this.config)==null?void 0:f.defaultStyle)||"unordered",this.defaultCounterTypes=this.config.counterTypes||Array.from(Pa.values());const p={style:this.defaultListStyle,meta:{},items:[]};this.data=Object.keys(t).length?KS(t):p,this.listStyle==="ordered"&&this.data.meta.counterType===void 0&&(this.data.meta.counterType="numeric"),this.changeTabulatorByStyle()}static joinRecursive(t){return t.items.map(r=>`${r.content} ${Ka.joinRecursive(r)}`).join("")}render(){return this.listElement=this.list.render(),this.listElement}save(){return this.data=this.list.save(),this.data}merge(t){this.list.merge(t)}renderSettings(){const t=[{label:this.api.i18n.t("Unordered"),icon:j0,closeOnActivate:!0,isActive:this.listStyle=="unordered",onActivate:()=>{this.listStyle="unordered"}},{label:this.api.i18n.t("Ordered"),icon:N0,closeOnActivate:!0,isActive:this.listStyle=="ordered",onActivate:()=>{this.listStyle="ordered"}},{label:this.api.i18n.t("Checklist"),icon:T0,closeOnActivate:!0,isActive:this.listStyle=="checklist",onActivate:()=>{this.listStyle="checklist"}}];if(this.listStyle==="ordered"){const r=VS(d=>this.changeStartWith(Number(d)),{value:String(this.data.meta.start??1),placeholder:"",attributes:{required:"true"},sanitize:d=>XS(d)}),i=[{label:this.api.i18n.t("Start with"),icon:u6,children:{items:[{element:r,type:"html"}]}}],l={label:this.api.i18n.t("Counter type"),icon:M0.get(this.data.meta.counterType),children:{items:[]}};Pa.forEach((d,f)=>{const p=Pa.get(f);this.defaultCounterTypes.includes(p)&&l.children.items.push({title:this.api.i18n.t(f),icon:M0.get(p),isActive:this.data.meta.counterType===Pa.get(f),closeOnActivate:!0,onActivate:()=>{this.changeCounters(Pa.get(f))}})}),l.children.items.length>1&&i.push(l),t.push({type:"separator"},...i)}return t}onPaste(t){const{tagName:r}=t.detail.data;switch(r){case"OL":this.listStyle="ordered";break;case"UL":case"LI":this.listStyle="unordered"}this.list.onPaste(t)}pasteHandler(t){return this.list.pasteHandler(t)}changeCounters(t){var r;(r=this.list)==null||r.changeCounters(t),this.data.meta.counterType=t}changeStartWith(t){var r;(r=this.list)==null||r.changeStartWith(t),this.data.meta.start=t}changeTabulatorByStyle(){switch(this.listStyle){case"ordered":this.list=new Fd({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new rn(this.readOnly,this.config));break;case"unordered":this.list=new Fd({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new on(this.readOnly,this.config));break;case"checklist":this.list=new Fd({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new Je(this.readOnly,this.config));break}}}function JS({blogId:a}){const[t,r]=j.useState([]),[i,l]=j.useState(""),[d,f]=j.useState(!0),[p,m]=j.useState(""),[g,v]=j.useState(null),[y,w]=j.useState(!1),B=Bn();j.useEffect(()=>{S(),cr().then(v)},[a]);const S=async()=>{f(!0),m("");try{const U=await(await fetch(`http://localhost:5000/api/comments/${a}`)).json();U.success?r(U.comments):m("Failed to load comments")}catch{m("Failed to load comments")}finally{f(!1)}},k=async M=>{if(M.preventDefault(),!!i.trim()){w(!0);try{const ne=await(await fetch(`http://localhost:5000/api/comments/${a}`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:i})})).json();ne.success?(l(""),S()):m(ne.message||"Failed to post comment")}catch{m("Failed to post comment")}finally{w(!1)}}},T=async M=>{g&&(await fetch(`http://localhost:5000/api/comments/${M}/like`,{method:"POST",credentials:"include"}),S())},D=async M=>{g&&(await fetch(`http://localhost:5000/api/comments/${M}/dislike`,{method:"POST",credentials:"include"}),S())},I=async M=>{g&&window.confirm("Delete this comment?")&&(await fetch(`http://localhost:5000/api/comments/${M}`,{method:"DELETE",credentials:"include"}),S())},H=100;return u.jsxs("div",{className:"mt-8 max-w-xl",children:[u.jsx("h2",{className:"text-lg font-bold mb-3 text-lighttext dark:text-darktext",children:"Comments"}),g?u.jsxs("form",{onSubmit:k,className:"mb-4 flex flex-col gap-2",children:[u.jsx("textarea",{className:"w-full p-2 border border-gray-300 dark:border-gray-700 rounded bg-white dark:bg-darkbg text-lighttext dark:text-darktext text-sm resize-none",rows:2,placeholder:"Write a comment (max 100 characters)...",value:i,onChange:M=>{M.target.value.length<=H&&l(M.target.value)},maxLength:H,disabled:y}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("span",{className:"text-xs text-lightsecondary dark:text-darksecondary",children:[i.length,"/",H]}),u.jsx("button",{type:"submit",className:"px-4 py-1 bg-lightaccent dark:bg-darkaccent text-white rounded font-medium hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors duration-200 disabled:bg-gray-400 disabled:cursor-not-allowed text-sm",disabled:y||!i.trim(),children:y?"Posting...":"Post Comment"})]})]}):u.jsx("div",{className:"mb-4 text-lightsecondary dark:text-darksecondary text-sm",children:"Log in to post a comment."}),d?u.jsx("div",{className:"text-lightsecondary dark:text-darksecondary text-sm",children:"Loading comments..."}):p?u.jsx("div",{className:"text-red-500 dark:text-red-400 text-sm",children:p}):t.length===0?u.jsx("div",{className:"text-lightsecondary dark:text-darksecondary text-sm",children:"No comments yet. Be the first to comment!"}):u.jsx("ul",{className:"space-y-4",children:t.map(M=>u.jsxs("li",{className:"flex gap-2 items-start text-sm",children:[u.jsxs("div",{className:"relative w-8 h-8",children:[u.jsx("img",{src:M.profileImage||"https://ui-avatars.com/api/?name="+encodeURIComponent(M.username),alt:M.username,className:"w-8 h-8 rounded-full object-cover border border-gray-200 dark:border-gray-600 cursor-pointer hover:ring-2 hover:ring-lightaccent dark:hover:ring-darkaccent",onClick:()=>B(`/profile/${M.userId}`),title:`View ${M.username}'s profile`}),M.blocked&&u.jsx("span",{className:"absolute bottom-0 right-0 w-2 h-2 bg-red-600 rounded-full border-2 border-white dark:border-darkbg",title:"Blocked user"})]}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{className:"font-semibold text-lighttext dark:text-darktext text-sm hover:underline focus:outline-none",style:{background:"none",border:"none",padding:0,margin:0,cursor:"pointer"},onClick:()=>B(`/profile/${M.userId}`),title:`View ${M.username}'s profile`,children:M.username}),u.jsx("div",{className:"text-lightsecondary dark:text-darksecondary mb-1 text-xs",children:new Date(M.createdAt).toLocaleString()}),g&&(g.role==="admin"||g._id===M.userId)&&u.jsx("button",{className:"ml-2 text-red-500 hover:text-red-700",title:"Delete comment",onClick:()=>I(M._id),children:u.jsx(Ro,{size:12})})]}),u.jsx("div",{className:"text-lighttext dark:text-darktext mb-1 break-words",children:M.text}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsxs("button",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full ${g&&M.likes&&M.likes.includes(g._id)?"bg-green-200 dark:bg-green-900 text-green-700 dark:text-green-300":"bg-gray-100 dark:bg-gray-800 text-lighttext dark:text-darktext"}`,onClick:()=>T(M._id),disabled:!g,children:[u.jsx(nb,{size:12})," ",M.likes?M.likes.length:0]}),u.jsxs("button",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full ${g&&M.dislikes&&M.dislikes.includes(g._id)?"bg-red-200 dark:bg-red-900 text-red-700 dark:text-red-300":"bg-gray-100 dark:bg-gray-800 text-lighttext dark:text-darktext"}`,onClick:()=>D(M._id),disabled:!g,children:[u.jsx(tb,{size:12})," ",M.dislikes?M.dislikes.length:0]})]})]})]},M._id))})]})}function WS({message:a,type:t,onClose:r}){return a?u.jsx("div",{className:`fixed bottom-4 sm:bottom-6 left-1/2 transform -translate-x-1/2 z-50 px-4 sm:px-6 py-3 sm:py-4 rounded-lg shadow-lg text-white text-sm sm:text-base font-medium transition-all duration-300 max-w-sm sm:max-w-md mx-4
            ${t==="success"?"bg-green-600":"bg-red-600"}`,role:"alert",children:u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[u.jsx("span",{className:"flex-1",children:a}),u.jsx("button",{onClick:r,className:"ml-2 sm:ml-4 text-white/80 hover:text-white text-lg font-bold flex-shrink-0",children:""})]})}):null}function eE(){const{id:a}=hu(),t=Bn(),[r,i]=j.useState(null),[l,d]=j.useState([]),[f,p]=j.useState(!0),[m,g]=j.useState(""),v=j.useRef(null),[y,w]=j.useState(0),[B,S]=j.useState(0),[k,T]=j.useState(!1),[D,I]=j.useState(!1),[H,M]=j.useState({message:"",type:"success"}),[U,ne]=j.useState(!1),[Q,G]=j.useState(!1);console.log(" BlogReadPage: Component rendered with ID:",a),j.useEffect(()=>{const $=console.error;return console.error=(...J)=>{console.log(" BlogReadPage: Intercepted error:",...J),$.apply(console,J)},()=>{console.error=$}},[]),j.useEffect(()=>{const $=window.onerror,J=window.onunhandledrejection;return window.onerror=function(X,A,K,W,oe){if(A&&(A.includes("interceptor.js")||A.includes("js.js")||A.includes("content.js")))return console.warn(" Suppressed external script error:",X),!0;if(console.error(" BlogReadPage: Window error:",X,A,K,W,oe),$)return $(X,A,K,W,oe)},window.onunhandledrejection=function(X){if(X.reason&&X.reason.toString().includes("widgetId")){console.warn(" Suppressed external script unhandled rejection:",X.reason),X.preventDefault();return}console.error(" BlogReadPage: Unhandled rejection:",X.reason),J&&J(X)},()=>{window.onerror=$,window.onunhandledrejection=J}},[]),j.useEffect(()=>{console.log(" BlogReadPage: Admin check effect running"),cr().then($=>{console.log(" BlogReadPage: Current user:",$),T($&&$.role==="admin")}).catch($=>{console.error(" BlogReadPage: Error getting current user:",$)})},[]),j.useEffect(()=>{(async()=>{console.log(" BlogReadPage: Starting to fetch blog with ID:",a),p(!0),g("");try{const J=await fetch(`/api/posts/${a}`);console.log(" BlogReadPage: Fetch response status:",J.status);const X=await J.json();console.log(" BlogReadPage: Fetch response data:",X),X.success&&X.blog?(console.log(" BlogReadPage: Setting blog data:",X.blog),console.log(" BlogReadPage: Blog content details:",{hasContent:!!X.blog.content,contentType:typeof X.blog.content,hasBlocks:!!X.blog.content?.blocks,blocksLength:X.blog.content?.blocks?.length,contentKeys:X.blog.content?Object.keys(X.blog.content):"no content",contentPreview:X.blog.content?JSON.stringify(X.blog.content).substring(0,300)+"...":"no content"}),i(X.blog)):(console.error(" BlogReadPage: Blog not found or invalid response"),g("Blog not found"))}catch(J){console.error(" BlogReadPage: Fetch error:",J),g("Failed to fetch blog")}finally{p(!1)}})()},[a]),j.useEffect(()=>{(async()=>{try{const X=await(await fetch("/api/posts")).json();X.success&&X.blogs&&d(X.blogs.filter(A=>A._id!==a))}catch(J){console.error(" BlogReadPage: Error fetching other blogs:",J)}})()},[a]),j.useEffect(()=>{if(console.log(" BlogReadPage: EditorJS effect running, blog:",r),v.current&&typeof v.current.destroy=="function"){try{console.log(" BlogReadPage: Destroying previous editor instance"),v.current.destroy()}catch($){console.error(" BlogReadPage: Error destroying EditorJS:",$)}v.current=null}if(r&&(console.log(" BlogReadPage: Blog content structure:",r.content),console.log(" BlogReadPage: Blog content type:",typeof r.content),console.log(" BlogReadPage: Blog content blocks:",r.content?.blocks)),r&&r.content&&!Q){console.log(" BlogReadPage: Starting EditorJS initialization"),ne(!1);let $=r.content;if(typeof r.content=="string")try{console.log(" BlogReadPage: Parsing content as JSON"),$=JSON.parse(r.content)}catch(X){console.error(" BlogReadPage: Failed to parse content as JSON:",X),g("Content format is invalid");return}if(!$||!$.blocks||!Array.isArray($.blocks)||$.blocks.length===0){console.error(" BlogReadPage: Content does not have expected structure:",$),g("Content is not available in the expected format");return}(async()=>{try{if(!r||!r.content){console.log(" BlogReadPage: Blog changed during initialization, aborting");return}console.log(" BlogReadPage: Creating new EditorJS instance"),v.current=new bv({holder:"editorjs-read",data:$,readOnly:!0,tools:{header:{class:vv,config:{placeholder:"Enter a header",levels:[1,2,3,4,5,6],defaultLevel:2}},image:{class:kv,config:{endpoints:{byFile:"/api/posts/upload-image",byUrl:"/api/posts/upload-image"}}},list:{class:Ka,inlineToolbar:!0,config:{defaultStyle:"unordered"}}},minHeight:0,placeholder:"Start writing your blog...",onReady:()=>{console.log(" BlogReadPage: EditorJS is ready"),ne(!0),g("")},onChange:()=>{}}),console.log(" BlogReadPage: EditorJS instance created successfully")}catch(X){console.error(" BlogReadPage: Error initializing EditorJS:",X),g("Failed to load blog content properly"),ne(!1)}})()}else r&&r.content&&Q?(console.log(" BlogReadPage: Test mode - bypassing EditorJS, using fallback renderer"),ne(!0)):console.log(" BlogReadPage: No blog or content available for EditorJS");return()=>{if(v.current&&typeof v.current.destroy=="function"){try{console.log(" BlogReadPage: Cleaning up editor instance"),v.current.destroy()}catch($){console.error(" BlogReadPage: Error destroying EditorJS:",$)}v.current=null}}},[r,Q]),j.useEffect(()=>{r&&(w(r.likes?r.likes.length:0),S(r.dislikes?r.dislikes.length:0))},[r]);const Z=async()=>{try{const J=await(await fetch(`/api/posts/${a}/like`,{method:"POST",credentials:"include"})).json();J.success?(w(J.likes),S(J.dislikes)):(console.error(" BlogReadPage: Like failed:",J.message),M({message:J.message||"Failed to like post",type:"error"}))}catch($){console.error(" BlogReadPage: Like error:",$),M({message:"Network error. Please try again.",type:"error"})}},ie=async()=>{try{const J=await(await fetch(`/api/posts/${a}/dislike`,{method:"POST",credentials:"include"})).json();J.success?(w(J.likes),S(J.dislikes)):(console.error(" BlogReadPage: Dislike failed:",J.message),M({message:J.message||"Failed to dislike post",type:"error"}))}catch($){console.error(" BlogReadPage: Dislike error:",$),M({message:"Network error. Please try again.",type:"error"})}},ce=async()=>{if(window.confirm("Are you sure you want to delete this post? This action cannot be undone.")){I(!0);try{const $=await fetch(`/api/posts/${a}`,{method:"DELETE",credentials:"include"}),J=await $.json();$.ok&&J.success?(M({message:"Blog deleted successfully.",type:"success"}),setTimeout(()=>{M({message:"",type:"success"}),t("/")},1500)):M({message:J.message||"Failed to delete blog.",type:"error"})}catch($){console.error(" BlogReadPage: Delete error:",$),M({message:"Network error. Please try again.",type:"error"})}finally{I(!1)}}},ee=$=>{if(console.log(" BlogReadPage: renderFallbackContent called with:",$),!$)return console.log(" BlogReadPage: No content provided to fallback renderer"),null;let J=$;if(typeof $=="string")try{console.log(" BlogReadPage: Parsing string content as JSON"),J=JSON.parse($)}catch{return console.log(" BlogReadPage: Content is not JSON, treating as plain text"),u.jsx("div",{className:"whitespace-pre-wrap text-lighttext dark:text-darktext",children:$})}return!J||!J.blocks||!Array.isArray(J.blocks)?(console.log(" BlogReadPage: Content does not have expected blocks structure:",J),u.jsx("div",{className:"text-lightsecondary dark:text-darksecondary italic",children:"No content available"})):(console.log(" BlogReadPage: Rendering",J.blocks.length,"blocks"),u.jsx("div",{className:"space-y-4",children:J.blocks.map((X,A)=>{try{switch(console.log(" BlogReadPage: Rendering block",A,"of type:",X.type),X.type){case"paragraph":return u.jsx("p",{className:"text-lighttext dark:text-darktext leading-relaxed",children:X.data?.text||""},A);case"header":{const K=`h${X.data?.level||2}`;return u.jsx(K,{className:"font-bold text-lighttext dark:text-darktext",children:X.data?.text||""},A)}case"list":{const K=X.data?.style==="ordered"?"ol":"ul";return u.jsx(K,{className:"list-disc list-inside space-y-1",children:X.data?.items?.map((W,oe)=>u.jsx("li",{className:"text-lighttext dark:text-darktext",children:W},oe))},A)}case"image":return u.jsxs("div",{className:"my-4",children:[u.jsx("img",{src:X.data?.file?.url||X.data?.url,alt:X.data?.caption||"Blog image",className:"max-w-full h-auto rounded-lg",onError:K=>{console.log(" BlogReadPage: Image failed to load, hiding it"),K.target.style.display="none"}}),X.data?.caption&&u.jsx("p",{className:"text-sm text-lightsecondary dark:text-darksecondary mt-2 text-center",children:X.data.caption})]},A);default:return console.log(" BlogReadPage: Unsupported block type:",X.type),u.jsxs("div",{className:"text-lightsecondary dark:text-darksecondary italic",children:["Unsupported content type: ",X.type]},A)}}catch(K){return console.error(" BlogReadPage: Error rendering block:",K,X),u.jsx("div",{className:"text-lightsecondary dark:text-darksecondary italic",children:"Error rendering content block"},A)}})}))};return f?u.jsx("div",{className:"min-h-screen bg-lightbg dark:bg-darkbg flex items-center justify-center px-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 sm:h-12 sm:w-12 border-b-2 border-lightaccent dark:border-darkaccent mx-auto mb-3 sm:mb-4"}),u.jsx("p",{className:"text-lightsecondary dark:text-darksecondary text-sm sm:text-lg",children:"Loading blog..."})]})}):m?u.jsx("div",{className:"min-h-screen bg-lightbg dark:bg-darkbg flex items-center justify-center px-4",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-600 text-red-700 dark:text-red-300 px-4 py-3 rounded mb-4",children:u.jsx("p",{className:"text-sm sm:text-lg",children:m})}),u.jsx("button",{onClick:()=>window.location.reload(),className:"bg-lightaccent dark:bg-darkaccent text-white px-4 py-2 rounded hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors text-sm sm:text-base",children:"Try Again"})]})}):r?u.jsxs(u.Fragment,{children:[u.jsx(WS,{message:H.message,type:H.type,onClose:()=>M({message:"",type:H.type})}),u.jsx("div",{className:"min-h-screen bg-lightbg dark:bg-darkbg py-4 sm:py-6 lg:py-8",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-10 gap-6 sm:gap-8 lg:gap-12",children:[u.jsxs("main",{className:"lg:col-span-7 order-2 lg:order-1",children:[u.jsxs("article",{className:"bg-white dark:bg-darkbg rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[r.featuredImage&&u.jsx("img",{src:r.featuredImage,alt:r.title,className:"w-full h-48 sm:h-64 md:h-80 lg:h-96 object-cover",onError:$=>{$.target.style.display="none"}}),u.jsxs("div",{className:"p-4 sm:p-6 lg:p-10",children:[u.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-lighttext dark:text-darktext mb-4 sm:mb-6 leading-tight",children:r.title}),u.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 mb-6 sm:mb-8 pb-4 sm:pb-6 border-b border-gray-200 dark:border-gray-700",children:[u.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/20 text-lightaccent dark:text-darkaccent rounded-full text-sm font-medium",children:r.category}),u.jsx("span",{className:"text-lightsecondary dark:text-darksecondary text-xs sm:text-sm",children:new Date(r.createdAt).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})}),r.author&&r.author.username&&u.jsxs("div",{className:"flex items-center gap-2 text-lighttext dark:text-darktext font-medium",children:[r.author.profileImage&&u.jsx("img",{src:r.author.profileImage,alt:r.author.username,className:"w-6 h-6 rounded-full object-cover border border-gray-300 dark:border-gray-600"}),u.jsx("span",{children:r.author.username})]})]}),u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-6 sm:mb-8",children:[u.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-3 sm:px-4 py-2 bg-green-100 text-green-700 rounded-lg font-medium hover:bg-green-200 transition-colors text-sm sm:text-base",children:[u.jsx(nb,{className:"text-sm"}),u.jsx("span",{children:y})]}),u.jsxs("button",{onClick:ie,className:"flex items-center gap-2 px-3 sm:px-4 py-2 bg-red-100 text-red-700 rounded-lg font-medium hover:bg-red-200 transition-colors text-sm sm:text-base",children:[u.jsx(tb,{className:"text-sm"}),u.jsx("span",{children:B})]}),k&&u.jsxs("button",{onClick:ce,disabled:D,className:"flex items-center gap-2 px-3 sm:px-4 py-2 bg-red-100 text-red-700 rounded-lg font-medium hover:bg-red-200 transition-colors text-sm sm:text-base disabled:opacity-50 disabled:cursor-not-allowed ml-auto",children:[u.jsx(Ro,{className:"text-sm"}),u.jsx("span",{children:D?"Deleting...":"Delete"})]}),u.jsx("button",{onClick:()=>G(!Q),className:"flex items-center gap-2 px-3 sm:px-4 py-2 bg-purple-100 text-purple-700 rounded-lg font-medium hover:bg-purple-200 transition-colors text-sm sm:text-base",children:u.jsxs("span",{children:[Q?"Disable":"Enable"," Test Mode"]})})]}),u.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-6",children:[u.jsx("h3",{className:"text-yellow-800 dark:text-yellow-200 font-bold mb-2",children:"Debug Info:"}),u.jsxs("div",{className:"text-sm text-yellow-700 dark:text-yellow-300 space-y-1",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Blog ID:"})," ",r._id]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Has Content:"})," ",r.content?"Yes":"No"]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Content Type:"})," ",typeof r.content]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Has Blocks:"})," ",r.content?.blocks?"Yes":"No"]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Blocks Length:"})," ",r.content?.blocks?.length||0]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Editor Loaded:"})," ",U?"Yes":"No"]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Test Mode:"})," ",Q?"Yes":"No"]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Error:"})," ",m||"None"]})]}),u.jsxs("div",{className:"mt-3",children:[u.jsx("h4",{className:"text-yellow-800 dark:text-yellow-200 font-semibold mb-1",children:"Raw Content Preview:"}),u.jsx("pre",{className:"text-xs bg-yellow-100 dark:bg-yellow-900 p-2 rounded overflow-auto max-h-32",children:r.content?JSON.stringify(r.content,null,2).substring(0,500)+"...":"No content"})]})]}),u.jsx("div",{className:"prose prose-sm sm:prose-base lg:prose-lg text-lighttext dark:text-darktext max-w-none leading-relaxed dark:prose-invert",children:(()=>{try{return u.jsxs(u.Fragment,{children:[Q&&u.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4 mb-4",children:[u.jsx("p",{className:"text-purple-700 dark:text-purple-300 font-medium",children:"Test Mode Active"}),u.jsx("p",{className:"text-purple-600 dark:text-purple-400 text-sm mt-1",children:"EditorJS is bypassed. Using fallback renderer."})]}),u.jsx("div",{id:"editorjs-read"}),!U&&r.content&&u.jsx("div",{className:"mt-4",children:ee(r.content)}),m&&u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mt-4",children:[u.jsx("p",{className:"text-red-700 dark:text-red-300 font-medium",children:"Content Error"}),u.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:m}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-red-200 dark:border-red-800",children:[u.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm font-medium mb-2",children:"Fallback Content:"}),ee(r.content)]})]}),r.content&&!m&&!U&&(!r.content.blocks||r.content.blocks.length===0)&&u.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mt-4",children:[u.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 font-medium",children:"Content Notice"}),u.jsx("p",{className:"text-yellow-600 dark:text-yellow-400 text-sm mt-1",children:"Content is not available in the expected format. This might be due to a content format issue."}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-yellow-200 dark:border-yellow-800",children:[u.jsx("p",{className:"text-yellow-600 dark:text-yellow-400 text-sm font-medium mb-2",children:"Fallback Content:"}),ee(r.content)]})]})]})}catch($){return console.error(" BlogReadPage: Error rendering blog content:",$),u.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mt-4",children:[u.jsx("p",{className:"text-red-700 dark:text-red-300 font-medium",children:"Content Rendering Error"}),u.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:"There was an error rendering the blog content. Please try refreshing the page."})]})}})()})]})]}),u.jsx("div",{className:"mt-6 sm:mt-8",children:u.jsx(JS,{blogId:r._id})})]}),u.jsx("aside",{className:"lg:col-span-3 order-1 lg:order-2",children:u.jsx("div",{className:"lg:sticky lg:top-24",children:u.jsxs("div",{className:"bg-white dark:bg-darkbg rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-3 sm:p-4",children:[u.jsx("h2",{className:"text-base font-bold text-lighttext dark:text-darktext mb-3",children:"Other Blogs"}),u.jsx("div",{className:"space-y-2",children:l.slice(0,2).map($=>u.jsx(Rs,{id:$._id,image:$.featuredImage,category:$.category,title:$.title,excerpt:$.content?.blocks?.find(J=>J.type==="paragraph")?.data?.text?.slice(0,50)||"",date:new Date($.createdAt).toLocaleDateString(),readTime:(()=>{if(!$.content?.blocks)return"1 min";const J=$.content.blocks.map(A=>A.data?.text||"").join(" ").split(/\s+/).length;return`${Math.max(1,Math.round(J/200))} min`})(),compact:!0},$._id))})]})})})]})})})]}):null}function tE(){const[a,t]=j.useState(""),[r,i]=j.useState(null),[l,d]=j.useState("all"),[f,p]=j.useState(null),[m,g]=j.useState(null),[v,y]=j.useState(!1),[w,B]=j.useState(""),[S,k]=j.useState(""),T=j.useRef(),D=j.useRef(),[I,H]=j.useState(!0),[M,U]=j.useState(!1),[ne,Q]=j.useState(!1),[G,Z]=j.useState(null),[ie,ce]=j.useState(!1),ee=Bn(),[$]=j2();j.useEffect(()=>{(async()=>{const oe=await cr();oe&&oe.role==="admin"&&U(!0),H(!1)})()},[ee]),j.useEffect(()=>{const W=$.get("edit");W&&!I&&M&&(Q(!0),Z(W),J(W))},[$,I,M]);const J=async W=>{ce(!0);try{const C=await(await fetch(`/api/posts/${W}`,{credentials:"include"})).json();if(C.success&&C.blog){const q=C.blog;t(q.title),d(q.category),i(q.content),q.featuredImage&&g(q.featuredImage)}else k("error"),B("Failed to load post for editing")}catch(oe){console.error("Error loading post for editing:",oe),k("error"),B("Failed to load post for editing")}finally{ce(!1)}};j.useLayoutEffect(()=>(!I&&M&&!D.current&&(async()=>{try{const oe={holder:"editorjs",tools:{header:{class:vv,config:{placeholder:"Enter a header",levels:[1,2,3],defaultLevel:2}},list:{class:Ka,inlineToolbar:!0},image:{class:kv,config:{uploader:{uploadByFile:A}}}},placeholder:"Start writing your post...",onChange:async()=>{try{if(D.current){const C=await D.current.save();i(q=>JSON.stringify(q)!==JSON.stringify(C)?C:q)}}catch(C){console.error("Error saving editor data:",C)}}};ne&&r&&(oe.data=r),D.current=new bv(oe)}catch(oe){console.error("Error initializing editor:",oe)}})(),()=>{if(D.current&&typeof D.current.destroy=="function"){try{D.current.destroy()}catch(W){console.error("Error destroying editor:",W)}D.current=null}}),[I,M]),j.useEffect(()=>{ne&&r&&D.current&&D.current.render(r).catch(W=>{console.error("Error rendering editor data:",W)})},[ne,r]),j.useEffect(()=>{!I&&!M&&ee("/",{replace:!0})},[I,M,ee]);const X=W=>{const oe=W.target.files[0];if(oe){const C=new FileReader;C.onloadend=()=>{g(C.result),p(oe)},C.readAsDataURL(oe)}else g(null),p(null)},A=async W=>{try{const oe=new FormData;oe.append("image",W);const q=await(await fetch("/api/posts/upload-image",{method:"POST",credentials:"include",body:oe})).json();if(q.success&&q.file?.url)return{success:1,file:{url:q.file.url}};throw new Error("Image upload failed")}catch(oe){return console.error("Image upload error:",oe),{success:0,message:"Image upload failed"}}},K=async W=>{W.preventDefault(),y(!0),B("");try{const oe=await D.current.save();console.log(" CreatePost: Editor data structure:",{hasData:!!oe,hasBlocks:!!oe?.blocks,blocksLength:oe?.blocks?.length,dataType:typeof oe,contentPreview:oe?JSON.stringify(oe).substring(0,200)+"...":"no data"});const C=new FormData;C.append("title",a),C.append("content",JSON.stringify(oe)),C.append("category",l),f&&C.append("featuredImage",f),console.log(" CreatePost: Sending data:",{title:a,category:l,contentLength:JSON.stringify(oe).length,hasFeaturedImage:!!f});const q=ne?`/api/posts/${G}`:"/api/posts/create",re=ne?"PUT":"POST";console.log(" CreatePost: Making request to:",q,"with method:",re);const te=await fetch(q,{method:re,credentials:"include",body:C}),le=await te.json();console.log(" CreatePost: Response status:",te.status),console.log(" CreatePost: Response data:",le),te.ok?(k("success"),B(ne?"Post updated successfully! Redirecting...":"Post created successfully! Redirecting..."),setTimeout(()=>{ee(`/blog/${le.post._id}`)},2e3)):(k("error"),B(le.message||(ne?"Failed to update post":"Failed to create post")))}catch(oe){console.error(" CreatePost: Submit error:",oe),k("error"),B("Network error. Please try again.")}finally{y(!1)}};return I||ie?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 text-lg",children:ie?"Loading post for editing...":"Loading..."})]})}):u.jsxs("div",{className:"min-h-screen bg-lightbg dark:bg-darkbg",children:[u.jsx("div",{className:"bg-white dark:bg-darkbg border-b border-gray-200 dark:border-gray-700",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsx("div",{className:"flex items-center space-x-4",children:u.jsxs("button",{onClick:()=>ee("/"),className:"flex items-center space-x-2 text-lightsecondary dark:text-darksecondary hover:text-lightaccent dark:hover:text-darkaccent transition-colors",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),u.jsx("span",{className:"font-medium",children:"Back to Home"})]})}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("button",{type:"button",onClick:()=>ee("/"),className:"px-4 py-2 text-lightsecondary dark:text-darksecondary font-medium border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",onClick:K,disabled:!a||!r||v,className:"px-6 py-2 bg-lightaccent dark:bg-darkaccent text-white font-medium rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center space-x-2 shadow-sm",children:v?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u.jsx("span",{children:"Publishing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),u.jsx("span",{children:ne?"Update Post":"Publish Post"})]})})]})]})})}),w&&u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4",children:u.jsx("div",{className:`p-4 rounded-lg border ${S==="success"?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 border-green-200 dark:border-green-600":"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300 border-red-200 dark:border-red-600"}`,children:w})}),u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsx("div",{className:"lg:col-span-1",children:u.jsxs("div",{className:"bg-white dark:bg-darkbg rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-lighttext dark:text-darktext mb-6",children:"Post Settings"}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-lighttext dark:text-darktext mb-2",children:"Category"}),u.jsxs("select",{value:l,onChange:W=>d(W.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-lightaccent dark:focus:ring-darkaccent focus:border-lightaccent dark:focus:border-darkaccent text-lighttext dark:text-darktext bg-white dark:bg-darkbg",children:[u.jsx("option",{value:"all",children:"All"}),u.jsx("option",{value:"entertainment",children:"Entertainment"}),u.jsx("option",{value:"other",children:"Others"}),u.jsx("option",{value:"plan",children:"Plan"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-lighttext dark:text-darktext mb-2",children:"Featured Image"}),u.jsx("div",{className:"w-full h-48 bg-gray-50 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex items-center justify-center cursor-pointer hover:border-lightaccent dark:hover:border-darkaccent transition-colors",onClick:()=>T.current.click(),children:m?u.jsx("img",{src:m,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}):u.jsxs("div",{className:"text-center",children:[u.jsx("svg",{className:"w-12 h-12 text-gray-400 dark:text-gray-500 mx-auto mb-3",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),u.jsx("p",{className:"text-sm text-lightsecondary dark:text-darksecondary font-medium",children:"Click to upload featured image"}),u.jsx("p",{className:"text-xs text-lightsecondary dark:text-darksecondary mt-1",children:"Recommended: 1200x630px"})]})}),u.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:T,onChange:X})]}),u.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[u.jsx("h4",{className:"text-sm font-medium text-lighttext dark:text-darktext mb-3",children:"Post Status"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-lightsecondary dark:text-darksecondary",children:"Title"}),u.jsx("span",{className:a?"text-green-600 dark:text-green-400":"text-red-500 dark:text-red-400",children:a?" Complete":" Required"})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-lightsecondary dark:text-darksecondary",children:"Content"}),u.jsx("span",{className:r?"text-green-600 dark:text-green-400":"text-red-500 dark:text-red-400",children:r?" Complete":" Required"})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-lightsecondary dark:text-darksecondary",children:"Category"}),u.jsx("span",{className:"text-green-600 dark:text-green-400",children:" Complete"})]})]})]})]})}),u.jsx("div",{className:"lg:col-span-2",children:u.jsxs("div",{className:"bg-white dark:bg-darkbg rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[u.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[u.jsx("label",{className:"block text-sm font-medium text-lighttext dark:text-darktext mb-2",children:"Post Title"}),u.jsx("input",{type:"text",value:a,onChange:W=>t(W.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-lightaccent dark:focus:ring-darkaccent focus:border-lightaccent dark:focus:border-darkaccent text-2xl font-bold text-lighttext dark:text-darktext placeholder-gray-400 dark:placeholder-gray-500 bg-white dark:bg-darkbg",placeholder:"Enter your post title...",required:!0})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("label",{className:"block text-sm font-medium text-lighttext dark:text-darktext mb-2",children:"Post Content"}),u.jsx("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg",children:u.jsx("div",{id:"editorjs",className:"p-6 min-h-[500px] text-lighttext dark:text-darktext bg-white dark:bg-darkbg"})})]})]})})]})})]})}function nE(){const[a,t]=j.useState([]),[r,i]=j.useState(!0),[l,d]=j.useState(""),[f,p]=j.useState(null),[m,g]=j.useState(""),v=Bn();j.useEffect(()=>{cr().then(k=>{p(k),!k||k.role!=="admin"?v("/",{replace:!0}):y()})},[]);const y=async()=>{i(!0),d("");try{const T=await(await fetch("http://localhost:5000/api/user/all-accounts",{credentials:"include"})).json();T.success?t(T.users):d("Failed to load accounts")}catch{d("Failed to load accounts")}finally{i(!1)}},w=a.filter(k=>k.username.toLowerCase().includes(m.toLowerCase())||k.email.toLowerCase().includes(m.toLowerCase())),B=Array.from({length:6}),S=k=>{v(`/admin/accounts/${k}`)};return u.jsxs("div",{className:"max-w-5xl mx-auto mt-10 p-4 bg-white dark:bg-darkbg rounded-2xl shadow-lg",children:[u.jsx("h1",{className:"text-2xl font-bold mb-6 text-lighttext dark:text-darktext",children:"All User Accounts"}),u.jsx("div",{className:"mb-4 flex items-center gap-2",children:u.jsxs("div",{className:"relative w-full max-w-xs",children:[u.jsx("span",{className:"absolute left-3 top-2.5 text-gray-400 dark:text-gray-500",children:u.jsx(Xs,{})}),u.jsx("input",{type:"text",placeholder:"Search by username or email...",value:m,onChange:k=>g(k.target.value),className:"pl-9 pr-3 py-2 w-full rounded-md border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-darkbg text-lighttext dark:text-darktext focus:outline-none focus:ring-2 focus:ring-lightaccent dark:focus:ring-darkaccent"})]})}),r?u.jsx("div",{className:"animate-pulse",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"py-2 px-3",children:"User"}),u.jsx("th",{className:"py-2 px-3",children:"Email"}),u.jsx("th",{className:"py-2 px-3",children:"Role"}),u.jsx("th",{className:"py-2 px-3",children:"Joined"})]})}),u.jsx("tbody",{children:B.map((k,T)=>u.jsxs("tr",{children:[u.jsx("td",{className:"py-3 px-3",children:u.jsx("div",{className:"h-6 w-24 bg-gray-200 dark:bg-gray-700 rounded"})}),u.jsx("td",{className:"py-3 px-3",children:u.jsx("div",{className:"h-6 w-32 bg-gray-200 dark:bg-gray-700 rounded"})}),u.jsx("td",{className:"py-3 px-3",children:u.jsx("div",{className:"h-6 w-16 bg-gray-200 dark:bg-gray-700 rounded"})}),u.jsx("td",{className:"py-3 px-3",children:u.jsx("div",{className:"h-6 w-20 bg-gray-200 dark:bg-gray-700 rounded"})})]},T))})]})}):l?u.jsx("div",{className:"text-red-500",children:l}):u.jsx("div",{className:"overflow-x-auto rounded-lg",children:u.jsxs("table",{className:"w-full text-left border-separate border-spacing-y-2",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-indigo-50 dark:bg-gray-900",children:[u.jsxs("th",{className:"py-2 px-3 rounded-l-lg font-semibold text-gray-700 dark:text-gray-200",children:[u.jsx(_r,{className:"inline mr-1"}),"User"]}),u.jsxs("th",{className:"py-2 px-3 font-semibold text-gray-700 dark:text-gray-200",children:[u.jsx(Vs,{className:"inline mr-1"}),"Email"]}),u.jsxs("th",{className:"py-2 px-3 font-semibold text-gray-700 dark:text-gray-200",children:[u.jsx(_o,{className:"inline mr-1"}),"Role"]}),u.jsxs("th",{className:"py-2 px-3 rounded-r-lg font-semibold text-gray-700 dark:text-gray-200",children:[u.jsx(fu,{className:"inline mr-1"}),"Joined"]})]})}),u.jsx("tbody",{children:w.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:4,className:"text-center py-6 text-gray-400 dark:text-darkmuted",children:"No users found."})}):w.map(k=>u.jsxs("tr",{className:"bg-gray-50 dark:bg-darkbg hover:bg-indigo-100 dark:hover:bg-gray-800 transition-all shadow-sm rounded-lg group cursor-pointer",onClick:()=>S(k._id),tabIndex:0,style:{outline:"none"},children:[u.jsxs("td",{className:"py-3 px-3 flex items-center gap-3 min-w-[180px]",children:[u.jsx("img",{src:k.profileImage||`https://ui-avatars.com/api/?name=${encodeURIComponent(k.username)}`,alt:k.username,className:"w-9 h-9 rounded-full object-cover border border-gray-200 dark:border-darkborder shadow-sm"}),u.jsx("span",{className:"font-semibold text-gray-900 dark:text-darktext truncate",title:k.username,children:k.username})]}),u.jsx("td",{className:"py-3 px-3 min-w-[200px]",children:u.jsx("span",{className:"text-gray-600 dark:text-darkmuted truncate",title:k.email,children:k.email})}),u.jsx("td",{className:"py-3 px-3",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold capitalize ${k.role==="admin"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900 dark:text-indigo-200":"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-200"}`,title:k.role==="admin"?"Administrator":"User",children:k.role})}),u.jsx("td",{className:"py-3 px-3 min-w-[120px]",children:u.jsx("span",{className:"text-gray-400 dark:text-darkmuted text-xs",title:new Date(k.createdAt).toLocaleString(),children:new Date(k.createdAt).toLocaleDateString()})})]},k._id))})]})})]})}function rE(){const[a,t]=j.useState([]),[r,i]=j.useState(!0),[l,d]=j.useState(""),[f,p]=j.useState(null),[m,g]=j.useState(!1),[v,y]=j.useState(""),[w,B]=j.useState(!1),[S,k]=j.useState(""),[T,D]=j.useState("");j.useEffect(()=>{I()},[]);const I=async()=>{try{const G=await(await fetch("/api/user/all-accounts",{credentials:"include"})).json();G.success&&t(G.users)}catch(Q){console.error("Failed to fetch users:",Q)}finally{i(!1)}},H=a.filter(Q=>Q.username.toLowerCase().includes(l.toLowerCase())||Q.email.toLowerCase().includes(l.toLowerCase())),M=a.filter(Q=>Q.role==="admin").length,U=async(Q,G)=>{B(!0),k(""),D("");try{let Z=`/api/user/admin/account/${G}`,ie="PUT",ce={};switch(Q){case"block":Z+="/block";break;case"role":const J=a.find(X=>X._id===G);if(!J){k("User not found");return}ce={role:J.role==="admin"?"user":"admin"};break;case"delete":ie="DELETE";break;default:return}const $=await(await fetch(Z,{method:ie,credentials:"include",headers:{"Content-Type":"application/json"},body:Object.keys(ce).length>0?JSON.stringify(ce):void 0})).json();$.success?(await I(),g(!1),p(null),D($.message||"Action successful")):k($.message||"Action failed")}catch{k("Action failed")}finally{B(!1)}},ne=(Q,G)=>{y(Q),p(G),g(!0)};return r?u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-8 w-48 bg-gray-200 dark:bg-gray-700 rounded mb-4"}),u.jsx("div",{className:"space-y-3",children:[...Array(5)].map((Q,G)=>u.jsx("div",{className:"h-16 bg-gray-200 dark:bg-gray-700 rounded"},G))})]})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-lighttext dark:text-darktext mb-2",children:"User Management"}),u.jsx("p",{className:"text-lightsecondary dark:text-darksecondary",children:"Manage all user accounts, roles, and permissions."}),u.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[u.jsxs("span",{className:"text-sm text-lightsecondary dark:text-darksecondary",children:["Total Users: ",a.length]}),u.jsxs("span",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium",children:["Admins: ",M,"/3"]})]})]}),S&&u.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[u.jsx("strong",{className:"font-bold",children:"Error!"}),u.jsxs("span",{className:"block sm:inline",children:[" ",S]})]}),T&&u.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",role:"alert",children:[u.jsx("strong",{className:"font-bold",children:"Success!"}),u.jsxs("span",{className:"block sm:inline",children:[" ",T]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative flex-1 max-w-md",children:[u.jsx(Xs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search users...",value:l,onChange:Q=>d(Q.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-darkbg text-lighttext dark:text-darktext focus:outline-none focus:ring-2 focus:ring-lightaccent dark:focus:ring-darkaccent"})]}),u.jsxs("span",{className:"text-sm text-lightsecondary dark:text-darksecondary",children:[H.length," users found"]})]}),u.jsx("div",{className:"bg-white dark:bg-darkbg rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"User"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Email"}),u.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:["Role",M>=3&&u.jsx("span",{className:"ml-2 text-xs text-red-500",children:"(Limit Reached)"})]}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Joined"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:H.map(Q=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:Q.profileImage?u.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:Q.profileImage,alt:Q.username}):u.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center",children:u.jsx("span",{className:"text-white font-medium",children:Q.username.charAt(0).toUpperCase()})})}),u.jsx("div",{className:"ml-4",children:u.jsx("div",{className:"text-sm font-medium text-lighttext dark:text-darktext",children:Q.username})})]})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-lightsecondary dark:text-darksecondary",children:Q.email}),u.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[u.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Q.role==="admin"?"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:[Q.role==="admin"?u.jsx(_o,{className:"w-3 h-3 mr-1"}):u.jsx(_r,{className:"w-3 h-3 mr-1"}),Q.role]}),Q.role==="admin"&&u.jsxs("div",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:["Admin #",a.filter(G=>G.role==="admin").indexOf(Q)+1]})]}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Q.blocked?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300":"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300"}`,children:Q.blocked?"Blocked":"Active"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-lightsecondary dark:text-darksecondary",children:new Date(Q.createdAt).toLocaleDateString()}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:()=>ne("edit",Q),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:"Edit User",children:u.jsx(W0,{className:"w-4 h-4"})}),Q.role==="user"&&M<3&&u.jsx("button",{onClick:()=>U("role",Q._id),className:"text-purple-600 hover:text-purple-900 dark:text-purple-400 dark:hover:text-purple-300",title:"Promote to Admin",children:u.jsx(_o,{className:"w-4 h-4"})}),Q.role==="admin"&&u.jsx("button",{onClick:()=>U("role",Q._id),className:"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300",title:"Demote to User",children:u.jsx(_r,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>ne("block",Q),className:`${Q.blocked?"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300":"text-yellow-600 hover:text-yellow-900 dark:text-yellow-400 dark:hover:text-yellow-300"}`,title:Q.blocked?"Unblock User":"Block User",children:u.jsx(Zd,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>ne("delete",Q),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Delete User",children:u.jsx(Ro,{className:"w-4 h-4"})})]})})]},Q._id))})]})})}),m&&f&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-darkbg rounded-lg shadow-xl max-w-md w-full p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold text-lighttext dark:text-darktext mb-4",children:[v==="edit"&&"Edit User",v==="block"&&(f.blocked?"Unblock User":"Block User"),v==="delete"&&"Delete User"]}),u.jsx("div",{className:"mb-4",children:u.jsxs("p",{className:"text-lightsecondary dark:text-darksecondary",children:[v==="edit"&&`Edit user: ${f.username}`,v==="block"&&`Are you sure you want to ${f.blocked?"unblock":"block"} ${f.username}?`,v==="delete"&&`Are you sure you want to delete ${f.username}? This action cannot be undone.`]})}),v==="edit"&&u.jsx("div",{className:"space-y-4 mb-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-lighttext dark:text-darktext mb-2",children:"Role"}),u.jsxs("select",{value:f.role,onChange:Q=>p({...f,role:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-darkbg text-lighttext dark:text-darktext focus:outline-none focus:ring-2 focus:ring-lightaccent dark:focus:ring-darkaccent",children:[u.jsx("option",{value:"user",children:"User"}),u.jsxs("option",{value:"admin",disabled:M>=3&&f.role!=="admin",children:["Admin ",M>=3&&f.role!=="admin"?"(Limit Reached)":""]})]}),M>=3&&f.role!=="admin"&&u.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:["Maximum of 3 admins allowed. Current: ",M,"/3"]})]})}),S&&u.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[u.jsx("strong",{className:"font-bold",children:"Error!"}),u.jsxs("span",{className:"block sm:inline",children:[" ",S]})]}),T&&u.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",role:"alert",children:[u.jsx("strong",{className:"font-bold",children:"Success!"}),u.jsxs("span",{className:"block sm:inline",children:[" ",T]})]}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-sm font-medium text-lightsecondary dark:text-darksecondary hover:text-lighttext dark:hover:text-darktext transition-colors",disabled:w,children:"Cancel"}),u.jsx("button",{onClick:()=>U(v,f._id),disabled:w,className:`px-4 py-2 text-sm font-medium text-white rounded-lg transition-colors ${v==="delete"?"bg-red-600 hover:bg-red-700 disabled:bg-red-400":v==="block"?"bg-yellow-600 hover:bg-yellow-700 disabled:bg-yellow-400":"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400"}`,children:w?"Processing...":v==="edit"?"Save Changes":v==="block"?f.blocked?"Unblock":"Block":"Delete"})]})]})})]})}function oE(){const[a,t]=j.useState([]),[r,i]=j.useState(!0),[l,d]=j.useState(""),[f,p]=j.useState(null),[m,g]=j.useState(!1),[v,y]=j.useState(""),[w,B]=j.useState(!1);j.useEffect(()=>{S()},[]);const S=async()=>{try{const M=await(await fetch("/api/posts",{credentials:"include"})).json();M.success&&t(M.blogs)}catch(H){console.error("Failed to fetch posts:",H)}finally{i(!1)}},k=a.filter(H=>H.title.toLowerCase().includes(l.toLowerCase())||H.category.toLowerCase().includes(l.toLowerCase())||H.author&&H.author.username&&H.author.username.toLowerCase().includes(l.toLowerCase())),T=async H=>{B(!0);try{const U=await(await fetch(`/api/posts/${H}`,{method:"DELETE",credentials:"include"})).json();U.success?(await S(),g(!1),p(null)):alert(U.message||"Failed to delete post")}catch{alert("Failed to delete post")}finally{B(!1)}},D=(H,M)=>{y(H),p(M),g(!0)},I=H=>{if(!H?.blocks)return"";const M=H.blocks.find(U=>U.type==="paragraph");return M?M.data.text.slice(0,100)+"...":""};return r?u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-8 w-48 bg-gray-200 dark:bg-gray-700 rounded mb-4"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((H,M)=>u.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded"},M))})]})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-lighttext dark:text-darktext mb-2",children:"Post Management"}),u.jsx("p",{className:"text-lightsecondary dark:text-darksecondary",children:"Manage all blog posts, edit content, and moderate submissions."})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative flex-1 max-w-md",children:[u.jsx(Xs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search posts...",value:l,onChange:H=>d(H.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-darkbg text-lighttext dark:text-darktext focus:outline-none focus:ring-2 focus:ring-lightaccent dark:focus:ring-darkaccent"})]}),u.jsxs("span",{className:"text-sm text-lightsecondary dark:text-darksecondary",children:[k.length," posts found"]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(H=>u.jsxs("div",{className:"bg-white dark:bg-darkbg rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-md transition-shadow",children:[H.featuredImage&&u.jsxs("div",{className:"relative h-48 overflow-hidden",children:[u.jsx("img",{src:H.featuredImage,alt:H.title,className:"w-full h-full object-cover"}),u.jsx("div",{className:"absolute top-2 left-2",children:u.jsx("span",{className:"px-2 py-1 bg-blue-600 text-white text-xs font-semibold rounded",children:H.category})})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-lighttext dark:text-darktext mb-2 line-clamp-2",children:H.title}),u.jsx("p",{className:"text-sm text-lightsecondary dark:text-darksecondary mb-4 line-clamp-3",children:I(H.content)}),u.jsxs("div",{className:"space-y-2 mb-4",children:[u.jsxs("div",{className:"flex items-center text-xs text-lightsecondary dark:text-darksecondary",children:[u.jsx(_r,{className:"w-3 h-3 mr-1"}),u.jsx("span",{children:H.author?.username||"Unknown"})]}),u.jsxs("div",{className:"flex items-center text-xs text-lightsecondary dark:text-darksecondary",children:[u.jsx(J0,{className:"w-3 h-3 mr-1"}),u.jsx("span",{children:new Date(H.createdAt).toLocaleDateString()})]}),u.jsxs("div",{className:"flex items-center text-xs text-lightsecondary dark:text-darksecondary",children:[u.jsx(Xa,{className:"w-3 h-3 mr-1"}),u.jsxs("span",{children:[H.likes?.length||0," likes"]})]})]}),u.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(We,{to:`/blog/${H._id}`,className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:"View Post",children:u.jsx(pu,{className:"w-4 h-4"})}),u.jsx(We,{to:`/create-post?edit=${H._id}`,className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",title:"Edit Post",children:u.jsx(W0,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>D("delete",H),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Delete Post",children:u.jsx(Ro,{className:"w-4 h-4"})})]})})]})]},H._id))}),k.length===0&&!r&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Xa,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-lighttext dark:text-darktext mb-2",children:"No posts found"}),u.jsx("p",{className:"text-lightsecondary dark:text-darksecondary",children:l?"Try adjusting your search terms.":"No posts have been created yet."})]}),m&&f&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-darkbg rounded-lg shadow-xl max-w-md w-full p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-lighttext dark:text-darktext mb-4",children:"Delete Post"}),u.jsx("div",{className:"mb-4",children:u.jsxs("p",{className:"text-lightsecondary dark:text-darksecondary",children:['Are you sure you want to delete "',f.title,'"? This action cannot be undone.']})}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-sm font-medium text-lightsecondary dark:text-darksecondary hover:text-lighttext dark:hover:text-darktext transition-colors",disabled:w,children:"Cancel"}),u.jsx("button",{onClick:()=>T(f._id),disabled:w,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 disabled:bg-red-400 rounded-lg transition-colors",children:w?"Deleting...":"Delete"})]})]})})]})}function aE(){const[a,t]=j.useState(null),[r,i]=j.useState(!0),[l,d]=j.useState(!1),[f,p]=j.useState({text:"",type:""}),[m,g]=j.useState(""),[v,y]=j.useState(""),[w,B]=j.useState(""),[S,k]=j.useState(""),[T,D]=j.useState(""),[I,H]=j.useState(!1),[M,U]=j.useState(null),[ne,Q]=j.useState(null);j.useEffect(()=>{G()},[]);const G=async()=>{try{const ee=await cr();ee&&(t(ee),g(ee.username||""),y(ee.email||""),Q(ee.profileImage||null))}catch(ee){console.error("Failed to fetch user data:",ee)}finally{i(!1)}},Z=ee=>{const $=ee.target.files[0];if($){U($);const J=new FileReader;J.onloadend=()=>{Q(J.result)},J.readAsDataURL($)}},ie=async ee=>{if(ee.preventDefault(),d(!0),p({text:"",type:""}),!(m!==a?.username||M!==null)){p({text:"No changes to save",type:"info"}),d(!1);return}try{const J=new FormData;J.append("username",m),M&&J.append("profileImage",M);const A=await(await fetch("/api/user/update/me",{method:"PUT",credentials:"include",body:J})).json();A.success?(p({text:"Profile updated successfully!",type:"success"}),U(null),t(A.user),Q(A.user.profileImage)):p({text:A.message||"Failed to update profile",type:"error"})}catch(J){console.error("Profile update error:",J),p({text:"Failed to update profile",type:"error"})}finally{d(!1)}},ce=async ee=>{if(ee.preventDefault(),d(!0),p({text:"",type:""}),S!==T){p({text:"New passwords do not match",type:"error"}),d(!1);return}if(S.length<6){p({text:"Password must be at least 6 characters long",type:"error"}),d(!1);return}if(!w){p({text:"Current password is required",type:"error"}),d(!1);return}try{const J=await(await fetch("/api/user/change-password",{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:w,newPassword:S})})).json();J.success?(p({text:"Password changed successfully!",type:"success"}),B(""),k(""),D("")):p({text:J.message||"Failed to change password",type:"error"})}catch($){console.error("Password change error:",$),p({text:"Failed to change password",type:"error"})}finally{d(!1)}};return r?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-lightaccent dark:border-darkaccent"})}):u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-lighttext dark:text-darktext mb-2",children:"My Account"}),u.jsx("p",{className:"text-lightsecondary dark:text-darksecondary",children:"Manage your profile information and account settings."})]}),f.text&&u.jsx("div",{className:`p-4 rounded-lg ${f.type==="success"?"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-300":f.type==="error"?"bg-red-100 text-red-700 dark:bg-red-900/20 dark:text-red-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300"}`,children:f.text}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"bg-white dark:bg-darkbg rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold text-lighttext dark:text-darktext mb-6 flex items-center",children:[u.jsx(_r,{className:"w-5 h-5 mr-2"}),"Profile Information"]}),u.jsxs("form",{onSubmit:ie,className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx("img",{src:ne||"/default-avatar.png",alt:"Profile",className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200 dark:border-gray-600"}),u.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-500 text-white p-1 rounded-full cursor-pointer hover:bg-blue-600 transition-colors",children:[u.jsx(V2,{className:"w-3 h-3"}),u.jsx("input",{type:"file",accept:"image/*",onChange:Z,className:"hidden"})]})]}),u.jsx("div",{children:u.jsx("p",{className:"text-sm text-lightsecondary dark:text-darksecondary",children:"Click the camera icon to change your profile picture"})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-lighttext dark:text-darktext mb-2",children:"Username"}),u.jsxs("div",{className:"relative",children:[u.jsx(_r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",value:m,onChange:ee=>g(ee.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-darkbg text-lighttext dark:text-darktext focus:outline-none focus:ring-2 focus:ring-lightaccent dark:focus:ring-darkaccent",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-lighttext dark:text-darktext mb-2",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(Vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"email",value:v,readOnly:!0,className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"})]}),u.jsx("p",{className:"text-xs text-lightsecondary dark:text-darksecondary mt-1",children:"Email cannot be changed for security reasons"})]}),u.jsxs("button",{type:"submit",disabled:l,className:"w-full flex items-center justify-center space-x-2 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:bg-blue-400 transition-colors",children:[u.jsx(Z2,{className:"w-4 h-4"}),u.jsx("span",{children:l?"Saving...":"Save Changes"})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-darkbg rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[u.jsxs("h3",{className:"text-lg font-semibold text-lighttext dark:text-darktext mb-6 flex items-center",children:[u.jsx(za,{className:"w-5 h-5 mr-2"}),"Change Password"]}),u.jsxs("form",{onSubmit:ce,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-lighttext dark:text-darktext mb-2",children:"Current Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:I?"text":"password",value:w,onChange:ee=>B(ee.target.value),className:"pl-10 pr-10 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-darkbg text-lighttext dark:text-darktext focus:outline-none focus:ring-2 focus:ring-lightaccent dark:focus:ring-darkaccent",required:!0}),u.jsx("button",{type:"button",onClick:()=>H(!I),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:I?u.jsx(G2,{className:"w-4 h-4"}):u.jsx(pu,{className:"w-4 h-4"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-lighttext dark:text-darktext mb-2",children:"New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:I?"text":"password",value:S,onChange:ee=>k(ee.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-darkbg text-lighttext dark:text-darktext focus:outline-none focus:ring-2 focus:ring-lightaccent dark:focus:ring-darkaccent",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-lighttext dark:text-darktext mb-2",children:"Confirm New Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:I?"text":"password",value:T,onChange:ee=>D(ee.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-darkbg text-lighttext dark:text-darktext focus:outline-none focus:ring-2 focus:ring-lightaccent dark:focus:ring-darkaccent",required:!0})]})]}),u.jsxs("button",{type:"submit",disabled:l,className:"w-full flex items-center justify-center space-x-2 bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 disabled:bg-green-400 transition-colors",children:[u.jsx(za,{className:"w-4 h-4"}),u.jsx("span",{children:l?"Changing...":"Change Password"})]})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-darkbg rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-lighttext dark:text-darktext mb-4",children:"Account Information"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-lightsecondary dark:text-darksecondary",children:"Role"}),u.jsx("p",{className:"text-lighttext dark:text-darktext font-medium",children:a?.role})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-lightsecondary dark:text-darksecondary",children:"Member Since"}),u.jsx("p",{className:"text-lighttext dark:text-darktext font-medium",children:a?.createdAt?new Date(a.createdAt).toLocaleDateString():"N/A"})]})]})]})]})}function _0({setActiveTab:a}){const[t,r]=j.useState({totalUsers:0,totalPosts:0,totalComments:0,totalViews:0}),[i,l]=j.useState(!0);j.useEffect(()=>{d()},[]);const d=async()=>{try{console.log("Fetching stats...");const[p,m,g]=await Promise.all([fetch("/api/user/all-accounts",{credentials:"include"}),fetch("/api/posts",{credentials:"include"}),fetch("/api/user/comments",{credentials:"include"})]);console.log("API responses:",{usersRes:p,postsRes:m,commentsRes:g});const[v,y,w]=await Promise.all([p.json(),m.json(),g.json()]);console.log("API data:",{usersData:v,postsData:y,commentsData:w}),r({totalUsers:v.success?v.users.length:0,totalPosts:y.success?y.blogs.length:0,totalComments:w.success?w.comments.length:0,totalViews:y.success?y.blogs.reduce((B,S)=>B+(S.views||0),0):0})}catch(p){console.error("Failed to fetch stats:",p)}finally{l(!1)}},f=[{title:"Total Users",value:t.totalUsers,icon:Qd,color:"bg-blue-500",textColor:"text-blue-500"},{title:"Total Posts",value:t.totalPosts,icon:Xa,color:"bg-green-500",textColor:"text-green-500"},{title:"Total Comments",value:t.totalComments,icon:Ls,color:"bg-purple-500",textColor:"text-purple-500"},{title:"Total Views",value:t.totalViews,icon:pu,color:"bg-orange-500",textColor:"text-orange-500"}];return i?u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((p,m)=>u.jsxs("div",{className:"bg-white dark:bg-darkbg rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 animate-pulse",children:[u.jsx("div",{className:"h-8 w-24 bg-gray-200 dark:bg-gray-700 rounded mb-4"}),u.jsx("div",{className:"h-12 w-16 bg-gray-200 dark:bg-gray-700 rounded"})]},m))}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-lighttext dark:text-darktext mb-2",children:"Dashboard Overview"}),u.jsx("p",{className:"text-lightsecondary dark:text-darksecondary",children:"Welcome to your admin dashboard. Here's an overview of your platform statistics."})]}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map((p,m)=>{const g=p.icon;return u.jsx("div",{className:"bg-white dark:bg-darkbg rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-lightsecondary dark:text-darksecondary",children:p.title}),u.jsx("p",{className:"text-3xl font-bold text-lighttext dark:text-darktext",children:p.value.toLocaleString()})]}),u.jsx("div",{className:`p-3 rounded-full ${p.color} bg-opacity-10`,children:u.jsx(g,{className:`w-6 h-6 ${p.textColor}`})})]})},m)})}),u.jsxs("div",{className:"bg-white dark:bg-darkbg rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-lighttext dark:text-darktext mb-4",children:"Quick Actions"}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsxs("button",{onClick:()=>a("users"),className:"flex items-center justify-center space-x-2 p-4 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[u.jsx(Qd,{className:"w-5 h-5"}),u.jsx("span",{children:"Manage Users"})]}),u.jsxs("button",{onClick:()=>a("posts"),className:"flex items-center justify-center space-x-2 p-4 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[u.jsx(Xa,{className:"w-5 h-5"}),u.jsx("span",{children:"Manage Posts"})]}),u.jsxs("button",{onClick:()=>a("comments"),className:"flex items-center justify-center space-x-2 p-4 bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors",children:[u.jsx(Ls,{className:"w-5 h-5"}),u.jsx("span",{children:"View Comments"})]}),u.jsxs("button",{onClick:()=>a("account"),className:"flex items-center justify-center space-x-2 p-4 bg-orange-50 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 rounded-lg hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors",children:[u.jsx(rb,{className:"w-5 h-5"}),u.jsx("span",{children:"My Account"})]})]})]})]})}function iE(){const[a,t]=j.useState([]),[r,i]=j.useState(!0),[l,d]=j.useState("");j.useEffect(()=>{f()},[]);const f=async()=>{try{const v=await(await fetch("/api/user/comments",{credentials:"include"})).json();v.success&&t(v.comments)}catch(g){console.error("Failed to fetch comments:",g)}finally{i(!1)}},p=a.filter(g=>g.text.toLowerCase().includes(l.toLowerCase())||g.username&&g.username.toLowerCase().includes(l.toLowerCase())),m=async g=>{if(window.confirm("Are you sure you want to delete this comment?"))try{const y=await(await fetch(`/api/comments/${g}`,{method:"DELETE",credentials:"include"})).json();y.success?await f():alert(y.message||"Failed to delete comment")}catch{alert("Failed to delete comment")}};return r?u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-8 w-48 bg-gray-200 dark:bg-gray-700 rounded mb-4"}),u.jsx("div",{className:"space-y-4",children:[...Array(6)].map((g,v)=>u.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded"},v))})]})}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-lighttext dark:text-darktext mb-2",children:"Comment Management"}),u.jsx("p",{className:"text-lightsecondary dark:text-darksecondary",children:"Manage and moderate user comments across all blog posts."})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"relative flex-1 max-w-md",children:[u.jsx(Xs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search comments...",value:l,onChange:g=>d(g.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-darkbg text-lighttext dark:text-darktext focus:outline-none focus:ring-2 focus:ring-lightaccent dark:focus:ring-darkaccent"})]}),u.jsxs("span",{className:"text-sm text-lightsecondary dark:text-darksecondary",children:[p.length," comments found"]})]}),u.jsx("div",{className:"space-y-4",children:p.map(g=>u.jsx("div",{className:"bg-white dark:bg-darkbg rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[u.jsx(_r,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"font-medium text-lighttext dark:text-darktext",children:g.username||"Unknown User"}),u.jsx(J0,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"text-sm text-lightsecondary dark:text-darksecondary",children:new Date(g.createdAt).toLocaleDateString()})]}),u.jsx("p",{className:"text-lighttext dark:text-darktext mb-2",children:g.text}),u.jsxs("div",{className:"flex items-center space-x-4 text-sm text-lightsecondary dark:text-darksecondary",children:[u.jsxs("span",{children:["Post: ",g.postTitle||"Unknown Post"]}),u.jsxs("span",{children:[g.likes?.length||0," likes"]}),u.jsxs("span",{children:[g.dislikes?.length||0," dislikes"]})]})]}),u.jsx("button",{onClick:()=>m(g._id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300 ml-4",title:"Delete Comment",children:u.jsx(Ro,{className:"w-4 h-4"})})]})},g._id))}),p.length===0&&!r&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Ls,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-semibold text-lighttext dark:text-darktext mb-2",children:"No comments found"}),u.jsx("p",{className:"text-lightsecondary dark:text-darksecondary",children:l?"Try adjusting your search terms.":"No comments have been posted yet."})]})]})}function sE(){const[a,t]=j.useState("stats"),[r,i]=j.useState(null),[l,d]=j.useState(!0),f=Bn();j.useEffect(()=>{cr().then(g=>{console.log("Current user:",g),i(g),!g||g.role!=="admin"?(console.log("User not admin, redirecting"),f("/",{replace:!0})):(console.log("User is admin, setting loading to false"),d(!1))}).catch(g=>{console.error("Error getting current user:",g),f("/",{replace:!0})})},[f]);const p=[{id:"stats",label:"Dashboard",icon:X2},{id:"users",label:"Users",icon:Qd},{id:"posts",label:"Posts",icon:Xa},{id:"comments",label:"Comments",icon:Ls},{id:"account",label:"My Account",icon:rb}];if(l)return u.jsx("div",{className:"min-h-screen bg-lightbg dark:bg-darkbg flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-lightaccent dark:border-darkaccent"})});const m=()=>{switch(a){case"stats":return u.jsx(_0,{setActiveTab:t});case"users":return u.jsx(rE,{});case"posts":return u.jsx(oE,{});case"comments":return u.jsx(iE,{});case"account":return u.jsx(aE,{});default:return u.jsx(_0,{setActiveTab:t})}};return u.jsxs("div",{className:"min-h-screen bg-lightbg dark:bg-darkbg",children:[u.jsx("div",{className:"bg-white dark:bg-darkbg border-b border-gray-200 dark:border-gray-700 sticky top-0 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("h1",{className:"text-xl font-bold text-lighttext dark:text-darktext",children:"Admin Panel"}),u.jsxs("span",{className:"text-sm text-lightsecondary dark:text-darksecondary",children:["Welcome, ",r?.username]})]}),u.jsxs("button",{onClick:()=>f("/"),className:"flex items-center space-x-2 text-lightsecondary dark:text-darksecondary hover:text-lighttext dark:hover:text-darktext transition-colors",children:[u.jsx(eb,{}),u.jsx("span",{children:"Exit Admin"})]})]})})}),u.jsx("div",{className:"bg-white dark:bg-darkbg border-b border-gray-200 dark:border-gray-700",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"flex space-x-8 overflow-x-auto",children:p.map(g=>{const v=g.icon;return u.jsxs("button",{onClick:()=>t(g.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${a===g.id?"border-lightaccent dark:border-darkaccent text-lightaccent dark:text-darkaccent":"border-transparent text-lightsecondary dark:text-darksecondary hover:text-lighttext dark:hover:text-darktext"}`,children:[u.jsx(v,{className:"w-4 h-4"}),u.jsx("span",{children:g.label})]},g.id)})})})}),u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:m()})]})}function A0(){const[a,t]=j.useState(null),[r,i]=j.useState(!0),[l,d]=j.useState(""),f=Bn(),{userId:p}=hu();j.useEffect(()=>{t(null),i(!0),d(""),p?fetch(`http://localhost:5000/api/user/profile/${p}`,{credentials:"include"}).then(g=>g.json()).then(g=>{g.success?t(g.user):d(g.message||"Failed to load user info"),i(!1)}).catch(()=>{d("Failed to load user info"),i(!1)}):cr().then(g=>{g?t(g):f("/login",{replace:!0}),i(!1)}).catch(()=>{d("Failed to load user info"),i(!1)})},[f,p]);const m=async()=>{await X0(),f("/login",{replace:!0})};return r?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 text-lg",children:"Loading profile..."})]})}):l?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:u.jsx("p",{className:"text-lg",children:l})}),u.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:"Try Again"})]})}):a?u.jsx("div",{className:"min-h-screen bg-lightbg dark:bg-darkbg py-8",children:u.jsxs("div",{className:"max-w-2xl mx-auto px-4",children:[u.jsxs("div",{className:"bg-white dark:bg-darkbg rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[u.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-8 text-white",children:u.jsxs("div",{className:"flex items-center space-x-6",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("img",{src:a.profileImage||`https://ui-avatars.com/api/?name=${encodeURIComponent(a.username)}&background=2563eb&color=fff&size=120`,alt:a.username,className:"w-24 h-24 rounded-full border-4 border-white shadow-lg object-cover"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-3xl font-bold mb-2",children:a.username}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-white bg-opacity-20 text-white",children:a.role}),u.jsxs("span",{className:"text-blue-100 text-sm",children:["Member since ",new Date(a.createdAt).toLocaleDateString()]})]})]})]})}),u.jsxs("div",{className:"px-6 py-6",children:[u.jsxs("div",{className:"space-y-4",children:[!p&&a.email&&u.jsxs("div",{className:"flex items-center py-3 border-b border-gray-100 dark:border-gray-700",children:[u.jsx("div",{className:"flex-shrink-0 w-8",children:u.jsx(Vs,{className:"text-gray-400 dark:text-gray-500 text-lg"})}),u.jsxs("div",{className:"ml-4 flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-lightsecondary dark:text-darksecondary",children:"Email Address"}),u.jsx("p",{className:"text-lighttext dark:text-darktext",children:a.email})]})]}),u.jsxs("div",{className:"flex items-center py-3 border-b border-gray-100 dark:border-gray-700",children:[u.jsx("div",{className:"flex-shrink-0 w-8",children:u.jsx(_o,{className:"text-gray-400 dark:text-gray-500 text-lg"})}),u.jsxs("div",{className:"ml-4 flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-lightsecondary dark:text-darksecondary",children:"Account Type"}),u.jsx("p",{className:"text-lighttext dark:text-darktext capitalize",children:a.role})]})]}),u.jsxs("div",{className:"flex items-center py-3 border-b border-gray-100 dark:border-gray-700",children:[u.jsx("div",{className:"flex-shrink-0 w-8",children:u.jsx(fu,{className:"text-gray-400 dark:text-gray-500 text-lg"})}),u.jsxs("div",{className:"ml-4 flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-lightsecondary dark:text-darksecondary",children:"Joined"}),u.jsx("p",{className:"text-lighttext dark:text-darktext",children:new Date(a.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),!p&&u.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"flex flex-col space-y-3",children:[u.jsxs("button",{onClick:m,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-gray-600 text-white rounded-md font-medium hover:bg-gray-700 transition-colors duration-200",children:[u.jsx(eb,{className:"text-sm"}),u.jsx("span",{children:"Sign Out"})]}),u.jsx("div",{className:"w-full px-4 py-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-600 rounded-md",children:u.jsxs("div",{className:"flex items-center justify-center space-x-2 text-yellow-800 dark:text-yellow-200",children:[u.jsx(_o,{className:"text-sm"}),u.jsx("span",{className:"text-sm font-medium",children:"Account deletion is temporarily disabled"})]})})]})})]})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("p",{className:"text-lightsecondary dark:text-darksecondary text-sm",children:p?`Viewing ${a.username}'s public profile`:"Your account information"})})]})}):null}function lE(){const{id:a}=hu(),[t,r]=j.useState(null),[i,l]=j.useState(!0),[d,f]=j.useState(""),p=Bn(),[m,g]=j.useState(!1),[v,y]=j.useState(!1);j.useEffect(()=>{l(!0),f(""),fetch(`http://localhost:5000/api/user/admin/account/${a}`,{credentials:"include"}).then(S=>S.json()).then(S=>{S.success?r(S.user):f(S.message||"Failed to load user"),l(!1)}).catch(()=>{f("Failed to load user"),l(!1)})},[a]);const w=async()=>{g(!0),f("");try{const k=await(await fetch(`http://localhost:5000/api/user/admin/account/${a}/block`,{method:"PUT",credentials:"include"})).json();k.success?r(k.user):f(k.message||"Failed to update user")}catch{f("Failed to update user")}g(!1)},B=async()=>{g(!0),f("");try{const k=await(await fetch(`http://localhost:5000/api/user/admin/account/${a}`,{method:"DELETE",credentials:"include"})).json();k.success?p("/admin/accounts"):f(k.message||"Failed to delete user")}catch{f("Failed to delete user")}g(!1)};return u.jsx("div",{className:"min-h-[60vh] flex items-center justify-center py-10 px-2",children:u.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-darkbg rounded-2xl shadow-2xl p-8 flex flex-col items-center relative",children:[u.jsx("button",{onClick:()=>p(-1),className:"absolute left-4 top-4 text-gray-400 dark:text-gray-500 hover:text-lightaccent dark:hover:text-darkaccent text-lg",title:"Back",children:u.jsx($2,{})}),i?u.jsxs("div",{className:"w-full flex flex-col items-center animate-pulse",children:[u.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 mb-4"}),u.jsx("div",{className:"h-6 w-32 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),u.jsx("div",{className:"h-4 w-24 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),u.jsx("div",{className:"h-4 w-20 bg-gray-200 dark:bg-gray-700 rounded mb-2"}),u.jsx("div",{className:"h-4 w-28 bg-gray-200 dark:bg-gray-700 rounded mb-2"})]}):d?u.jsx("div",{className:"text-red-500 text-center py-8",children:d}):t?u.jsxs(u.Fragment,{children:[u.jsx("img",{src:t.profileImage||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.username)}`,alt:t.username,className:"w-24 h-24 rounded-full object-cover border-4 border-indigo-400 shadow-lg mb-4"}),u.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1 flex items-center gap-2",children:[t.username,t.blocked&&u.jsxs("span",{className:"ml-2 px-2 py-0.5 rounded bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-200 text-xs flex items-center gap-1",children:[u.jsx(Zd,{})," Blocked"]})]}),u.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full capitalize mb-4 ${t.role==="admin"?"bg-indigo-100 text-indigo-700 dark:bg-indigo-900 dark:text-indigo-200":"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-200"}`,children:t.role}),u.jsxs("div",{className:"w-full divide-y divide-indigo-100 dark:divide-gray-700 mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3 py-3",children:[u.jsx(Vs,{className:"text-indigo-500 text-lg"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-200 text-base",children:t.email})]}),u.jsxs("div",{className:"flex items-center gap-3 py-3",children:[u.jsx(_o,{className:"text-indigo-500 text-lg"}),u.jsx("span",{className:"text-gray-700 dark:text-gray-200 text-base capitalize",children:t.role})]}),u.jsxs("div",{className:"flex items-center gap-3 py-3",children:[u.jsx(fu,{className:"text-indigo-500 text-lg"}),u.jsxs("span",{className:"text-gray-700 dark:text-gray-200 text-base",children:["Joined on ",new Date(t.createdAt).toLocaleDateString()]})]})]}),u.jsxs("div",{className:"flex gap-4 w-full mt-2",children:[u.jsxs("button",{onClick:w,disabled:m,className:`flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-md font-semibold transition-all duration-200 shadow-md ${t.blocked?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:[u.jsx(Zd,{})," ",t.blocked?"Unblock":"Block"]}),u.jsxs("button",{onClick:()=>y(!0),disabled:m,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-md font-semibold bg-gray-200 hover:bg-red-600 hover:text-white text-gray-700 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-red-700 dark:hover:text-white transition-all duration-200 shadow-md",children:[u.jsx(Ro,{})," Delete"]})]}),v&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl p-6 w-full max-w-xs flex flex-col items-center",children:[u.jsx("p",{className:"text-lg font-semibold mb-4 text-center",children:"Are you sure you want to delete this user?"}),u.jsxs("div",{className:"flex gap-4 w-full",children:[u.jsx("button",{onClick:B,disabled:m,className:"flex-1 px-4 py-2 rounded-md bg-red-600 text-white font-bold hover:bg-red-700 transition-all",children:"Yes, Delete"}),u.jsx("button",{onClick:()=>y(!1),disabled:m,className:"flex-1 px-4 py-2 rounded-md bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 font-bold hover:bg-gray-300 dark:hover:bg-gray-600 transition-all",children:"Cancel"})]})]})})]}):null]})})}class cE extends sn.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){const i=t.message||"",l=t.stack||"";if(r.componentStack,i.includes("widgetId")||l.includes("interceptor.js")||l.includes("js.js")||l.includes("content.js")){console.warn(" ErrorBoundary: Ignoring external script error:",t.message);return}console.error(" ErrorBoundary: Error caught by boundary:",t),console.error(" ErrorBoundary: Error stack:",t.stack),console.error(" ErrorBoundary: Error message:",t.message),console.error(" ErrorBoundary: Error name:",t.name),console.error(" ErrorBoundary: Error info:",r),console.error(" ErrorBoundary: Component stack:",r.componentStack),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?u.jsx("div",{className:"min-h-screen bg-lightbg dark:bg-darkbg flex items-center justify-center px-4",children:u.jsx("div",{className:"bg-white dark:bg-darkbg rounded-2xl shadow-xl p-8 max-w-md w-full border border-gray-200 dark:border-gray-700",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),u.jsx("h1",{className:"text-2xl font-bold text-lighttext dark:text-darktext mb-2",children:"Something went wrong"}),u.jsx("p",{className:"text-lightsecondary dark:text-darksecondary mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),u.jsx("button",{onClick:()=>window.location.reload(),className:"bg-lightaccent dark:bg-darkaccent text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors",children:"Refresh Page"})]})})}):this.props.children}}function dE(){return u.jsx(cE,{children:u.jsx(_2,{children:u.jsx(M2,{children:u.jsxs("div",{className:"bg-lightbg dark:bg-darkbg min-h-screen flex flex-col",children:[u.jsx(L2,{}),u.jsx("div",{className:"flex-1 flex flex-col",children:u.jsxs(g2,{children:[u.jsx(Yt,{path:"/",element:u.jsx(W2,{})}),u.jsx(Yt,{path:"/blog",element:u.jsx(ek,{})}),u.jsx(Yt,{path:"/blog/:id",element:u.jsx(eE,{})}),u.jsx(Yt,{path:"/register",element:u.jsx(tk,{})}),u.jsx(Yt,{path:"/login",element:u.jsx(nk,{})}),u.jsx(Yt,{path:"/create-post",element:u.jsx(tE,{})}),u.jsx(Yt,{path:"/admin",element:u.jsx(sE,{})}),u.jsx(Yt,{path:"/admin/accounts",element:u.jsx(nE,{})}),u.jsx(Yt,{path:"/admin/accounts/:id",element:u.jsx(lE,{})}),u.jsx(Yt,{path:"/profile/:userId",element:u.jsx(A0,{})}),u.jsx(Yt,{path:"/profile",element:u.jsx(A0,{})})]})}),u.jsx(Q2,{})]})})})})}Ey.createRoot(document.getElementById("root")).render(u.jsx(j.StrictMode,{children:u.jsx(S2,{children:u.jsx(dE,{})})}));
